import type { CreateMessageRequest, CreateMessageResult, ElicitRequestFormParams, ElicitRequestURLParams, ElicitResult } from "@modelcontextprotocol/sdk/types.js";
import type { Notification } from "@modelcontextprotocol/sdk/types.js";
import type { BaseConnector, ConnectorInitOptions } from "./connectors/base.js";
import type { ClientInfo } from "./connectors/http.js";
/** Callback for sampling requests (canonical name). */
export type OnSamplingCallback = (params: CreateMessageRequest["params"]) => Promise<CreateMessageResult>;
/** Callback for elicitation requests (canonical name). */
export type OnElicitationCallback = (params: ElicitRequestFormParams | ElicitRequestURLParams) => Promise<ElicitResult>;
/** Callback for notifications (canonical name). */
export type OnNotificationCallback = (notification: Notification) => void | Promise<void>;
/**
 * Callback options shared by per-server config and global defaults.
 * Canonical names: onSampling, onElicitation, onNotification.
 * Deprecated aliases: samplingCallback, elicitationCallback.
 */
export interface CallbackConfig {
    /** Callback for sampling requests from servers. */
    onSampling?: OnSamplingCallback;
    /**
     * @deprecated Use `onSampling` instead. Will be removed in a future version.
     */
    samplingCallback?: OnSamplingCallback;
    /** Callback for elicitation requests from servers. */
    onElicitation?: OnElicitationCallback;
    /**
     * @deprecated Use `onElicitation` instead. Will be removed in a future version.
     */
    elicitationCallback?: OnElicitationCallback;
    /** Callback for notifications from servers. */
    onNotification?: OnNotificationCallback;
}
/**
 * Resolves effective callbacks from per-server and global config with precedence:
 * per-server canonical > per-server deprecated alias > global canonical > global deprecated alias.
 */
export declare function resolveCallbacks(perServer: CallbackConfig | undefined, globalDefaults: CallbackConfig | undefined): {
    onSampling?: OnSamplingCallback;
    onElicitation?: OnElicitationCallback;
    onNotification?: OnNotificationCallback;
};
/**
 * Base server configuration with common optional fields
 */
interface BaseServerConfig extends CallbackConfig {
    clientInfo?: ClientInfo;
}
/**
 * Server configuration for STDIO connectors
 */
export interface StdioServerConfig extends BaseServerConfig {
    command: string;
    args: string[];
    env?: Record<string, string>;
}
/**
 * Server configuration for HTTP connectors
 */
export interface HttpServerConfig extends BaseServerConfig {
    url: string;
    headers?: Record<string, string>;
    fetch?: typeof fetch;
    authToken?: string;
    /** @deprecated Use `authToken` instead. */
    auth_token?: string;
    authProvider?: unknown;
    transport?: "http" | "sse";
    preferSse?: boolean;
    disableSseFallback?: boolean;
}
/**
 * Discriminated union of all supported server configuration types
 */
export type ServerConfig = StdioServerConfig | HttpServerConfig;
/**
 * Top-level MCP client configuration shape.
 * May include global callback defaults and clientInfo applied when per-server config omits them.
 */
export interface MCPClientConfigShape extends CallbackConfig {
    /** Default clientInfo for all servers; overridable per server. */
    clientInfo?: ClientInfo;
    mcpServers?: Record<string, ServerConfig>;
}
/**
 * Normalizes and validates clientInfo from config.
 * Ensures required fields (name, version) are present and merges with defaults.
 */
export declare function normalizeClientInfo(input: unknown): ClientInfo;
export declare function loadConfigFile(filepath: string): Record<string, any>;
export declare function createConnectorFromConfig(serverConfig: ServerConfig, connectorOptions?: Partial<ConnectorInitOptions>): BaseConnector;
export {};
//# sourceMappingURL=config.d.ts.map