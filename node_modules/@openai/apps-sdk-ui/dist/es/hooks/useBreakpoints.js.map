{"version":3,"file":"useBreakpoints.js","sourceRoot":"","sources":["../../../src/hooks/useBreakpoints.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,aAAa,CAAA;AAC3C,OAAO,EAAE,KAAK,EAAE,MAAM,kBAAkB,CAAA;AAExC,MAAM,CAAC,MAAM,KAAK,GAAG,IAAI,GAAG,EAAkB,CAAA;AAC9C,IAAI,UAAU,GAA+B,IAAI,CAAA;AAEjD,oDAAoD;AACpD,MAAM,oBAAoB,GAAyC;IACjE,IAAI,EAAE,GAAG;IACT,IAAI,EAAE,GAAG;IACT,IAAI,EAAE,GAAG;IACT,IAAI,EAAE,IAAI;IACV,IAAI,EAAE,IAAI;IACV,KAAK,EAAE,IAAI;CACH,CAAA;AAEV,MAAM,iBAAiB,GAAG,CAAC,EAAwB,EAAU,EAAE;IAC7D,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,CAAC;QACnB,UAAU,KAAK,gBAAgB,CAAC,QAAQ,CAAC,eAAe,CAAC,CAAA;QAEzD,MAAM,KAAK,GAAG,QAAQ,CACpB,UAAU,CAAC,gBAAgB,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,IAAI,EAAE,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,EAC1E,EAAE,CACH,CAAA;QAED,IAAI,CAAC,KAAK,EAAE,CAAC;YACX,IAAI,KAAK,EAAE,CAAC;gBACV,sCAAsC;gBACtC,OAAO,CAAC,IAAI,CACV,gBAAgB,EAAE,qEAAqE;oBACrF,6FAA6F,CAChG,CAAA;YACH,CAAC;YAED,iFAAiF;YACjF,MAAM,OAAO,GAAG,EAAE,IAAI,oBAAoB,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAA;YACtD,0EAA0E;YAC1E,OAAO,oBAAoB,CAAC,OAAO,CAAC,CAAA;QACtC,CAAC;QAED,KAAK,CAAC,GAAG,CAAC,EAAE,EAAE,KAAK,CAAC,CAAA;IACtB,CAAC;IAED,OAAO,KAAK,CAAC,GAAG,CAAC,EAAE,CAAE,CAAA;AACvB,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,aAAa,GAAG,CAAC,EAAwB,EAAW,EAAE,CACjE,aAAa,CAAC,eAAe,iBAAiB,CAAC,EAAE,CAAC,KAAK,CAAC,CAAA","sourcesContent":["import { useMediaQuery } from \"usehooks-ts\"\nimport { isDev } from \"../lib/constants\"\n\nexport const cache = new Map<string, number>()\nlet rootStyles: CSSStyleDeclaration | null = null\n\n// Fallbacks mirror defaults from postcss.config.mjs\nconst FALLBACK_BREAKPOINTS: Record<AppsSDKUI.Breakpoint, number> = {\n  \"xs\": 380,\n  \"sm\": 576,\n  \"md\": 768,\n  \"lg\": 1024,\n  \"xl\": 1280,\n  \"2xl\": 1536,\n} as const\n\nconst resolveBreakpoint = (bp: AppsSDKUI.Breakpoint): number => {\n  if (!cache.has(bp)) {\n    rootStyles ||= getComputedStyle(document.documentElement)\n\n    const value = parseInt(\n      rootStyles.getPropertyValue(`--breakpoint-${bp}`).trim().replace(\"px\", \"\"),\n      10,\n    )\n\n    if (!value) {\n      if (isDev) {\n        // eslint-disable-next-line no-console\n        console.warn(\n          `--breakpoint-${bp} is not defined in :root. Falling back to default breakpoint map.\\n` +\n            \"This usually means your postcss breakpoints and AppsSDKUI.Breakpoint types are out of sync.\",\n        )\n      }\n\n      // If the breakpoint is not in the fallback map, use the default \"lg\" breakpoint.\n      const validBp = bp in FALLBACK_BREAKPOINTS ? bp : \"lg\"\n      // Return early and don't cache fallbacks in case CSS variables load later\n      return FALLBACK_BREAKPOINTS[validBp]\n    }\n\n    cache.set(bp, value)\n  }\n\n  return cache.get(bp)!\n}\n\nexport const useBreakpoint = (bp: AppsSDKUI.Breakpoint): boolean =>\n  useMediaQuery(`(min-width: ${resolveBreakpoint(bp)}px)`)\n"]}