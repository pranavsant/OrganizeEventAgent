{"version":3,"file":"Tooltip.js","sourceRoot":"","sources":["../../../../src/components/Tooltip/Tooltip.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\"\n\nimport clsx from \"clsx\"\nimport { Tooltip as RadixTooltip, Slot } from \"radix-ui\"\nimport { useState, type MouseEventHandler, type PointerEventHandler } from \"react\"\nimport { useTimeout } from \"usehooks-ts\"\nimport { useEscCloseStack } from \"../../hooks/useEscCloseStack\"\nimport { preventDefaultHandler } from \"../../lib/helpers\"\nimport s from \"./Tooltip.module.css\"\n\nexport type TooltipProps = {\n  children: React.ReactNode\n  /**\n   * The content of the tooltip. If `null`, the tooltip will not render.\n   */\n  content: React.ReactNode\n  /**\n   * Defines the `max-width` of the tooltip content. `\"none\"` creates a single-line, naturally sized tooltip.\n   * @default 300\n   */\n  maxWidth?: number | \"none\"\n  /**\n   * Forces the tooltip to remain open or closed\n   */\n  forceOpen?: boolean\n  /**\n   * Delay of when the tooltip is shown from first interaction, in milliseconds.\n   * @default 150\n   */\n  openDelay?: number\n  /** Indicates that the tooltip has interactive content, and should remain open when hovered. */\n  interactive?: boolean\n  /**\n   * Short, 1-3 word tooltips, stylized inversely from normal tooltips\n   */\n  compact?: boolean\n  /**\n   * Prevents the tooltip from closing when the trigger is clicked right after opening\n   * @default false\n   */\n  preventUnintentionalClickToClose?: true\n  /**\n   * The preferred alignment against the trigger. May change when collisions occur.\n   * @default center\n   */\n  align?: RadixTooltip.TooltipContentProps[\"align\"]\n  /**\n   * An offset in pixels from the \"start\" or \"end\" alignment options.\n   * @default 0\n   */\n  alignOffset?: RadixTooltip.TooltipContentProps[\"alignOffset\"]\n  /**\n   * The preferred side of the trigger to render against when open. Will be reversed when collisions occur.\n   * @default top\n   */\n  side?: RadixTooltip.TooltipContentProps[\"side\"]\n  /**\n   * The distance in pixels from the trigger.\n   * @default 5\n   */\n  sideOffset?: RadixTooltip.TooltipContentProps[\"sideOffset\"]\n  /**\n   * Gutter sizing inside the tooltip content\n   * @default md\n   */\n  gutterSize?: \"sm\" | \"md\" | \"lg\"\n  /** Ref for the tooltip */\n  ref?: React.Ref<HTMLDivElement | null>\n  onPointerDown?: PointerEventHandler\n  onClick?: MouseEventHandler\n  /** Optional class name to apply to the tooltip content */\n  contentClassName?: string\n}\n\nexport const Tooltip = (props: TooltipProps) => {\n  const {\n    ref: forwardedRef,\n    children,\n    content,\n    forceOpen = content === null ? false : undefined,\n    maxWidth = 300,\n    openDelay = 150,\n    interactive = false,\n    compact = false,\n    preventUnintentionalClickToClose,\n    align,\n    alignOffset = 0,\n    side,\n    sideOffset = 5,\n    gutterSize = \"md\",\n    contentClassName,\n    onPointerDown,\n    onClick,\n    ...restProps\n  } = props\n  const [visible, setVisible] = useState<boolean>(false)\n  const [temporarilyPreventClickToClose, setTemporarilyPreventClickToClose] =\n    useState<boolean>(false)\n  useTimeout(\n    () => setTemporarilyPreventClickToClose(false),\n    temporarilyPreventClickToClose ? 400 : null,\n  )\n  const open = forceOpen ?? visible\n\n  const handleOpenChange = (nextState: boolean) => {\n    // When forceOpen is passed, don't manage internal state\n    if (typeof forceOpen === \"boolean\") return\n\n    setVisible(nextState)\n\n    if (preventUnintentionalClickToClose) {\n      setTemporarilyPreventClickToClose(nextState)\n    }\n  }\n\n  const maybePreventClickClose = (evt: React.MouseEvent) => {\n    if (preventUnintentionalClickToClose && temporarilyPreventClickToClose) {\n      // Prevents tooltip listeners from closing\n      evt.preventDefault()\n      evt.stopPropagation()\n    }\n  }\n\n  return (\n    <Root\n      open={open}\n      delayDuration={openDelay}\n      onOpenChange={handleOpenChange}\n      disableHoverableContent={!interactive}\n    >\n      <RadixTooltip.Trigger asChild>\n        <Slot.Root\n          {...restProps}\n          ref={forwardedRef}\n          onPointerDown={(evt) => {\n            maybePreventClickClose(evt)\n            onPointerDown?.(evt)\n          }}\n          onClick={(evt) => {\n            maybePreventClickClose(evt)\n            onClick?.(evt)\n          }}\n        >\n          {children}\n        </Slot.Root>\n      </RadixTooltip.Trigger>\n      <Content\n        maxWidth={maxWidth}\n        compact={compact}\n        align={align}\n        alignOffset={alignOffset}\n        side={side}\n        sideOffset={sideOffset}\n        gutterSize={gutterSize}\n        className={contentClassName}\n      >\n        {content}\n      </Content>\n    </Root>\n  )\n}\n\nconst Root = ({\n  children,\n  open,\n  onOpenChange,\n  ...restProps\n}: RadixTooltip.TooltipProps & {\n  open: boolean\n  onOpenChange: (nextState: boolean) => void\n}) => {\n  useEscCloseStack(open, () => {\n    onOpenChange(false)\n  })\n\n  return (\n    <RadixTooltip.Provider>\n      <RadixTooltip.Root open={open} onOpenChange={onOpenChange} {...restProps}>\n        {children}\n      </RadixTooltip.Root>\n    </RadixTooltip.Provider>\n  )\n}\n\ntype TooltipContentProps = RadixTooltip.TooltipContentProps & {\n  children: React.ReactNode\n  /**\n   * Defines the `max-width` of the tooltip content. `\"none\"` creates a single-line, naturally sized tooltip.\n   * @default 300\n   */\n  maxWidth?: number | \"none\"\n  /**\n   * Short, 1-3 word tooltips, stylized inversely from normal tooltips\n   */\n  compact?: boolean\n  /**\n   * Gutter sizing inside the tooltip content\n   * @default md\n   */\n  gutterSize?: \"sm\" | \"md\" | \"lg\"\n  /** Determines if the tooltip content should respond to click events */\n  clickable?: boolean\n}\n\nexport const Content = ({\n  children,\n  maxWidth = 300,\n  compact = false,\n  clickable = undefined,\n  alignOffset = 0,\n  sideOffset = 5,\n  gutterSize = \"md\",\n  className,\n  style,\n  ...restProps\n}: TooltipContentProps) => {\n  return (\n    <RadixTooltip.Portal>\n      <RadixTooltip.Content\n        {...restProps}\n        className={clsx(s.Tooltip, className)}\n        data-compact={compact}\n        data-clickable={clickable}\n        data-gutter-size={gutterSize}\n        alignOffset={alignOffset}\n        sideOffset={sideOffset}\n        collisionPadding={15}\n        hideWhenDetached\n        style={{\n          ...style,\n          maxWidth,\n        }}\n        onEscapeKeyDown={preventDefaultHandler}\n      >\n        {children}\n      </RadixTooltip.Content>\n    </RadixTooltip.Portal>\n  )\n}\n\ntype TooltipTriggerProps = RadixTooltip.TooltipTriggerProps & {\n  /**\n   * Determines if `tabindex=0` is applied to the trigger\n   * @default true\n   */\n  focusable?: boolean\n  /**\n   * Optional class name to apply to the trigger\n   */\n  className?: string\n  /** Ref for the trigger */\n  ref?: React.Ref<HTMLSpanElement | null>\n}\n\nexport const Trigger = ({\n  children,\n  asChild = true,\n  ...restProps\n}: RadixTooltip.TooltipTriggerProps) => {\n  return (\n    <RadixTooltip.Trigger asChild={asChild} {...restProps}>\n      {children}\n    </RadixTooltip.Trigger>\n  )\n}\n\n// Optional wrapper for tooltip trigger, if the visual content isn't already accessible or with built-in visual indications\nexport const TriggerDecorator = (props: TooltipTriggerProps) => {\n  const { children, className, focusable = true, ref, ...restProps } = props\n  const isPlainText = typeof children === \"string\"\n\n  return (\n    <Slot.Root\n      ref={ref}\n      {...restProps}\n      className={clsx(s.TriggerDecorator, className)}\n      tabIndex={focusable ? 0 : undefined}\n    >\n      {isPlainText ? <span>{children}</span> : children}\n    </Slot.Root>\n  )\n}\n\n// Building advanced tooltip behaviors can be achieved by using the\n// composed components, and wiring up bespoke behaviors.\nTooltip.Root = Root\nTooltip.Content = Content\nTooltip.Trigger = Trigger\n// Basic <Tooltip> usage can be done with the component directly,\n// without requiring controlled component composition.\n// <TriggerDecorator> is a helper component that creates an accessible trigger with a visual effect\nTooltip.TriggerDecorator = TriggerDecorator\n"]}