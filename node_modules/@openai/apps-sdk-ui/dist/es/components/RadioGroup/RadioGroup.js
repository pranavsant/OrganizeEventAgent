"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import clsx from "clsx";
import { RadioGroup as RadixRadioGroup } from "radix-ui";
import React, { createContext, use, useId, useMemo } from "react";
import s from "./RadioGroup.module.css";
const RadioGroupContext = createContext(null);
const useRadioGroupContext = () => {
    const context = use(RadioGroupContext);
    if (!context) {
        throw new Error("RadioGroup components must be wrapped in <RadioGroup />");
    }
    return context;
};
export const RadioGroup = ({ onChange, children, className, direction = "row", disabled = false, ...restProps }) => {
    const store = useMemo(() => ({
        disabled,
        direction,
    }), [disabled, direction]);
    return (_jsx(RadioGroupContext, { value: store, children: _jsx(RadixRadioGroup.Root, { className: clsx(s.RadioGroup, className), "data-direction": direction, onValueChange: onChange, disabled: disabled, ...restProps, children: children }) }));
};
const Item = ({ value, disabled: itemDisabled = false, required, children, className, block = false, ...restProps }) => {
    const { disabled: groupDisabled } = useRadioGroupContext();
    const disabled = groupDisabled || itemDisabled;
    const id = useId();
    const itemId = `${value}-${id}`;
    return (
    // Providing an extra wrapper enables `label` to be inline-flex, avoiding clickable whitespace
    // when radio options are of varied lengths.
    // NOTE: Important that this is `flex` to prevent the `inline-flex` label from extra, unintentional whitespace.
    _jsx("div", { className: "flex", ...restProps, children: _jsxs("label", { htmlFor: itemId, className: clsx(s.RadioLabel, className), "data-disabled": disabled ? "" : undefined, "data-block": block ? "" : undefined, onMouseDown: (event) => {
                if (!event.defaultPrevented && event.detail > 1)
                    event.preventDefault();
            }, children: [_jsx("div", { className: s.RadioIndicatorWrapper, children: _jsx(RadixRadioGroup.Item, { id: itemId, value: value, disabled: disabled, required: required, className: s.RadioItem, children: _jsx(RadixRadioGroup.Indicator, { className: s.RadioIndicator }) }) }), children] }) }));
};
RadioGroup.Item = Item;
//# sourceMappingURL=RadioGroup.js.map