"use client";
import { jsx as _jsx } from "react/jsx-runtime";
import { useEffect, useState } from "react";
import clsx from "clsx";
import s from "./ShimmerText.module.css";
// If text will always shimmer, use the simpler interface
export const ShimmerText = ({ as: Tag = "div", children, className, }) => {
    return _jsx(Tag, { className: clsx(s.Shimmer, className), children: children });
};
// If text may end shimmering after playing for a time, or resume, use shimmerable text
export const ShimmerableText = ({ as: Tag = "div", children, className, shimmer = false, ...restProps }) => {
    const [paused, setPaused] = useState(!shimmer);
    // Pauses the animation at the start of (what would be) the next iteration.
    const handleAnimationIteration = () => {
        setPaused(true);
    };
    useEffect(() => {
        if (shimmer) {
            // Ensure pause is cleared if shimmer is re-enabled
            setPaused(false);
        }
    }, [shimmer]);
    return (_jsx(Tag, { ...restProps, className: clsx(s.Shimmer, className), onAnimationIteration: shimmer ? undefined : handleAnimationIteration, "data-idle": paused ? "" : undefined, children: children }));
};
//# sourceMappingURL=ShimmerText.js.map