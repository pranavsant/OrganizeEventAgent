"use client";
import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import clsx from "clsx";
import { useState } from "react";
import { useSimulatedProgress } from "../../hooks/useSimulatedProgress";
import { toCssVariables } from "../../lib/helpers";
import s from "./CircularProgress.module.css";
export const CircularProgress = ({ maxDuration = 15000, // 15 seconds
done = false, className, progress: propProgress, size, strokeWidth, trackActiveColor, trackColor, style, ...restProps }) => {
    const [currentTime] = useState(new Date());
    const simulatedProgressDone = propProgress !== undefined || done;
    const simulatedProgress = useSimulatedProgress(+currentTime, maxDuration, simulatedProgressDone);
    const progress = propProgress ?? simulatedProgress;
    return (_jsxs("div", { ...restProps, className: clsx(s.Container, className), style: style ||
            toCssVariables({
                "circular-progress-size": size,
                "circular-progress-stroke": strokeWidth ? Math.min(4, strokeWidth) : undefined,
                "circular-progress-track-active-color": trackActiveColor,
                "circular-progress-track-color": trackColor,
            }), children: [_jsx("svg", { viewBox: "0 0 20 20", className: s.Track, "data-no-autosize": true, children: _jsx("circle", { cx: "10", cy: "10", r: "8", fill: "none" }) }), _jsx("svg", { viewBox: "0 0 20 20", className: s.TrackProgress, style: {
                    strokeDashoffset: 50 - 50 * (progress / 100),
                }, "data-no-autosize": true, children: _jsx("circle", { cx: "10", cy: "10", r: "8", fill: "none" }) })] }));
};
//# sourceMappingURL=CircularProgress.js.map