{"version":3,"file":"Select.js","sourceRoot":"","sources":["../../../../src/components/Select/Select.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\"\n\nimport clsx from \"clsx\"\nimport { Popover } from \"radix-ui\"\nimport React, {\n  createContext,\n  type ReactNode,\n  use,\n  useCallback,\n  useEffect,\n  useId,\n  useLayoutEffect,\n  useMemo,\n  useRef,\n  useState,\n} from \"react\"\nimport { useEscCloseStack } from \"../../hooks/useEscCloseStack\"\nimport { useLatestValue } from \"../../hooks/useLatestValue\"\nimport { preventDefaultHandler, toCssVariables, waitForAnimationFrame } from \"../../lib/helpers\"\nimport { Check, Info, Search } from \"../Icon\"\nimport { Input } from \"../Input\"\nimport { SelectControl, type SelectControlProps } from \"../SelectControl\"\nimport { Tooltip } from \"../Tooltip\"\nimport { TransitionGroup } from \"../Transition\"\nimport s from \"./Select.module.css\"\n\nexport type Option<T extends string = string> = {\n  value: T\n  label: string\n  /** Disable the option */\n  disabled?: boolean\n  /** Displayed as secondary text below the option `label` */\n  description?: React.ReactNode\n  tooltip?: {\n    content: React.ReactNode\n    maxWidth?: number\n  }\n}\n\nexport type OptionGroup<T extends Option> = {\n  label: string\n  options: T[]\n  optionsLimit?: {\n    label: string\n    limit: number\n  }\n}\n\nexport type Options<T extends Option> = T[] | OptionGroup<T>[]\n\ntype CallbackWithOption<T extends Option> = (option: T) => void\ntype CallbackWithOptions<T extends Option> = (options: T[]) => void\ntype CallbackWithActionId = (actionId: string) => void\ntype SearchPredicate<T extends Option> = (option: T, searchTerm: string) => boolean\n\ntype Action = {\n  /** Unique ID to identify the action with */\n  id: string\n  /** Label display for the action */\n  label: string\n  /** Icon displayed to the left of the action */\n  Icon?: React.ComponentType<React.SVGProps<SVGSVGElement>>\n  /** Custom class applied to the action container */\n  className?: string\n  /** Callback invoked when the action is pressed */\n  onSelect: CallbackWithActionId\n}\n\ntype Actions = Action[]\n\nexport type PopoverSide = \"top\" | \"bottom\"\nexport type PopoverAlign = \"start\" | \"center\" | \"end\"\n\ntype SingleSelectProps<T extends Option> = {\n  /**\n   * Determines if the select should support multiple selection\n   * @default false\n   */\n  multiple?: false\n  value: string\n  onChange: CallbackWithOption<T>\n  /**\n   * Customize the rendered output of the trigger\n   * NOTE: Must be passed as a stable reference, not created inline.\n   */\n  TriggerView?: React.FC<T>\n}\n\ntype MultiSelectTriggerViewProps<T extends Option> = {\n  values: T[]\n  selectedAll: boolean\n}\n\ntype MultiSelectProps<T extends Option> = {\n  /**\n   * Determines if the select should support multiple selection\n   * @default false\n   */\n  multiple: true\n  value: string[]\n  onChange: CallbackWithOptions<T>\n  /**\n   * Customize the rendered output of the trigger\n   * NOTE: Must be passed as a stable reference, not created line.\n   */\n  TriggerView?: React.FC<MultiSelectTriggerViewProps<T>>\n}\n\nexport type SelectProps<T extends Option> = (SingleSelectProps<T> | MultiSelectProps<T>) & {\n  options: Options<T> // Should be passed as a stable reference\n  /**\n   * Disables the select visually and from interactions\n   * @default false\n   */\n  disabled?: boolean\n  /**\n   * Allows the select to be targeted with htmlFor\n   */\n  id?: string\n  /**\n   * Marks the select as a required field when using native form submission\n   */\n  required?: boolean\n  /**\n   * Creates the ability to query the value with `[name=\"${name}\"]`\n   */\n  name?: string\n  /**\n   * Placeholder text for the select\n   * @default Select...\n   */\n  placeholder?: string\n  /**\n   * Placeholder text for the select while loading. Behaves exactly like `placeholder`, and `value` will be shown if provided.\n   * @default Loading...\n   */\n  loadingPlaceholder?: string\n  /**\n   * Displays loading indicator on top of button contents\n   * @default false\n   */\n  loading?: boolean\n  /**\n   * Style variant for the select trigger\n   * @default outline\n   */\n  variant?: SelectControlProps[\"variant\"]\n  /**\n   * Determines if the select trigger should be a fully rounded pill shape\n   * @default false\n   */\n  pill?: boolean\n  /**\n   * Controls size of the select trigger, and several other aspects of trigger styling.\n   *\n   * | 3xs     | 2xs     | xs      | sm      | md      | lg      | xl      | 2xl     | 3xl     |\n   * | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- |\n   * | `22px`  | `24px`  | `26px`  | `28px`  | `32px`  | `36px`  | `40px`  | `44px`  | `48px`  |\n   * @default md\n   */\n  size?: SelectControlProps[\"size\"]\n  /**\n   * Icon displayed in the far right of the select trigger\n   * @default dropdown\n   */\n  dropdownIconType?: SelectControlProps[\"dropdownIconType\"]\n  /**\n   * Actions to display below the options list.\n   */\n  actions?: Actions // Memoized by length, don't assume dynamic changes are supported\n  /** Custom class applied to option containers */\n  optionClassName?: string\n  /**\n   * Customize the rendered output of individual options\n   * NOTE: Must be passed as a stable reference, not created line.\n   */\n  OptionView?: React.FC<T>\n  /** Icon displayed at the start of the select trigger */\n  TriggerStartIcon?: SelectControlProps[\"StartIcon\"]\n  /**\n   * Custom class applied to the select trigger\n   */\n  triggerClassName?: string // If consumers need deep customization of the trigger\n  /**\n   * Applies a negative margin using the current gutter to optically align the trigger\n   * with surrounding content.\n   */\n  opticallyAlign?: \"start\" | \"end\"\n  /**\n   * Display a clear action that allows the select to be unset.\n   * @default false\n   */\n  clearable?: boolean\n  /**\n   * Extends select to 100% of available width.\n   * @default true\n   */\n  block?: boolean\n  /**\n   * The preferred side of the trigger to render against when open. Will be reversed when collisions occur.\n   * @default bottom\n   */\n  side?: PopoverSide\n  /**\n   * The preferred alignment against the trigger. May change when collisions occur.\n   * @default center\n   */\n  align?: PopoverAlign\n  /**\n   * An offset in pixels from the \"start\" or \"end\" alignment options.\n   * @default 0\n   */\n  alignOffset?: number\n  /**\n   * Prevents collision detection in the custom menu. Use with caution.\n   * @default true\n   */\n  avoidCollisions?: boolean\n  /**\n   * Set the width of the custom select menu\n   * @default auto\n   */\n  listWidth?: number | \"auto\"\n  /**\n   * Defines the `min-width` property of the custom select menu, in pixels.\n   * @default auto\n   */\n  listMinWidth?: number | \"auto\"\n  /**\n   * Defines the `max-width` property of the custom select menu, in pixels.\n   * @default auto\n   */\n  listMaxWidth?: number | \"auto\"\n  /** Predicate used to filter searches */\n  searchPredicate?: SearchPredicate<T>\n  /** Placeholder of the search input */\n  searchPlaceholder?: string\n  /**\n   * Message displayed when search results are empty. Can be a simple string, or custom JSX.\n   */\n  searchEmptyMessage?: ReactNode\n}\n\ntype SingleSelectContextValue<T extends Option> = {\n  multiple: false\n  value: string\n  TriggerView: React.FC<T>\n}\n\ntype MultiSelectContextValue<T extends Option> = {\n  multiple: true\n  value: string[]\n  TriggerView: React.FC<MultiSelectTriggerViewProps<T>>\n}\n\ntype SelectContextValue<T extends Option> = (\n  | SingleSelectContextValue<T>\n  | MultiSelectContextValue<T>\n) & {\n  triggerId: string\n  // Props\n  name?: string\n  id?: string\n  required?: boolean\n  options: Options<T>\n  disabled: boolean\n  variant: SelectControlProps[\"variant\"]\n  pill: boolean\n  size: SelectControlProps[\"size\"]\n  dropdownIconType: SelectControlProps[\"dropdownIconType\"]\n  loading: boolean\n  clearable: boolean\n  placeholder: string\n  loadingPlaceholder: string\n  searchEmptyMessage: ReactNode\n  searchPlaceholder: string\n  TriggerStartIcon?: SelectControlProps[\"StartIcon\"]\n  triggerClassName?: string\n  opticallyAlign?: \"start\" | \"end\"\n  optionClassName?: string\n  OptionView: React.FC<T>\n  actions: Actions\n  onActionSelect: CallbackWithActionId\n  block: boolean\n  side: PopoverSide\n  align: PopoverAlign\n  alignOffset: number\n  avoidCollisions: boolean\n  listWidth?: number | \"auto\" // Default when not passed is to match the width of the trigger\n  listMinWidth: number | \"auto\"\n  listMaxWidth?: number | \"auto\"\n  // References\n  onSelectRef: React.MutableRefObject<(option: T, removeOption?: boolean) => void>\n  searchPredicateRef: React.MutableRefObject<SearchPredicate<T>>\n  // Derived\n  searchable: boolean\n}\n\nconst SelectContext = createContext<SelectContextValue<Option> | null>(null)\n\nconst useSelectContext = () => {\n  const context = use(SelectContext)\n\n  if (!context) {\n    throw new Error(\"Select components must be wrapped in <Select />\")\n  }\n\n  return context\n}\n\nconst DefaultOptionView = ({ label }: { label: string }) => <>{label}</>\nconst DefaultSingleTriggerView = ({ label }: { label: string }) => <>{label}</>\nconst DefaultMultiTriggerView = <T extends Option>({\n  values,\n  selectedAll,\n}: MultiSelectTriggerViewProps<T>) => {\n  const displayValue = selectedAll\n    ? \"All selected\"\n    : values.length === 0\n      ? // NOTE: Zero length is impossible - an empty option with `placeholder` is always returned\n        \"Select...\"\n      : values.length === 1\n        ? values[0].label\n        : `${values.length} selected`\n\n  return <>{displayValue}</>\n}\n\nexport const Select = <T extends Option>(props: SelectProps<T>) => {\n  const {\n    id,\n    required,\n    value,\n    name,\n    multiple,\n    variant = \"outline\",\n    size = \"md\",\n    dropdownIconType = \"dropdown\",\n    loading = false,\n    clearable = false,\n    disabled = false,\n    placeholder = \"Select...\",\n    loadingPlaceholder = \"Loading...\",\n    pill = true,\n    listWidth,\n    options,\n    actions: propActions = [],\n    side = \"bottom\",\n    avoidCollisions = true,\n    onChange,\n    optionClassName,\n    OptionView = DefaultOptionView,\n    TriggerStartIcon,\n    triggerClassName,\n    opticallyAlign,\n    TriggerView: TriggerViewFromProps,\n    searchPlaceholder = \"\",\n    searchPredicate = defaultSearchPredicate,\n    searchEmptyMessage = \"No results found.\",\n    listMaxWidth = \"auto\",\n  } = props\n  // Block default is dynamic, based on `variant`\n  const block = props.block ?? variant !== \"ghost\"\n  // Align default is dynamic, based on `block`\n  const align = props.align ?? (block ? \"center\" : \"start\")\n  const alignOffset = props.alignOffset ?? (align === \"center\" ? 0 : -5)\n  // Default to \"auto\" for block selects and 300 for inline selects.\n  const listMinWidth = props.listMinWidth ?? (block ? \"auto\" : 300)\n\n  // Create stable, mutable references to avoid memoization requirements from consumers\n  const onSelectRef = useLatestValue((selectedOption: T, removeOption?: boolean) => {\n    if (multiple) {\n      // When clearing values, the value is an\n      if (!selectedOption.value) {\n        onChange([])\n        return\n      }\n\n      if (removeOption) {\n        const nextValues = value.filter((v) => v !== selectedOption.value)\n        const currentSelectedOptions = getOptionsByValues(options, nextValues)\n        onChange(currentSelectedOptions)\n      } else {\n        const currentSelectedOptions = getOptionsByValues(options, value)\n        onChange(currentSelectedOptions.concat(selectedOption))\n      }\n    } else {\n      onChange(selectedOption)\n    }\n  })\n\n  const searchPredicateRef = useRef<SearchPredicate<T>>(searchPredicate)\n  searchPredicateRef.current = searchPredicate\n\n  // It should be exceedingly uncommon to change actions dynamically, and they are unlikely to be a stable array reference from consumers\n  // eslint-disable-next-line react-hooks/exhaustive-deps -- Intentionally limiting when this stable value changes to length of actions\n  const actions = useMemo<Actions>(() => propActions, [propActions.length])\n  // We need to ensure that when action callbacks are called, we have fresh function references, even if the other action details did not change.\n  const propActionsRef = useRef<Actions>(propActions)\n  propActionsRef.current = propActions\n  const onActionSelect = useCallback<CallbackWithActionId>((actionId: string) => {\n    propActionsRef.current.find((a) => a.id === actionId)?.onSelect(actionId)\n  }, [])\n\n  // Determine when custom selects should be used\n  const optionsCount = useMemo(\n    () =>\n      isOptionGroupArray(options)\n        ? options.reduce((acc: number, group) => {\n            return acc + group.options.length\n          }, 0)\n        : options.length,\n    [options],\n  )\n\n  // Using ID for DOM selection instead of passing around and merging a ref. Pick your poison.\n  const internalTriggerId = useId()\n  const triggerId = `select-trigger-${internalTriggerId}`\n\n  // Locking down searchable count to a single value. Could make this customizable in the future, but would want guardrails.\n  const searchable = optionsCount > 15\n\n  // Narrow known values for context\n  const dynamicContextProps = useMemo<\n    SingleSelectContextValue<T> | MultiSelectContextValue<T>\n  >(() => {\n    if (multiple) {\n      return {\n        multiple: true,\n        value: value as string[],\n        TriggerView: TriggerViewFromProps ?? DefaultMultiTriggerView,\n      }\n    }\n\n    return {\n      multiple: false,\n      value: value as string,\n      TriggerView: TriggerViewFromProps ?? DefaultSingleTriggerView,\n    }\n  }, [multiple, value, TriggerViewFromProps])\n\n  const store = useMemo<SelectContextValue<T>>(\n    () => ({\n      ...dynamicContextProps,\n      triggerId,\n      id,\n      // Forward props\n      name,\n      required,\n      options,\n      placeholder,\n      loadingPlaceholder,\n      loading,\n      clearable,\n      variant,\n      pill,\n      size,\n      dropdownIconType,\n      block,\n      align,\n      alignOffset,\n      side,\n      avoidCollisions,\n      listWidth,\n      listMinWidth,\n      listMaxWidth,\n      searchPlaceholder,\n      searchEmptyMessage,\n      TriggerStartIcon,\n      triggerClassName,\n      opticallyAlign,\n      optionClassName,\n      OptionView,\n      actions,\n      onActionSelect,\n      onSelectRef,\n      searchPredicateRef,\n      // Derived state\n      searchable,\n      disabled,\n    }),\n    [\n      dynamicContextProps,\n      triggerId,\n      id,\n      required,\n      name,\n      options,\n      placeholder,\n      loadingPlaceholder,\n      loading,\n      clearable,\n      variant,\n      pill,\n      size,\n      dropdownIconType,\n      block,\n      align,\n      alignOffset,\n      side,\n      avoidCollisions,\n      listWidth,\n      listMinWidth,\n      listMaxWidth,\n      searchPlaceholder,\n      searchEmptyMessage,\n      TriggerStartIcon,\n      triggerClassName,\n      opticallyAlign,\n      optionClassName,\n      OptionView,\n      actions,\n      onActionSelect,\n      onSelectRef,\n      searchable,\n      disabled,\n    ],\n  )\n\n  return (\n    // NOTE: Cannot peacefully coerce SelectContextValue into a generic, so casting to any here.\n    // This is safe because `store` is strongly typed above.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    <SelectContext.Provider value={store as any}>\n      <CustomSelect />\n    </SelectContext.Provider>\n  )\n}\n\n// ============================================================\n// Trigger\n// ============================================================\ntype SelectTriggerProps = {\n  onOpenChange?: (maybeNextState?: boolean) => void\n  tabIndex?: number\n  [\"aria-hidden\"]?: \"false\" | \"true\"\n  ref?: React.Ref<HTMLButtonElement | null>\n}\n\nexport const SelectTrigger = (props: SelectTriggerProps) => {\n  const {\n    triggerId,\n    id,\n    required,\n    value,\n    multiple,\n    options,\n    loading,\n    disabled,\n    clearable,\n    name,\n    variant,\n    pill,\n    size,\n    dropdownIconType,\n    placeholder,\n    loadingPlaceholder,\n    block,\n    opticallyAlign,\n    triggerClassName,\n    TriggerStartIcon,\n    TriggerView,\n    onSelectRef,\n  } = useSelectContext()\n  const {\n    onOpenChange,\n    // pass along props from Radix\n    ...restProps\n  } = props\n  const firstValue = multiple ? value[0] : value\n  const placeholderValue = loading ? loadingPlaceholder : placeholder\n\n  const selectedItem = useMemo<Option>(\n    () =>\n      getOptionByValue(options, firstValue) || {\n        value: \"\",\n        label: placeholderValue,\n      },\n    [firstValue, options, placeholderValue],\n  )\n  const hasSelectedValue = multiple ? value.length > 0 : !!value\n  const isPlaceholder = loading || !hasSelectedValue\n\n  const typeahead = useMemo(() => createTypeahead(), [])\n\n  const multipleTriggerViewProps = useMemo<MultiSelectTriggerViewProps<Option>>(() => {\n    if (!multiple) {\n      return { values: [], selectedAll: false }\n    }\n\n    const currentSelectedOptions = getOptionsByValues(options, value)\n    const flatOptions = options.flatMap((o) => (\"options\" in o ? o.options : o))\n\n    return {\n      values: currentSelectedOptions.length\n        ? currentSelectedOptions\n        : [\n            {\n              value: \"\",\n              label: placeholderValue,\n            },\n          ],\n      selectedAll: flatOptions.length <= value.length,\n    }\n  }, [multiple, options, value, placeholderValue])\n\n  const handleKeyDown = (evt: React.KeyboardEvent<HTMLButtonElement>) => {\n    const key = evt.key\n\n    // If not a command, check for typeahead\n    // NOTE: Typeahead not supported in multi-select\n    if (!multiple && isValidTypeaheadChar(key)) {\n      const currentTypeaheadValue = typeahead(key)\n      // Stop other listeners from reacting\n      evt.stopPropagation()\n\n      // Attempt to filter options based on the value\n      // NOTE: We don't look at current highlighted value as a means to start the search\n      const firstMatchingOption = getTypeaheadOption(options, currentTypeaheadValue, firstValue)\n\n      if (firstMatchingOption) {\n        onSelectRef.current(firstMatchingOption)\n      }\n    }\n  }\n\n  const handleClearClick = () => {\n    onSelectRef.current({ value: \"\", label: \"\" })\n    // Ensure open state is closed\n    onOpenChange?.(false)\n  }\n\n  return (\n    <SelectControl\n      id={triggerId}\n      className={triggerClassName}\n      selected={!isPlaceholder}\n      variant={variant}\n      pill={pill}\n      block={block}\n      size={size}\n      disabled={disabled}\n      loading={loading}\n      StartIcon={TriggerStartIcon}\n      opticallyAlign={opticallyAlign}\n      dropdownIconType={dropdownIconType}\n      onClearClick={clearable ? handleClearClick : undefined}\n      onInteract={onOpenChange}\n      onKeyDown={handleKeyDown}\n      {...restProps}\n    >\n      {multiple ? <TriggerView {...multipleTriggerViewProps} /> : <TriggerView {...selectedItem} />}\n      {(name || id) && (\n        <input\n          id={id}\n          name={name}\n          value={firstValue}\n          tabIndex={-1}\n          onFocus={() => {\n            document.getElementById(triggerId)?.focus()\n          }}\n          // keep react from complaining - don't make this readOnly because that\n          // prevents the value from being required\n          onChange={() => {}}\n          required={required}\n          className=\"sr-only w-full h-0 left-0 bottom-0 pointer-events-none\"\n          aria-hidden=\"true\"\n        />\n      )}\n    </SelectControl>\n  )\n}\n\n// ============================================================\n// Custom Select\n// ============================================================\nconst CustomSelect = () => {\n  const {\n    triggerId,\n    loading,\n    side,\n    align,\n    alignOffset,\n    avoidCollisions,\n    listWidth,\n    listMinWidth,\n    listMaxWidth,\n  } = useSelectContext()\n  const [open, setOpen] = useState<boolean>(false)\n  const selectContentRef = useRef<HTMLDivElement>(null)\n\n  const handleOpenChange = (maybeNextState?: boolean) => {\n    // Toggle the current state when called without a specific state\n    const nextState = maybeNextState === undefined ? !open : maybeNextState\n    setOpen(nextState)\n\n    // When we're closing, manage focus back to trigger manually\n    if (!nextState) {\n      // Wait until the next tick to determine if another element has become focused\n      setTimeout(() => {\n        // This should never happen because TransitionGroup should keep the select content in the DOM long\n        // enough for this callback to run. However, in the event that the ref is null, not focusing is safer.\n        if (!selectContentRef.current) {\n          return\n        }\n\n        const activeElement = document.activeElement\n\n        // Don't restore focus to the trigger if focus has moved outside of the select menu\n        if (activeElement && !selectContentRef.current.contains(activeElement)) {\n          return\n        }\n\n        document.getElementById(triggerId)?.focus()\n      })\n    }\n  }\n\n  useEscCloseStack(open, () => {\n    handleOpenChange(false)\n  })\n\n  return (\n    <Popover.Root\n      open={open}\n      onOpenChange={(nextState) => {\n        // Prevent opening while loading\n        if (loading && nextState) {\n          return\n        }\n\n        handleOpenChange(nextState)\n      }}\n      modal={false}\n    >\n      <Popover.Trigger asChild>\n        <SelectTrigger onOpenChange={handleOpenChange} />\n      </Popover.Trigger>\n      <Popover.Portal forceMount>\n        <TransitionGroup\n          className={s.Menu}\n          enterDuration={350}\n          exitDuration={200}\n          disableAnimations\n        >\n          {open && (\n            <Popover.Content\n              key=\"dropdown\"\n              ref={selectContentRef}\n              forceMount\n              className={s.MenuList}\n              side={side}\n              sideOffset={5}\n              align={align}\n              alignOffset={alignOffset}\n              avoidCollisions={avoidCollisions}\n              collisionPadding={{ bottom: 30, top: 30 }}\n              // Prevent Radix auto focus so we can handle our own from within <CustomSelectMenu />\n              onOpenAutoFocus={preventDefaultHandler}\n              // Radix waits until the animation completes before directing focus, which is janky.\n              onCloseAutoFocus={preventDefaultHandler}\n              onEscapeKeyDown={preventDefaultHandler}\n              style={toCssVariables({\n                \"select-list-width\": listWidth,\n                \"select-list-min-width\": listMinWidth,\n                \"select-list-max-width\": listMaxWidth,\n              })}\n            >\n              <CustomSelectMenu onOpenChange={handleOpenChange} />\n            </Popover.Content>\n          )}\n        </TransitionGroup>\n      </Popover.Portal>\n    </Popover.Root>\n  )\n}\n\ntype CustomSelectMenuContextValue = {\n  valueRef: React.RefObject<string | null>\n  listId: string\n  requestCloseRef: React.RefObject<() => void | null>\n  listRef: React.RefObject<HTMLDivElement | null>\n  // Highlighting\n  highlightedValue: string\n  setHighlightedValue: React.Dispatch<React.SetStateAction<string>>\n  // Search\n  searchTerm: string\n  setSearchTerm: React.Dispatch<React.SetStateAction<string>>\n  searchInputRef: React.RefObject<HTMLInputElement | null>\n}\n\nconst CustomSelectMenuContext = createContext<CustomSelectMenuContextValue | null>(null)\n\nconst useCustomSelectMenuContext = () => {\n  const context = use(CustomSelectMenuContext)\n\n  if (!context) {\n    throw new Error(\"CustomSelectMenu components must be wrapped in <CustomSelectMenu />\")\n  }\n\n  return context\n}\n\ntype CustomSelectMenuProps = {\n  onOpenChange: (maybeNextState?: boolean) => void\n}\n\nconst CustomSelectMenu = ({ onOpenChange }: CustomSelectMenuProps) => {\n  const { multiple, value, options, searchable, searchPredicateRef } = useSelectContext()\n  const requestCloseRef = useRef<() => void>(() => onOpenChange(false))\n  const menuRef = useRef<HTMLDivElement>(null)\n  const listRef = useRef<HTMLDivElement>(null)\n  const searchInputRef = useRef<HTMLInputElement>(null)\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [highlightedValue, setHighlightedValue] = useState<string>(() => {\n    const selectedValue = multiple ? value[0] : value\n    return (selectedValue || getFirstValidOption(options)?.value) ?? \"\"\n  })\n  const typeahead = useMemo(() => createTypeahead(), [])\n  const internalListId = useId()\n  const listId = `select-list-${internalListId}`\n\n  // Lock `value` for a given open to prevent janky change during close animation\n  // NOTE: This ref has no use in MultiSelect cases, set to empty string as a no-op\n  const valueRef = useRef<string>(multiple ? \"\" : value)\n\n  // Trim and lowercase search value\n  const literalSearchTerm = useMemo(() => searchTerm.trim().toLocaleLowerCase(), [searchTerm])\n  const filteredOptions = useMemo(\n    () => filterOptions(options, literalSearchTerm, searchPredicateRef.current),\n    [options, literalSearchTerm, searchPredicateRef],\n  )\n  const firstOption = useMemo(() => getFirstValidOption(filteredOptions), [filteredOptions])\n\n  // Regrettable requirement for running an effect *after* mount\n  const isMountStableRef = useRef<boolean>(false)\n\n  const handleKeyDown = (evt: React.KeyboardEvent) => {\n    const key = evt.key\n    const firstValue = multiple ? value[0] : value\n    const targetValue = highlightedValue || firstOption?.value || firstValue\n    const isFocusedInSearch = document.activeElement === searchInputRef.current\n\n    const menuElement = menuRef.current\n\n    // Should be generally impossible for menuRef.current to not exist\n    // unless we've unmounted and manage to fire this handler.\n    if (!menuElement) {\n      return\n    }\n\n    const triggerHighlightedOption = () => {\n      const pointerUpEvent = new PointerEvent(\"pointerup\", {\n        bubbles: true,\n        cancelable: true,\n        pointerType: \"mouse\",\n      })\n\n      // Find the current highlighted option\n      const selectedOption = findOptionByValue(highlightedValue, menuElement)\n      selectedOption?.dispatchEvent(pointerUpEvent)\n    }\n\n    const highlightOption = (val: string, element: Element) => {\n      setHighlightedValue(val)\n      element.scrollIntoView({ block: \"nearest\" })\n    }\n\n    const highlightSelectedOrFirstOption = () => {\n      // Attempt to move highlight to selected item\n      const maybeFirstValue = multiple ? value[0] : value\n\n      if (maybeFirstValue) {\n        const selectedElement = findOptionByValue(maybeFirstValue, menuElement)\n\n        if (selectedElement) {\n          highlightOption(maybeFirstValue, selectedElement)\n          return\n        }\n      }\n\n      // If value isn't set, or the selected node wasn't found in the DOM,\n      // attempt to move focus to the first valid option.\n      const firstValidOption = getFirstValidOption(options)\n\n      if (firstValidOption) {\n        const firstValidOptionElement = findOptionByValue(firstValidOption.value, menuElement)\n        if (firstValidOptionElement) {\n          highlightOption(firstValidOption.value, firstValidOptionElement)\n        }\n      }\n    }\n\n    // Commands\n    switch (key) {\n      case \"ArrowDown\": {\n        evt.preventDefault()\n\n        // If there's no highlighted value, or the highlighted value is not in the DOM\n        if (!highlightedValue || !findOptionByValue(highlightedValue, menuElement)) {\n          // Attempt to move highlight to selected item\n          highlightSelectedOrFirstOption()\n\n          // Short-circuit because we have no highlighted value to advance from\n          return\n        }\n\n        // Otherwise, move to the next option\n        const nextElement = findNextOption(highlightedValue, menuElement)\n        const nextValue = nextElement?.getAttribute(\"data-option-id\")\n        if (nextElement && nextValue) {\n          highlightOption(nextValue, nextElement)\n        }\n\n        return\n      }\n      case \"ArrowUp\": {\n        evt.preventDefault()\n\n        // If there's no highlighted value, or the highlighted value is not in the DOM\n        if (!highlightedValue || !findOptionByValue(highlightedValue, menuElement)) {\n          // Attempt to move highlight to selected item\n          highlightSelectedOrFirstOption()\n\n          // Short-circuit because we have no highlighted value to advance from\n          return\n        }\n\n        const previousElement = findPreviousOption(targetValue, menuElement)\n        const previousValue = previousElement?.getAttribute(\"data-option-id\")\n        if (previousElement && previousValue) {\n          highlightOption(previousValue, previousElement)\n        }\n\n        return\n      }\n      case \"Enter\":\n        // Prevent default enter behavior from the search input, if present\n        evt.preventDefault()\n\n        // Send a pointerDown event into the currently highlighted option\n        triggerHighlightedOption()\n\n        return\n      case \" \":\n        // Allow spaces in search, and don't treat as enter\n        // if there is a valid literalSearchTerm.\n        if (literalSearchTerm && isFocusedInSearch) {\n          return\n        }\n\n        // Prevent space from entering search input\n        evt.preventDefault()\n\n        // Send a pointerDown event into the currently highlighted option\n        triggerHighlightedOption()\n\n        return\n      default:\n        break\n    }\n\n    // If not a command, check for typeahead\n    if (isValidTypeaheadChar(key)) {\n      // Skip typeahead logic when we're focused in the search input\n      if (isFocusedInSearch) {\n        return\n      }\n\n      // Extend the current typeahead and get the latest value\n      const currentTypeaheadValue = typeahead(key)\n\n      // Stop other listeners from reacting\n      evt.stopPropagation()\n\n      // Attempt to filter options based on the value, starting at the highlighted value\n      const firstMatchingOption = getTypeaheadOption(\n        options,\n        currentTypeaheadValue,\n        highlightedValue,\n      )\n\n      if (firstMatchingOption) {\n        const matchedNode = findOptionByValue(firstMatchingOption.value, menuElement)\n\n        // Only change the highlight if we found the actual node\n        if (matchedNode) {\n          setHighlightedValue(firstMatchingOption.value)\n          // Ensure the newly highlighted option is scrolled into view\n          matchedNode.scrollIntoView({ block: \"nearest\" })\n        }\n      }\n    }\n  }\n\n  const store = useMemo(\n    () => ({\n      valueRef,\n      listId,\n      highlightedValue,\n      setHighlightedValue,\n      requestCloseRef,\n      searchTerm,\n      setSearchTerm,\n      searchInputRef,\n      listRef,\n    }),\n    [listId, highlightedValue, setHighlightedValue, searchTerm, setSearchTerm],\n  )\n\n  // On mount behavior\n  useEffect(() => {\n    // Ensure initial highlighted option is in view\n    // NOTE: Allowing for a render frame ensures content is positioned correctly before scrolling it into view.\n    waitForAnimationFrame(() => {\n      if (!menuRef.current) {\n        return\n      }\n\n      // Ensure the highlighted option is in view\n      const currentOption = findOptionByValue(highlightedValue, menuRef.current)\n      // Scroll the selected item into view, and its bottom edge.\n      currentOption?.scrollIntoView({ block: \"center\" })\n    })\n\n    // Send initial focus to the menu container or search input, to capture key events\n    const autoFocusTarget = searchInputRef.current || menuRef.current\n    autoFocusTarget?.focus({ preventScroll: true })\n\n    // Required for <StrictMode>, because we need to unset this token\n    // when the hooks are re-run. It's an imperative effect that we need to manage.\n    return () => {\n      isMountStableRef.current = false\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps -- Intentionally an onMount effect\n  }, [])\n\n  // On search behavior\n  useLayoutEffect(() => {\n    // This effect will run on mount, but we want to skip it.\n    // The on mount effect is responsible for handling mount behavior,\n    // but this effect is specifically responsible for handling search changes\n    if (!isMountStableRef.current) {\n      isMountStableRef.current = true\n      return\n    }\n\n    // Impossible while mounted, list ref will exist\n    if (!listRef.current) {\n      return\n    }\n\n    // Reset scroll position to the top\n    listRef.current.scrollTop = 0\n\n    // Highlight first item in the list\n    const maybeFirstOption = getFirstValidOption(filteredOptions)\n    if (maybeFirstOption) setHighlightedValue(maybeFirstOption.value)\n  }, [filteredOptions])\n\n  return (\n    <CustomSelectMenuContext value={store}>\n      <div id={listId} className={s.MenuInner} onKeyDown={handleKeyDown} ref={menuRef} tabIndex={0}>\n        {searchable && <CustomSelectSearch value={searchTerm} onChange={setSearchTerm} />}\n        <CustomSelectList filteredOptions={filteredOptions} />\n        <CustomSelectActions />\n      </div>\n    </CustomSelectMenuContext>\n  )\n}\n\ntype CustomSelectSearchProps = {\n  value: string\n  onChange: (nextSearchTerm: string) => void\n}\n\nconst CustomSelectSearch = ({ value, onChange }: CustomSelectSearchProps) => {\n  const { searchPlaceholder } = useSelectContext()\n  const { listId, searchInputRef } = useCustomSelectMenuContext()\n\n  const handleChange = (evt: React.ChangeEvent<HTMLInputElement>) => {\n    onChange(evt.target.value)\n  }\n\n  return (\n    <div className={s.Search}>\n      <Input\n        startAdornment={<Search width={16} height={16} className=\"fill-secondary\" />}\n        ref={searchInputRef}\n        value={value}\n        placeholder={searchPlaceholder}\n        onChange={handleChange}\n        autoComplete=\"off\"\n        autoCorrect=\"off\"\n        spellCheck={false}\n        aria-autocomplete=\"list\"\n        role=\"combobox\"\n        aria-controls={listId}\n        aria-expanded\n      />\n    </div>\n  )\n}\n\nconst isOptionGroup = <T extends Option>(\n  mixedOption: T | OptionGroup<T>,\n): mixedOption is OptionGroup<T> => {\n  return \"options\" in mixedOption\n}\n\nconst isOptionGroupArray = <T extends Option>(arr: Options<T>): arr is OptionGroup<T>[] => {\n  return arr[0] && isOptionGroup(arr[0])\n}\n\nconst HARD_OPTIONS_LIMIT = 300\n\nconst CustomSelectList = <T extends Option>({\n  filteredOptions,\n}: {\n  filteredOptions: Options<T>\n}) => {\n  const { searchEmptyMessage } = useSelectContext()\n  const { listRef } = useCustomSelectMenuContext()\n\n  if (!filteredOptions.length) {\n    return typeof searchEmptyMessage === \"string\" ? (\n      <p className={s.SearchEmpty} data-text-only>\n        {searchEmptyMessage}\n      </p>\n    ) : (\n      <div className={s.SearchEmpty}>{searchEmptyMessage}</div>\n    )\n  }\n\n  // We hard limit within groups, so at this level we will only limit flat arrays\n  const isGrouped = isOptionGroupArray(filteredOptions)\n  const hasHardLimit = !isGrouped && filteredOptions.length > HARD_OPTIONS_LIMIT\n\n  const options = isGrouped\n    ? filteredOptions.map((group) => <CustomSelectGroup key={group.label} {...group} />)\n    : filteredOptions\n        .slice(0, HARD_OPTIONS_LIMIT)\n        .map((option) => <CustomSelectOption key={option.value} {...option} />)\n\n  return (\n    <div className={s.OptionsList} ref={listRef}>\n      {options}\n      {hasHardLimit && (\n        <CustomSelectHardLimit numHidden={filteredOptions.length - HARD_OPTIONS_LIMIT} />\n      )}\n    </div>\n  )\n}\n\nconst DEFAULT_OPTIONS_LIMIT = {\n  limit: 100,\n  label: \"Show all\",\n}\n\nconst CustomSelectGroup = <T extends Option>({\n  label,\n  options,\n  optionsLimit = DEFAULT_OPTIONS_LIMIT,\n}: OptionGroup<T>) => {\n  const groupId = useId()\n  const { searchTerm, setHighlightedValue } = useCustomSelectMenuContext()\n  const [limitExpanded, setLimitExpanded] = useState<boolean>(false)\n\n  const hasExpandableLimit = optionsLimit.limit < options.length && !searchTerm && !limitExpanded\n  const hasHardLimit = HARD_OPTIONS_LIMIT < options.length && !hasExpandableLimit\n\n  let maybeLimitedOptions = options\n  if (hasExpandableLimit) {\n    maybeLimitedOptions = options.slice(0, optionsLimit.limit)\n  } else if (hasHardLimit) {\n    maybeLimitedOptions = options.slice(0, HARD_OPTIONS_LIMIT)\n  }\n\n  const handleLimitExpanded = () => {\n    // Expand options\n    setLimitExpanded(true)\n\n    // Set highlight to the first option from the newly expanded list\n    setHighlightedValue(options[optionsLimit.limit].value)\n  }\n\n  return (\n    // NOTE: Important for crawling that groups are flat\n    <>\n      <div className={s.OptionGroupHeading}>\n        <div className={s.OptionIndicatorSlot} />\n        {label}\n      </div>\n      {maybeLimitedOptions.map((limitedOptions) => (\n        <CustomSelectOption key={limitedOptions.value} {...limitedOptions} />\n      ))}\n      {hasExpandableLimit && (\n        <CustomSelectExpandableLimit\n          value={`group-limit-${groupId}`}\n          label={optionsLimit.label}\n          onPointerUp={handleLimitExpanded}\n        />\n      )}\n      {hasHardLimit && <CustomSelectHardLimit numHidden={options.length - HARD_OPTIONS_LIMIT} />}\n    </>\n  )\n}\n\ntype CustomSelectHardLimitProps = {\n  numHidden: number\n}\n\nconst CustomSelectHardLimit = ({ numHidden }: CustomSelectHardLimitProps) => {\n  return (\n    <div className={s.OptionHardLimitHeading}>\n      <div className={s.OptionIndicatorSlot} />\n      {`and ${numHidden.toLocaleString()} more options. Use search to refine results further.`}\n    </div>\n  )\n}\n\ntype CustomSelectExpandableLimitProps = {\n  value: string\n  label: string\n  onPointerUp: () => void\n}\n\nconst CustomSelectExpandableLimit = ({\n  value,\n  label,\n  onPointerUp,\n}: CustomSelectExpandableLimitProps) => {\n  const { highlightedValue, setHighlightedValue } = useCustomSelectMenuContext()\n\n  const isHighlighted = value === highlightedValue\n\n  const handlePointerMove = () => {\n    if (isHighlighted) {\n      return\n    }\n\n    setHighlightedValue(value)\n  }\n\n  const handlePointerLeave = () => {\n    setHighlightedValue((currentHighlightedValue) => {\n      // If the current value is not this one, don't do anything\n      // Otherwise, clear the value, removing the active highlight on the menu.\n      return currentHighlightedValue !== value ? currentHighlightedValue : \"\"\n    })\n  }\n\n  // This component acts a LOT like an Option, but has enough bespoke behavior\n  // that it cannot literally be one. We copy the important parts of Option for\n  // keyboard navigation, UX, etc.\n  return (\n    <div\n      className={clsx(s.Option, s.OptionsLimit)}\n      data-option-id={value}\n      data-highlight={isHighlighted ? \"\" : undefined}\n      role=\"option\"\n      aria-selected={isHighlighted}\n      onPointerUp={onPointerUp}\n      onPointerMove={handlePointerMove}\n      onPointerLeave={handlePointerLeave}\n    >\n      <div className={clsx(s.PressableInner, s.OptionInner)}>\n        <div className={s.OptionIndicatorSlot} />\n        {label}\n      </div>\n    </div>\n  )\n}\n\nconst INTERNAL_DOM_SELECTION_DATA_ATTR = \"data-option-id\"\n\nconst CustomSelectOption = (option: Option) => {\n  const {\n    optionClassName,\n    OptionView,\n    value: propsValue,\n    multiple,\n    onSelectRef,\n  } = useSelectContext()\n  const { valueRef, requestCloseRef, highlightedValue, setHighlightedValue } =\n    useCustomSelectMenuContext()\n  const { value, disabled, tooltip } = option\n\n  // NOTE: SingleSelect mode looks at the ref instead of the live `propValue` intentionally\n  // to avoid selecting the item as the select closes.\n  const currentValue = valueRef.current\n  const isSelected = multiple ? propsValue.includes(value) : value === currentValue\n  const isHighlighted = value === highlightedValue\n\n  const handlePointerUp = () => {\n    if (multiple) {\n      // Trigger the change ref, optionally as a remove\n      onSelectRef.current(option, isSelected)\n    } else {\n      // Trigger the change ref\n      onSelectRef.current(option)\n      // Request the dropdown to close\n      requestCloseRef.current?.()\n    }\n  }\n\n  const handlePointerMove = () => {\n    if (isHighlighted) {\n      return\n    }\n\n    setHighlightedValue(value)\n  }\n\n  const handlePointerLeave = () => {\n    setHighlightedValue((currentHighlightedValue) => {\n      // If the current value is not this one, don't do anything\n      // Otherwise, clear the value, removing the active highlight on the menu.\n      return currentHighlightedValue !== value ? currentHighlightedValue : \"\"\n    })\n  }\n\n  return (\n    <div\n      className={clsx(s.Option, optionClassName)}\n      data-highlight={isHighlighted ? \"\" : undefined}\n      role=\"option\"\n      aria-selected={isHighlighted}\n      data-selected={isSelected ? \"\" : undefined}\n      // Internal attribute for selecting DOM nodes\n      {...{ [INTERNAL_DOM_SELECTION_DATA_ATTR]: value }}\n      // Allow options to behave like a native select, when you can open and select an item in a single click\n      onPointerUp={disabled ? undefined : handlePointerUp}\n      // Pointer move allows us to prevent contention from keyboard presses and a still mouse\n      // which does trigger events like onMouseEnter, creating weird battles with mouse and keyboard focus.\n      onPointerMove={disabled ? undefined : handlePointerMove}\n      onPointerLeave={disabled ? undefined : handlePointerLeave}\n      aria-disabled={disabled}\n      data-disabled={disabled ? \"\" : undefined}\n    >\n      <div className={s.PressableInner}>\n        <div className={s.OptionInner}>\n          <div className={s.OptionIndicatorSlot}>\n            {isSelected && <Check className={s.OptionCheck} />}\n          </div>\n          <OptionView {...option} />\n          {tooltip && (\n            <Tooltip content={tooltip.content} maxWidth={tooltip.maxWidth} side=\"right\">\n              <Info />\n            </Tooltip>\n          )}\n        </div>\n        {option.description && (\n          <div className={s.OptionInner}>\n            <div className={s.OptionIndicatorSlot} />\n            {option.description}\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n\nconst CustomSelectActions = () => {\n  const { actions } = useSelectContext()\n\n  if (actions.length === 0) {\n    return null\n  }\n\n  return (\n    <div className={s.ActionsContainer}>\n      {actions.map((action) => (\n        <CustomSelectAction key={action.id} {...action} />\n      ))}\n    </div>\n  )\n}\n\nconst CustomSelectAction = ({ id, label, Icon, className }: Action) => {\n  const { onActionSelect } = useSelectContext()\n  const { requestCloseRef } = useCustomSelectMenuContext()\n\n  const handleKeyDown = (evt: React.KeyboardEvent<HTMLDivElement>) => {\n    const key = evt.key\n\n    switch (key) {\n      case \"Tab\":\n        // Allow tabbing to pass propagation as normal,\n        // which bubbles up to the focus trap of Radix Popover\n        break\n      case \"Enter\":\n      case \" \":\n        evt.stopPropagation()\n        handlePointerUp()\n        break\n      default:\n        evt.stopPropagation()\n    }\n  }\n\n  const handlePointerUp = () => {\n    // Trigger the action's through our context helper, not the method on this action (it may be a stale reference)\n    onActionSelect(id)\n    // Request to close the dropdown\n    requestCloseRef.current?.()\n  }\n\n  return (\n    <div className={s.Action} onPointerUp={handlePointerUp} onKeyDown={handleKeyDown} tabIndex={0}>\n      <div className={clsx(s.ActionInner, className)}>\n        {Icon && <Icon role=\"presentation\" />}\n        {label}\n      </div>\n    </div>\n  )\n}\n\n// ============================================================\n// Utilities\n// ============================================================\nconst defaultSearchPredicate = (option: Option, searchTerm: string) =>\n  option.label.toLowerCase().includes(searchTerm)\n\nconst filterOptions = <T extends Option>(\n  options: Options<T>,\n  searchTerm: string,\n  searchIterator: SearchPredicate<T>,\n): Options<T> => {\n  const searchValue = searchTerm.trim().toLocaleLowerCase()\n\n  if (!searchValue) {\n    return options\n  }\n\n  const filterOption = (option: T): boolean => searchIterator(option, searchValue)\n\n  if (isOptionGroupArray(options)) {\n    return options.reduce((acc, group) => {\n      const filtered = group.options.filter(filterOption)\n\n      if (filtered.length) {\n        acc.push({\n          ...group,\n          options: filtered,\n        })\n      }\n      return acc\n    }, [] as OptionGroup<T>[])\n  } else {\n    return options.reduce((acc, option) => {\n      if (filterOption(option)) acc.push(option)\n      return acc\n    }, [] as T[])\n  }\n}\n\nconst getFirstValidOption = <T extends Option>(options: Options<T>): T | undefined => {\n  if (!options.length) {\n    return undefined\n  }\n\n  let found: T | undefined\n\n  for (const opt of options) {\n    if (isOptionGroup(opt)) {\n      const firstNonDisabled = opt.options.find((i) => !i.disabled)\n      if (firstNonDisabled) {\n        found = firstNonDisabled\n        break\n      }\n    } else {\n      if (!opt.disabled) {\n        found = opt\n        break\n      }\n    }\n  }\n\n  return found\n}\n\nconst getOptionByValue = <T extends Option>(options: Options<T>, value: string): T | undefined => {\n  let found: T | undefined\n\n  for (const opt of options) {\n    if (isOptionGroup(opt)) {\n      const exists = opt.options.find((i) => i.value === value)\n      if (exists) {\n        found = exists\n        break\n      }\n    } else {\n      if (opt.value === value) {\n        found = opt\n        break\n      }\n    }\n  }\n\n  return found\n}\n\nconst getOptionsByValues = <T extends Option>(options: Options<T>, values: string[]): T[] => {\n  let found: T[] = []\n  const lookup = new Set(values)\n\n  for (const opt of options) {\n    if (isOptionGroup(opt)) {\n      const exists = opt.options.filter((i) => lookup.has(i.value))\n      found = found.concat(exists)\n    } else {\n      if (lookup.has(opt.value)) {\n        found.push(opt)\n      }\n    }\n  }\n\n  return found\n}\n\nconst MAX_DOM_CRAWLS = 40\n\nconst findOptionByValue = (currentValue: string, container: HTMLElement) =>\n  container.querySelector(`[data-option-id=\"${currentValue}\"]`)\n\nconst isValidOptionNode = (node: Element) => node.matches(\"[data-option-id]:not([data-disabled])\")\n\nconst findNextOption = (currentValue: string, container: HTMLElement) => {\n  const currentOption = findOptionByValue(currentValue, container)\n\n  let nextNode = currentOption?.nextElementSibling\n  let maxSteps = 0\n\n  while (nextNode && maxSteps < MAX_DOM_CRAWLS) {\n    if (isValidOptionNode(nextNode)) {\n      return nextNode\n    }\n\n    nextNode = nextNode.nextElementSibling\n    maxSteps += 1\n  }\n}\n\nconst findPreviousOption = (currentValue: string, container: HTMLElement) => {\n  const currentOption = findOptionByValue(currentValue, container)\n\n  let nextNode = currentOption?.previousElementSibling\n  let maxSteps = 0\n\n  while (nextNode && maxSteps < MAX_DOM_CRAWLS) {\n    if (isValidOptionNode(nextNode)) {\n      return nextNode\n    }\n\n    nextNode = nextNode.previousElementSibling\n    maxSteps += 1\n  }\n}\n\nconst createTypeahead = () => {\n  let currentValue: string = \"\"\n  let timeoutId: ReturnType<typeof setTimeout>\n\n  return (char: string) => {\n    // Searching is case-insensitive\n    char = char.toLowerCase()\n\n    // Add the new character to the current value\n    currentValue += char\n\n    // Clear the previous timeout if there was one\n    if (timeoutId) clearTimeout(timeoutId)\n\n    // Reset the value after a brief delay\n    timeoutId = setTimeout(() => {\n      currentValue = \"\"\n    }, 500)\n\n    // When a user is typing the same value, like \"llll\", assume they are cycling through items starting with \"l\"\n    // We continue to build up the string in case another letter is typed, and then release the full value.\n    // For example, if the user types \"ooog\", it will return \"o\", until \"g\" is typed, and then return the \"ooog\".\n    const isCycling = char.repeat(currentValue.length) === currentValue\n\n    // Return the typeahead value\n    return isCycling ? char : currentValue\n  }\n}\n\nconst isValidTypeaheadChar = (char: string): boolean => /^[a-zA-Z0-9]$/.test(char)\n\nconst getTypeaheadOption = <T extends Option>(\n  options: Options<T>,\n  typeaheadValue: string,\n  currentHighlightValue?: string,\n): T | undefined => {\n  // Ensure options actually exist\n  if (!options.length) {\n    return undefined\n  }\n\n  let matchBeforeHighlight: T | undefined\n  let matchAfterHighlight: T | undefined\n  // If we' aren't provided a highlighted value, start from the top (e.g., act like it's found)\n  let foundHighlightedValue: boolean = !currentHighlightValue\n\n  const optionValidAndMatches = ({ disabled, label, value }: T) => {\n    // Side effect of looping\n    if (value === currentHighlightValue) {\n      foundHighlightedValue = true\n      // Don't return highlighted value\n      return false\n    }\n\n    return !disabled && label.toLowerCase().startsWith(typeaheadValue)\n  }\n\n  for (const opt of options) {\n    if (isOptionGroup(opt)) {\n      for (const option of opt.options) {\n        if (optionValidAndMatches(option)) {\n          if (foundHighlightedValue) {\n            matchAfterHighlight = option\n            // We're done after we've found an after match\n            break\n          } else {\n            // Keep the first found \"before\" match\n            matchBeforeHighlight = matchBeforeHighlight || option\n          }\n        }\n      }\n    } else {\n      if (optionValidAndMatches(opt)) {\n        if (foundHighlightedValue) {\n          matchAfterHighlight = opt\n          // We're done after we've found an after match\n          break\n        } else {\n          // Keep the first found \"before\" match\n          matchBeforeHighlight = matchBeforeHighlight || opt\n        }\n      }\n    }\n  }\n\n  return matchAfterHighlight || matchBeforeHighlight\n}\n"]}