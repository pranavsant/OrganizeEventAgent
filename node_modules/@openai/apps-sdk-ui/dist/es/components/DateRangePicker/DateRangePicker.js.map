{"version":3,"file":"DateRangePicker.js","sourceRoot":"","sources":["../../../../src/components/DateRangePicker/DateRangePicker.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAA;;AAEZ,OAAO,EAAE,QAAQ,EAAE,MAAM,OAAO,CAAA;AAChC,OAAO,EAAE,OAAO,EAAE,MAAM,OAAO,CAAA;AAC/B,OAAO,EAAE,cAAc,EAAE,MAAM,4BAA4B,CAAA;AAC3D,OAAO,EAAE,QAAQ,EAAE,MAAM,qBAAqB,CAAA;AAC9C,OAAO,EAAE,OAAO,EAA4B,MAAM,YAAY,CAAA;AAE9D,OAAO,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,MAAM,YAAY,CAAA;AAClE,OAAO,EAAE,gBAAgB,EAA8B,MAAM,WAAW,CAAA;AACxE,OAAO,EAAE,gBAAgB,EAAE,MAAM,WAAW,CAAA;AAC5C,OAAO,EAA0C,MAAM,SAAS,CAAA;AAkHhE,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,KAA2B,EAAE,EAAE;IAC7D,MAAM,EACJ,KAAK,EACL,QAAQ,EACR,GAAG,EACH,GAAG,EACH,YAAY,EACZ,SAAS,EACT,IAAI,GAAG,QAAQ,EACf,UAAU,GAAG,CAAC,EACd,KAAK,GAAG,QAAQ,EAChB,WAAW,EACX,OAAO,GAAG,SAAS,EACnB,IAAI,GAAG,IAAI,EACX,SAAS,GAAG,KAAK,EACjB,QAAQ,GAAG,KAAK,EAChB,gBAAgB,EAChB,WAAW,GAAG,sBAAsB,EACpC,IAAI,GAAG,IAAI,EACX,KAAK,GAAG,KAAK,EACb,kBAAkB,EAClB,gBAAgB,EAChB,eAAe,GAAG,IAAI,EACtB,iBAAiB,GAAG,UAAU,GAC/B,GAAG,KAAK,CAAA;IAET,IAAI,GAAG,IAAI,GAAG,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,EAAE,CAAC;QACtC,MAAM,IAAI,KAAK,CAAC,iEAAiE,CAAC,CAAA;IACpF,CAAC;IAED,qFAAqF;IACrF,MAAM,WAAW,GAAG,cAAc,CAAC,QAAQ,CAAC,CAAA;IAE5C,MAAM,KAAK,GAAG,OAAO,CACnB,GAAG,EAAE,CAAC,CAAC;QACL,KAAK;QACL,GAAG;QACH,GAAG;QACH,YAAY;QACZ,OAAO;QACP,IAAI;QACJ,gBAAgB;QAChB,SAAS;QACT,QAAQ;QACR,WAAW;QACX,KAAK;QACL,IAAI;QACJ,SAAS;QACT,kBAAkB;QAClB,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,WAAW;KACZ,CAAC,EACF;QACE,KAAK;QACL,GAAG;QACH,GAAG;QACH,YAAY;QACZ,OAAO;QACP,IAAI;QACJ,gBAAgB;QAChB,SAAS;QACT,QAAQ;QACR,WAAW;QACX,KAAK;QACL,IAAI;QACJ,SAAS;QACT,kBAAkB;QAClB,gBAAgB;QAChB,eAAe;QACf,iBAAiB;QACjB,WAAW;KACZ,CACF,CAAA;IAED,OAAO,CACL,KAAC,gBAAgB,IAAC,KAAK,EAAE,KAAK,YAC5B,MAAC,OAAO,eACN,KAAC,OAAO,CAAC,OAAO,cACd,KAAC,gBAAgB,KAAG,GACJ,EAClB,KAAC,OAAO,CAAC,OAAO,IACd,QAAQ,EAAE,GAAG,EACb,IAAI,EAAE,IAAI,EACV,UAAU,EAAE,UAAU,EACtB,KAAK,EAAE,KAAK,EACZ,WAAW,EAAE,WAAW,IAAI,CAAC,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,YAEzD,eAAK,SAAS,EAAC,MAAM,aACnB,KAAC,kBAAkB,IAAC,SAAS,EAAE,SAAS,GAAI,EAC5C,KAAC,iBAAiB,KAAG,IACjB,GACU,IACV,GACO,CACpB,CAAA;AACH,CAAC,CAAA","sourcesContent":["\"use client\"\n\nimport { DateTime } from \"luxon\"\nimport { useMemo } from \"react\"\nimport { useLatestValue } from \"../../hooks/useLatestValue\"\nimport { isBefore } from \"../../lib/dateUtils\"\nimport { Popover, type PopoverContentProps } from \"../Popover\"\nimport type { SelectControlProps } from \"../SelectControl\"\nimport { DateRangeCalendar, DateRangeShortcuts } from \"./Calendar\"\nimport { DateRangeContext, type DateRangeContextValue } from \"./context\"\nimport { DateRangeTrigger } from \"./Trigger\"\nimport { type DateRange, type DateRangeShortcut } from \"./types\"\n\nexport type DateRangePickerProps = {\n  /**\n   * The selected date range value.\n   */\n  value: DateRange | null\n  /**\n   * Handler that is triggered when the date range changes.\n   */\n  onChange: (nextValue: DateRange | null, shortcut?: DateRangeShortcut) => void\n  /**\n   * Defines the earliest selectable date (inclusive).\n   */\n  min?: DateTime\n  /**\n   * Defines the latest selectable date (inclusive).\n   */\n  max?: DateTime\n  /**\n   * Maximum length of the selectable range in days (inclusive).\n   * When set, the end date cannot be more than this many days after the start date.\n   */\n  maxRangeDays?: number\n  /**\n   * List of date range shortcuts displayed for quick selection, shown to the left of the calendar.\n   */\n  shortcuts?: DateRangeShortcut[]\n  /**\n   * The preferred side of the trigger to render against when open. Will be reversed when collisions occur.\n   * @default bottom\n   */\n  side?: PopoverContentProps[\"side\"]\n  /**\n   * The distance in pixels from the trigger.\n   * @default 8\n   */\n  sideOffset?: PopoverContentProps[\"sideOffset\"]\n  /**\n   * The preferred alignment against the trigger. May change when collisions occur.\n   * @default center\n   */\n  align?: PopoverContentProps[\"align\"]\n  /**\n   * An offset in pixels from the \"start\" or \"end\" alignment options.\n   * @default 0\n   */\n  alignOffset?: PopoverContentProps[\"alignOffset\"]\n\n  /**\n   * Disables the select visually and from interactions\n   * @default false\n   */\n  disabled?: boolean\n  /**\n   * Placeholder text for the select\n   * @default Select date range...\n   */\n  placeholder?: string\n  /**\n   * Style variant for the select trigger\n   * @default outline\n   */\n  variant?: SelectControlProps[\"variant\"]\n  /**\n   * Determines if the select trigger should be a fully rounded pill shape\n   * @default false\n   */\n  pill?: boolean\n  /**\n   * Determines size of the size and spacing of the control.\n   *\n   * | 3xs     | 2xs     | xs      | sm      | md      | lg      | xl      | 2xl     | 3xl     |\n   * | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- |\n   * | `22px`  | `24px`  | `26px`  | `28px`  | `32px`  | `36px`  | `40px`  | `44px`  | `48px`  |\n   * @default md\n   */\n  size?: SelectControlProps[\"size\"]\n  /**\n   * Icon displayed in the far right of the select trigger\n   * @default dropdown\n   */\n  dropdownIconType?: SelectControlProps[\"dropdownIconType\"]\n  /**\n   * Custom class applied to the select trigger\n   */\n  triggerClassName?: string\n  /**\n   * Display calendar icon at the start of the trigger\n   * @default true\n   */\n  triggerShowIcon?: boolean\n  /**\n   * Allows the trigger to display as a stepper when the selected date matches the unit.\n   * Currently 'month' is the only supported unit.\n   */\n  triggerStepperUnit?: \"month\"\n  /**\n   * Format of dates displayed in the trigger\n   * @default \"MM/dd/yy\"\n   */\n  triggerDateFormat?: string\n  /**\n   * Display a clear action that allows the select to be unset.\n   * @default false\n   */\n  clearable?: boolean\n  /**\n   * Extends select to 100% of available width.\n   * @default true\n   */\n  block?: boolean\n}\n\nexport const DateRangePicker = (props: DateRangePickerProps) => {\n  const {\n    value,\n    onChange,\n    min,\n    max,\n    maxRangeDays,\n    shortcuts,\n    side = \"bottom\",\n    sideOffset = 8,\n    align = \"center\",\n    alignOffset,\n    variant = \"outline\",\n    size = \"md\",\n    clearable = false,\n    disabled = false,\n    dropdownIconType,\n    placeholder = \"Select date range...\",\n    pill = true,\n    block = false,\n    triggerStepperUnit,\n    triggerClassName,\n    triggerShowIcon = true,\n    triggerDateFormat = \"MM/dd/yy\",\n  } = props\n\n  if (min && max && !isBefore(min, max)) {\n    throw new Error(\"DateRangePicker error: `min` date must be before the `max` date\")\n  }\n\n  // Create stable, mutable references to avoid memoization requirements from consumers\n  const onChangeRef = useLatestValue(onChange)\n\n  const store = useMemo<DateRangeContextValue>(\n    () => ({\n      value,\n      min,\n      max,\n      maxRangeDays,\n      variant,\n      size,\n      dropdownIconType,\n      clearable,\n      disabled,\n      placeholder,\n      block,\n      pill,\n      shortcuts,\n      triggerStepperUnit,\n      triggerClassName,\n      triggerShowIcon,\n      triggerDateFormat,\n      onChangeRef,\n    }),\n    [\n      value,\n      min,\n      max,\n      maxRangeDays,\n      variant,\n      size,\n      dropdownIconType,\n      clearable,\n      disabled,\n      placeholder,\n      block,\n      pill,\n      shortcuts,\n      triggerStepperUnit,\n      triggerClassName,\n      triggerShowIcon,\n      triggerDateFormat,\n      onChangeRef,\n    ],\n  )\n\n  return (\n    <DateRangeContext value={store}>\n      <Popover>\n        <Popover.Trigger>\n          <DateRangeTrigger />\n        </Popover.Trigger>\n        <Popover.Content\n          minWidth={230}\n          side={side}\n          sideOffset={sideOffset}\n          align={align}\n          alignOffset={alignOffset ?? (align === \"center\" ? 0 : -5)}\n        >\n          <div className=\"flex\">\n            <DateRangeShortcuts shortcuts={shortcuts} />\n            <DateRangeCalendar />\n          </div>\n        </Popover.Content>\n      </Popover>\n    </DateRangeContext>\n  )\n}\n"]}