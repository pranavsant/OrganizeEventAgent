{"version":3,"file":"usePopoverController.js","sourceRoot":"","sources":["../../../../src/components/Popover/usePopoverController.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAA;AAEZ,OAAO,EAAE,WAAW,EAAE,MAAM,OAAO,CAAA;AACnC,OAAO,EAAE,SAAS,EAAE,MAAM,WAAW,CAAA;AACrC,OAAO,EAAE,qBAAqB,EAAE,MAAM,mBAAmB,CAAA;AACzD,OAAO,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAA;AAEvD,MAAM,CAAC,MAAM,eAAe,GAAG,GAAG,EAAE;IAClC,MAAM,EAAE,OAAO,EAAE,GAAG,iBAAiB,EAAE,CAAA;IACvC,OAAO,WAAW,CAAC,GAAG,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE,CAAC,OAAO,CAAC,CAAC,CAAA;AACrD,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,eAAe,GAAG,GAAG,EAAE;IAClC,MAAM,EAAE,QAAQ,EAAE,GAAG,iBAAiB,EAAE,CAAA;IACxC,OAAO,WAAW,CAAC,GAAG,EAAE;QACtB,uEAAuE;QACvE,SAAS,CAAC,GAAG,EAAE;YACb,QAAQ,CAAC,KAAK,CAAC,CAAA;QACjB,CAAC,CAAC,CAAA;QACF,qBAAqB,CAAC,GAAG,EAAE,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAA;IAC7C,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAA;AAChB,CAAC,CAAA;AAED,MAAM,CAAC,MAAM,oBAAoB,GAAG,GAKlC,EAAE;IACF,MAAM,KAAK,GAAG,eAAe,EAAE,CAAA;IAC/B,MAAM,KAAK,GAAG,eAAe,EAAE,CAAA;IAC/B,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE,CAAA;AACzB,CAAC,CAAA","sourcesContent":["\"use client\"\n\nimport { useCallback } from \"react\"\nimport { flushSync } from \"react-dom\"\nimport { waitForAnimationFrame } from \"../../lib/helpers\"\nimport { usePopoverContext } from \"./usePopoverContext\"\n\nexport const usePopoverClose = () => {\n  const { setOpen } = usePopoverContext()\n  return useCallback(() => setOpen(false), [setOpen])\n}\n\nexport const usePopoverShake = () => {\n  const { setShake } = usePopoverContext()\n  return useCallback(() => {\n    // Sequence: (1) ensure shake is cleared, then (2) set on the next tick\n    flushSync(() => {\n      setShake(false)\n    })\n    waitForAnimationFrame(() => setShake(true))\n  }, [setShake])\n}\n\nexport const usePopoverController = (): {\n  /** Plays a short shake animation on the modal. */\n  shake: () => void\n  /** Imperatively closes the modal. */\n  close: () => void\n} => {\n  const shake = usePopoverShake()\n  const close = usePopoverClose()\n  return { close, shake }\n}\n"]}