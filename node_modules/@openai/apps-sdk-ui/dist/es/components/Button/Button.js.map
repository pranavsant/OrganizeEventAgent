{"version":3,"file":"Button.js","sourceRoot":"","sources":["../../../../src/components/Button/Button.tsx"],"names":[],"mappings":"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","sourcesContent":["\"use client\"\n\nimport clsx from \"clsx\"\nimport {\n  type ButtonHTMLAttributes,\n  type ComponentProps,\n  type ComponentType,\n  type MouseEventHandler,\n  type ReactNode,\n  useCallback,\n} from \"react\"\nimport { handlePressableMouseEnter } from \"../../lib/helpers\"\nimport { wrapTextNodeSiblings } from \"../../lib/renderHelpers\"\nimport { type ControlSize, type SemanticColors, type Sizes, type Variants } from \"../../types\"\nimport { useLinkComponent } from \"../AppsSDKUIProvider/internal\"\nimport { LoadingIndicator } from \"../Indicator\"\nimport { TransitionGroup } from \"../Transition/TransitionGroup\"\nimport s from \"./Button.module.css\"\n\ntype CommonProps = {\n  /**\n   * Color for the button\n   * @default secondary\n   */\n  color: SemanticColors<\n    \"primary\" | \"secondary\" | \"danger\" | \"success\" | \"info\" | \"discovery\" | \"caution\" | \"warning\"\n  >\n  /**\n   * Style variant for the Button\n   * @default \"solid\"\n   */\n  variant?: Variants<\"solid\" | \"soft\" | \"outline\" | \"ghost\">\n  /**\n   * Determines if the button should be a fully rounded pill shape\n   * @default false\n   */\n  pill?: boolean\n  /**\n   * Disables the button visually and from interactions\n   * @default false\n   */\n  disabled?: boolean\n  /**\n   * Controls the visual tone when the button is disabled. \"relaxed\" will use a default cursor instead of not-allowed.\n   */\n  disabledTone?: \"relaxed\"\n  /**\n   * Determines if the button should take up 100% of available width\n   * @default false\n   */\n  block?: boolean\n  /**\n   * Applies a negative margin using the current gutter to optically align the button\n   * with surrounding content.\n   */\n  opticallyAlign?: \"start\" | \"end\"\n  /**\n   * Controls size of the button, specifically height, but also includes defaults for `gutterSize`, `iconSize`, `font-size`, etc.\n   *\n   * | 3xs     | 2xs     | xs      | sm      | md      | lg      | xl      | 2xl     | 3xl     |\n   * | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- | ------- |\n   * | `22px`  | `24px`  | `26px`  | `28px`  | `32px`  | `36px`  | `40px`  | `44px`  | `48px`  |\n   * @default md\n   */\n  size?: ControlSize\n  /**\n   * Controls the size of icons within the button, defaults to value from `size`.\n   *\n   * | xs     | sm     | md     | lg     | xl     | 2xl    |\n   * | ------ | ------ | ------ | ------ | ------ | ------ |\n   * | `14px` | `16px` | `18px` | `20px` | `22px` | `24px` |\n   */\n  iconSize?: Sizes<\"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\">\n  /**\n   * Controls gutter on the edges of the button, defaults to value from `size`.\n   *\n   * | 3xs    | 2xs    | xs     | sm     | md     | lg     | xl     |\n   * | ------ | ------ | ------ | ------ | ------ | ------ | ------ |\n   * | `4px`  | `6px`  | `8px`  | `10px` | `12px` | `14px` | `16px` |\n   */\n  gutterSize?: Sizes<\"3xs\" | \"2xs\" | \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\">\n  /** Custom class applied to the Button element */\n  className?: string\n  /** Content rendered inside of the Button */\n  children: React.ReactNode\n}\n\nexport type ButtonProps = CommonProps & {\n  /**\n   * Determines if the button should have matching width and height, based on the `size`.\n   * @default false\n   */\n  uniform?: boolean\n  /**\n   * Displays selected styles on the button, varying by `variant\n   * @default false\n   */\n  selected?: boolean\n  /**\n   * Displays loading indicator on top of button contents\n   * @default false\n   */\n  loading?: boolean\n  /**\n   * Determines whether the button should be made inert, without introducing visual change.\n   * @default false\n   */\n  inert?: boolean\n  /** Ref for the button */\n  ref?: React.Ref<HTMLButtonElement | null>\n} & ButtonHTMLAttributes<HTMLButtonElement>\n\nexport const Button = (props: ButtonProps) => {\n  const {\n    type = \"button\",\n    color = \"primary\",\n    variant = \"solid\",\n    pill = true,\n    uniform = false,\n    size = \"md\",\n    iconSize,\n    gutterSize,\n    loading,\n    selected,\n    block,\n    opticallyAlign,\n    children,\n    className,\n    onClick,\n    disabled,\n    disabledTone,\n    // Defaults to `loading` state\n    inert = loading,\n    ...restProps\n  } = props\n\n  const isInert = disabled || inert\n\n  const handleClick: MouseEventHandler<HTMLButtonElement> = useCallback(\n    (e) => {\n      if (disabled) {\n        return\n      }\n      onClick?.(e)\n    },\n    [onClick, disabled],\n  )\n\n  return (\n    <button\n      type={type}\n      className={clsx(s.Button, className)}\n      data-color={color}\n      data-variant={variant}\n      data-pill={pill ? \"\" : undefined}\n      data-uniform={uniform ? \"\" : undefined}\n      data-size={size}\n      data-gutter-size={gutterSize}\n      data-icon-size={iconSize}\n      data-loading={loading ? \"\" : undefined}\n      data-selected={selected ? \"\" : undefined}\n      data-block={block ? \"\" : undefined}\n      data-optically-align={opticallyAlign}\n      onPointerEnter={handlePressableMouseEnter}\n      // Non-visual, accessible disablement\n      // NOTE: Do not use literal `inert` because that is incorrect semantically\n      disabled={isInert}\n      aria-disabled={isInert}\n      tabIndex={isInert ? -1 : undefined}\n      // Visual disablement\n      data-disabled={disabled ? \"\" : undefined}\n      data-disabled-tone={disabled ? disabledTone : undefined}\n      onClick={handleClick}\n      {...restProps}\n    >\n      <TransitionGroup className={s.ButtonLoader} enterDuration={250} exitDuration={150}>\n        {loading && <LoadingIndicator key=\"loader\" />}\n      </TransitionGroup>\n      <span className={s.ButtonInner}>{wrapTextNodeSiblings(children)}</span>\n    </button>\n  )\n}\n\ntype ButtonLink = <\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  T extends ComponentType<any> | \"a\" = AppsSDKUI.LinkComponent,\n>(\n  props: Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> &\n    CommonProps & {\n      /**\n       * Explicity specify that the link is an external link. This should be\n       * automatically detected based on the URL, but in some cases (e.g.\n       * my-app://foo) you may want to explicitly set this.\n       */\n      external?: boolean\n      /**\n       * Override the default component used for the link. This is useful for\n       * using a routing library, or SSR rendering.\n       * purposes.\n       *\n       * @default 'a'\n       */\n      as?: T\n    } & ComponentProps<T>,\n) => ReactNode\n\nexport const ButtonLink = ((\n  props: Omit<React.AnchorHTMLAttributes<HTMLAnchorElement>, \"href\"> &\n    CommonProps & {\n      href?: string\n      to?: string\n      external?: boolean\n      as?: AppsSDKUI.LinkComponent\n    },\n) => {\n  const {\n    color = \"primary\",\n    variant = \"solid\",\n    pill = true,\n    size = \"md\",\n    gutterSize,\n    iconSize,\n    external,\n    block,\n    opticallyAlign,\n    children,\n    className,\n    disabled,\n    disabledTone,\n    onClick,\n    onPointerEnter,\n    as: OverrideComponent,\n    href,\n    to,\n    ...restProps\n  } = props\n\n  const isExternal = external ?? /^https?:\\/\\//.test(href ?? to ?? \"\")\n  const DefaultComponent = useLinkComponent()\n  const LinkComponent = OverrideComponent || (isExternal ? \"a\" : DefaultComponent)\n\n  const sharedProps = {\n    \"className\": clsx(s.Button, className),\n    disabled,\n    \"aria-disabled\": disabled,\n    \"tabIndex\": disabled ? -1 : undefined,\n    // Visual disablement (inert not supported in links, always applied)\n    \"data-disabled\": disabled ? \"\" : undefined,\n    \"data-disabled-tone\": disabled ? disabledTone : undefined,\n    \"data-color\": color,\n    \"data-variant\": variant,\n    \"data-pill\": pill ? \"\" : undefined,\n    \"data-block\": block ? \"\" : undefined,\n    \"data-optically-align\": opticallyAlign,\n    \"data-size\": size,\n    \"data-gutter-size\": gutterSize,\n    \"data-icon-size\": iconSize,\n    \"onClick\": disabled ? undefined : onClick,\n    \"onPointerEnter\": (evt: React.PointerEvent<HTMLAnchorElement>) => {\n      handlePressableMouseEnter(evt)\n      onPointerEnter?.(evt)\n    },\n  }\n\n  if (disabled) {\n    // Don't thread down stuff that isn't valid for a span - just keep the event handlers\n    const eventProps = Object.fromEntries(\n      Object.entries(restProps).filter(\n        ([key, value]) => key.startsWith(\"on\") && typeof value === \"function\",\n      ),\n    )\n    return (\n      <span role=\"link\" {...sharedProps} {...eventProps}>\n        <span className={s.ButtonInner}>{wrapTextNodeSiblings(children)}</span>\n      </span>\n    )\n  }\n\n  const linkProps = {\n    ...(isExternal\n      ? { target: \"_blank\", rel: \"noopener noreferrer\", href: href ?? to }\n      : { href, to }),\n    ...sharedProps,\n    ...restProps,\n  }\n\n  return (\n    <LinkComponent {...linkProps}>\n      <span className={s.ButtonInner}>{wrapTextNodeSiblings(children)}</span>\n    </LinkComponent>\n  )\n}) as ButtonLink\n"]}