{"version":3,"file":"TransitionGroup.js","sourceRoot":"","sources":["../../../../src/components/Transition/TransitionGroup.tsx"],"names":[],"mappings":"AAAA,YAAY,CAAA;;AAEZ,OAAO,KAAK,EAAE,EACZ,QAAQ,EACR,WAAW,EACX,SAAS,EACT,eAAe,EACf,UAAU,EACV,MAAM,EACN,QAAQ,GAET,MAAM,OAAO,CAAA;AACd,OAAO,EAAE,SAAS,EAAE,MAAM,kBAAkB,CAAA;AAE5C,OAAO,EAAE,qBAAqB,EAAE,MAAM,mBAAmB,CAAA;AAEzD,OAAO,IAAI,MAAM,MAAM,CAAA;AACvB,OAAO,EAAE,UAAU,EAAE,MAAM,aAAa,CAAA;AACxC,OAAO,oBAAoB,MAAM,wBAAwB,CAAA;AACzD,OAAO,EACL,wBAAwB,EACxB,gBAAgB,EAChB,yBAAyB,EACzB,IAAI,EACJ,gBAAgB,GAIjB,MAAM,UAAU,CAAA;AACjB,OAAO,CAAC,MAAM,8BAA8B,CAAA;AAC5C,OAAO,EAAE,yBAAyB,EAAE,iBAAiB,EAAE,MAAM,qBAAqB,CAAA;AAiBlF,MAAM,yBAAyB,GAAG,CAAC,EACjC,GAAG,EAAE,YAAY,EACjB,EAAE,EAAE,OAAO,EACX,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,KAAK,EACL,sBAAsB,EACtB,YAAY,EACZ,aAAa,EACb,YAAY,EACZ,WAAW,EACX,OAAO,EACP,aAAa,EACb,eAAe,EACf,MAAM,EACN,YAAY,EACZ,cAAc,GACY,EAAE,EAAE;IAC9B,MAAM,CAAC,KAAK,EAAE,QAAQ,CAAC,GAAG,UAAU,CAClC,iBAAiB,EACjB,yBAAyB,CAAC,sBAAsB,IAAI,KAAK,CAAC,CAC3D,CAAA;IACD,kEAAkE;IAClE,mDAAmD;IACnD,MAAM,wBAAwB,GAAG,MAAM,CAAU,KAAK,CAAC,CAAA;IACvD,MAAM,UAAU,GAAG,MAAM,CAAwB,IAAI,CAAC,CAAA;IACtD,gFAAgF;IAChF,MAAM,gBAAgB,GAAG,MAAM,CAAS,aAAa,CAAC,CAAA;IACtD,gBAAgB,CAAC,OAAO,GAAG,aAAa,CAAA;IACxC,MAAM,eAAe,GAAG,MAAM,CAAS,YAAY,CAAC,CAAA;IACpD,eAAe,CAAC,OAAO,GAAG,YAAY,CAAA;IAEtC,MAAM,eAAe,GAAG,MAAM,CAAe,IAAI,CAAC,CAAA;IAClD,MAAM,eAAe,GAAG,WAAW,CACjC,CAAC,YAA0B,EAAE,EAAE;QAC7B,MAAM,OAAO,GAAG,UAAU,CAAC,OAAO,CAAA;QAElC,IAAI,CAAC,OAAO,IAAI,YAAY,KAAK,eAAe,CAAC,OAAO,EAAE,CAAC;YACzD,OAAM;QACR,CAAC;QAED,eAAe,CAAC,OAAO,GAAG,YAAY,CAAA;QAEtC,QAAQ,YAAY,EAAE,CAAC;YACrB,KAAK,OAAO;gBACV,OAAO,CAAC,OAAO,CAAC,CAAA;gBAChB,MAAK;YACP,KAAK,cAAc;gBACjB,aAAa,CAAC,OAAO,CAAC,CAAA;gBACtB,MAAK;YACP,KAAK,gBAAgB;gBACnB,eAAe,CAAC,OAAO,CAAC,CAAA;gBACxB,MAAK;YACP,KAAK,MAAM;gBACT,MAAM,CAAC,OAAO,CAAC,CAAA;gBACf,MAAK;YACP,KAAK,aAAa;gBAChB,YAAY,CAAC,OAAO,CAAC,CAAA;gBACrB,MAAK;YACP,KAAK,eAAe;gBAClB,cAAc,CAAC,OAAO,CAAC,CAAA;gBACvB,MAAK;YACP;gBACE,YAA4B,CAAA;gBAC5B,MAAK;QACT,CAAC;IACH,CAAC,EACD,CAAC,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE,cAAc,CAAC,CAChF,CAAA;IAED,KAAK,CAAC,eAAe,CAAC,GAAG,EAAE;QACzB,kBAAkB;QAClB,IAAI,CAAC,YAAY,EAAE,CAAC;YAClB,IAAI,WAA+B,CAAA;YAEnC,QAAQ,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAA;YACjC,eAAe,CAAC,MAAM,CAAC,CAAA;YAEvB,MAAM,oBAAoB,GAAG,qBAAqB,CAAC,GAAG,EAAE;gBACtD,QAAQ,CAAC,EAAE,IAAI,EAAE,aAAa,EAAE,CAAC,CAAA;gBACjC,eAAe,CAAC,aAAa,CAAC,CAAA;gBAE9B,WAAW,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;oBACnC,eAAe,CAAC,eAAe,CAAC,CAAA;oBAChC,WAAW,EAAE,CAAA;gBACf,CAAC,EAAE,eAAe,CAAC,OAAO,CAAC,CAAA;YAC7B,CAAC,CAAC,CAAA;YAEF,OAAO,GAAG,EAAE;gBACV,oBAAoB,EAAE,CAAA;gBACtB,IAAI,WAAW,KAAK,SAAS;oBAAE,YAAY,CAAC,WAAW,CAAC,CAAA;YAC1D,CAAC,CAAA;QACH,CAAC;QAED,mBAAmB;QAEnB,2DAA2D;QAC3D,IAAI,sBAAsB,IAAI,CAAC,wBAAwB,CAAC,OAAO,EAAE,CAAC;YAChE,0DAA0D;YAC1D,wBAAwB,CAAC,OAAO,GAAG,IAAI,CAAA;YACvC,OAAM;QACR,CAAC;QAED,IAAI,YAAgC,CAAA;QAEpC,QAAQ,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAA;QAClC,eAAe,CAAC,OAAO,CAAC,CAAA;QAExB,MAAM,oBAAoB,GAAG,qBAAqB,CAAC,GAAG,EAAE;YACtD,QAAQ,CAAC,EAAE,IAAI,EAAE,cAAc,EAAE,CAAC,CAAA;YAClC,eAAe,CAAC,cAAc,CAAC,CAAA;YAE/B,YAAY,GAAG,MAAM,CAAC,UAAU,CAAC,GAAG,EAAE;gBACpC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAA;gBAC1B,eAAe,CAAC,gBAAgB,CAAC,CAAA;YACnC,CAAC,EAAE,gBAAgB,CAAC,OAAO,CAAC,CAAA;QAC9B,CAAC,CAAC,CAAA;QAEF,OAAO,GAAG,EAAE;YACV,oBAAoB,EAAE,CAAA;YACtB,IAAI,YAAY,KAAK,SAAS;gBAAE,YAAY,CAAC,YAAY,CAAC,CAAA;QAC5D,CAAC,CAAA;IACH,CAAC,EAAE;QACD,YAAY;QACZ,iGAAiG;QACjG,sBAAsB;QACtB,WAAW;QACX,eAAe;KAChB,CAAC,CAAA;IAEF,SAAS,CAAC,GAAG,EAAE;QACb,iEAAiE;QACjE,+EAA+E;QAC/E,OAAO,GAAG,EAAE;YACV,wBAAwB,CAAC,OAAO,GAAG,KAAK,CAAA;QAC1C,CAAC,CAAA;IACH,CAAC,EAAE,EAAE,CAAC,CAAA;IAEN,OAAO,CACL,KAAC,OAAO,IACN,GAAG,EAAE,SAAS,CAAC,CAAC,UAAU,EAAE,YAAY,CAAC,CAAC,EAC1C,SAAS,EAAE,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,oBAAoB,CAAC,wBAC9B,YAAY,EAChC,KAAK,EAAE,KAAK,mBACG,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,0BACrB,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,kBAC1C,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,yBACpB,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,sBACpC,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS,YAEnD,QAAQ,GACD,CACX,CAAA;AACH,CAAC,CAAA;AAED,MAAM,oBAAoB,GAAG,CAAC,KAAgC,EAAE,EAAE;IAChE,kEAAkE;IAClE,MAAM,EAAE,eAAe,EAAE,sBAAsB,EAAE,GAAG,KAAK,CAAA;IACzD,2EAA2E;IAC3E,2EAA2E;IAC3E,MAAM,UAAU,GAAG,CAAC,sBAAsB,IAAI,eAAe,IAAI,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC,IAAI,CAAA;IAC9F,MAAM,CAAC,OAAO,EAAE,UAAU,CAAC,GAAG,QAAQ,CAAC,UAAU,IAAI,IAAI,CAAC,CAAA;IAC1D,UAAU,CAAC,GAAG,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAA;IAE/D,OAAO,OAAO,CAAC,CAAC,CAAC,KAAC,yBAAyB,OAAK,KAAK,GAAI,CAAC,CAAC,CAAC,IAAI,CAAA;AAClE,CAAC,CAAA;AAuCD,MAAM,CAAC,MAAM,eAAe,GAAG,CAAC,KAA2B,EAAE,EAAE;IAC7D,MAAM,EACJ,GAAG,EAAE,YAAY,EACjB,EAAE,EAAE,OAAO,GAAG,MAAM,EACpB,QAAQ,EACR,SAAS,EACT,YAAY,EACZ,KAAK,EACL,aAAa,GAAG,CAAC,EACjB,YAAY,GAAG,CAAC,EAChB,wBAAwB,GAAG,IAAI,EAC/B,eAAe,EACf,YAAY,GAAG,QAAQ,EACvB,iBAAiB,GAAG,oBAAoB,EAAE,GAC3C,GAAG,KAAK,CAAA;IACT,sDAAsD;IACtD,MAAM,OAAO,GAAG,gBAAgB,CAAC,KAAK,CAAC,OAAO,IAAI,IAAI,CAAC,CAAA;IACvD,MAAM,aAAa,GAAG,gBAAgB,CAAC,KAAK,CAAC,aAAa,IAAI,IAAI,CAAC,CAAA;IACnE,MAAM,eAAe,GAAG,gBAAgB,CAAC,KAAK,CAAC,eAAe,IAAI,IAAI,CAAC,CAAA;IACvE,MAAM,MAAM,GAAG,gBAAgB,CAAC,KAAK,CAAC,MAAM,IAAI,IAAI,CAAC,CAAA;IACrD,MAAM,YAAY,GAAG,gBAAgB,CAAC,KAAK,CAAC,YAAY,IAAI,IAAI,CAAC,CAAA;IACjE,MAAM,cAAc,GAAG,gBAAgB,CAAC,KAAK,CAAC,cAAc,IAAI,IAAI,CAAC,CAAA;IAErE,8CAA8C;IAC9C,kIAAkI;IAClI,QAAQ,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE;QACnC,+FAA+F;QAC/F,IAAI,KAAK,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;YACxB,MAAM,IAAI,KAAK,CAAC,4DAA4D,CAAC,CAAA;QAC/E,CAAC;IACH,CAAC,CAAC,CAAA;IAEF,MAAM,6BAA6B,GAAG,WAAW,CAC/C,CAAC,KAA0B,EAAe,EAAE,CAAC,CAAC;QAC5C,SAAS,EAAE,KAAK;QAChB,YAAY,EAAE,IAAI;QAClB,WAAW,EAAE,GAAG,EAAE;YAChB,iBAAiB,CAAC,CAAC,qBAAqB,EAAE,EAAE,CAC1C,qBAAqB,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,KAAK,CAAC,GAAG,KAAK,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CACnE,CAAA;QACH,CAAC;QACD,OAAO;QACP,aAAa;QACb,eAAe;QACf,MAAM;QACN,YAAY;QACZ,cAAc;KACf,CAAC,EACF,CAAC,OAAO,EAAE,aAAa,EAAE,eAAe,EAAE,MAAM,EAAE,YAAY,EAAE,cAAc,CAAC,CAChF,CAAA;IAED,MAAM,CAAC,cAAc,EAAE,iBAAiB,CAAC,GAAG,QAAQ,CAAgB,GAAkB,EAAE;QACtF,OAAO,gBAAgB,CAAC,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;YAChD,GAAG,6BAA6B,CAAC,KAAK,CAAC;YACvC,sFAAsF;YACtF,2DAA2D;YAC3D,sBAAsB,EAAE,wBAAwB;SACjD,CAAC,CAAC,CAAA;IACL,CAAC,CAAC,CAAA;IAEF,eAAe,CAAC,GAAG,EAAE;QACnB,iBAAiB,CAAC,CAAC,qBAAqB,EAAiB,EAAE;YACzD,MAAM,iBAAiB,GAAG,gBAAgB,CAAC,QAAQ,CAAC,CAAA;YACpD,OAAO,yBAAyB,CAC9B,iBAAiB,EACjB,qBAAqB,EACrB,6BAA6B,EAC7B,YAAY,CACb,CAAA;QACH,CAAC,CAAC,CAAA;IACJ,CAAC,EAAE,CAAC,QAAQ,EAAE,YAAY,EAAE,6BAA6B,CAAC,CAAC,CAAA;IAE3D,sFAAsF;IACtF,wBAAwB,CAAC,iBAAiB,EAAE,YAAY,EAAE,QAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAA;IAEnF,IAAI,iBAAiB,EAAE,CAAC;QACtB,OAAO,CACL,4BACG,QAAQ,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,EAAE,CAAC,CACjC,KAAC,OAAO;YACN,8EAA8E;;gBAA9E,8EAA8E;gBAC9E,GAAG,EAAE,YAAY,EACjB,SAAS,EAAE,SAAS,EACpB,KAAK,EAAE,KAAK,wBACQ,YAAY,YAE/B,KAAK,GACE,CACX,CAAC,GACD,CACJ,CAAA;IACH,CAAC;IAED,OAAO,CACL,4BACG,cAAc,CAAC,GAAG,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,SAAS,EAAE,EAAE,EAAE,CAAC,CACnD,KAAC,oBAAoB,OAEf,SAAS,EACb,EAAE,EAAE,OAAO,EACX,SAAS,EAAE,SAAS,EACpB,YAAY,EAAE,YAAY,EAC1B,aAAa,EAAE,aAAa,EAC5B,YAAY,EAAE,YAAY,EAC1B,eAAe,EAAE,eAAe,EAChC,KAAK,EAAE,KAAK,EACZ,GAAG,EAAE,YAAY,YAEhB,SAAS,IAXL,SAAS,CAAC,GAAG,CAYG,CACxB,CAAC,GACD,CACJ,CAAA;AACH,CAAC,CAAA","sourcesContent":["\"use client\"\n\nimport React, {\n  Children,\n  useCallback,\n  useEffect,\n  useLayoutEffect,\n  useReducer,\n  useRef,\n  useState,\n  type CSSProperties,\n} from \"react\"\nimport { mergeRefs } from \"react-merge-refs\"\n\nimport { waitForAnimationFrame } from \"../../lib/helpers\"\n\nimport clsx from \"clsx\"\nimport { useTimeout } from \"usehooks-ts\"\nimport getDisableAnimations from \"./getDisableAnimations\"\nimport {\n  assertSingleChildWhenRef,\n  ChildrenWithKeys,\n  computeNextRenderChildren,\n  noop,\n  useChildCallback,\n  type CallbackType,\n  type ReactElementWithKey,\n  type TransitionGroupChildCallbacks,\n} from \"./shared\"\nimport s from \"./TransitionGroup.module.css\"\nimport { getInitialTransitionState, transitionReducer } from \"./transitionReducer\"\n\ntype TransitionGroupChildProps = {\n  as: \"div\" | \"span\"\n  children: React.ReactNode\n  className?: string\n  transitionId?: string\n  style?: CSSProperties\n  preventMountTransition?: boolean\n  shouldRender: boolean\n  enterDuration: number\n  exitDuration: number\n  enterMountDelay?: number\n  removeChild: () => void\n  ref?: React.Ref<unknown>\n} & TransitionGroupChildCallbacks\n\nconst TransitionGroupChildInner = ({\n  ref: forwardedRef,\n  as: TagName,\n  children,\n  className,\n  transitionId,\n  style,\n  preventMountTransition,\n  shouldRender,\n  enterDuration,\n  exitDuration,\n  removeChild,\n  onEnter,\n  onEnterActive,\n  onEnterComplete,\n  onExit,\n  onExitActive,\n  onExitComplete,\n}: TransitionGroupChildProps) => {\n  const [state, dispatch] = useReducer(\n    transitionReducer,\n    getInitialTransitionState(preventMountTransition || false),\n  )\n  // Allow a child to prevent mount transition, but still experience\n  // future enter transition events, when applicable.\n  const preventedMountTransition = useRef<boolean>(false)\n  const elementRef = useRef<HTMLDivElement | null>(null)\n  // Duration values should not affect hook re-renders, so we create refs for them\n  const enterDurationRef = useRef<number>(enterDuration)\n  enterDurationRef.current = enterDuration\n  const exitDurationRef = useRef<number>(exitDuration)\n  exitDurationRef.current = exitDuration\n\n  const lastCallbackRef = useRef<CallbackType>(null)\n  const triggerCallback = useCallback(\n    (callbackType: CallbackType) => {\n      const element = elementRef.current\n\n      if (!element || callbackType === lastCallbackRef.current) {\n        return\n      }\n\n      lastCallbackRef.current = callbackType\n\n      switch (callbackType) {\n        case \"enter\":\n          onEnter(element)\n          break\n        case \"enter-active\":\n          onEnterActive(element)\n          break\n        case \"enter-complete\":\n          onEnterComplete(element)\n          break\n        case \"exit\":\n          onExit(element)\n          break\n        case \"exit-active\":\n          onExitActive(element)\n          break\n        case \"exit-complete\":\n          onExitComplete(element)\n          break\n        default:\n          callbackType satisfies never\n          break\n      }\n    },\n    [onEnter, onEnterActive, onEnterComplete, onExit, onExitActive, onExitComplete],\n  )\n\n  React.useLayoutEffect(() => {\n    // Exit transition\n    if (!shouldRender) {\n      let exitTimeout: number | undefined\n\n      dispatch({ type: \"exit-before\" })\n      triggerCallback(\"exit\")\n\n      const cancelAnimationFrame = waitForAnimationFrame(() => {\n        dispatch({ type: \"exit-active\" })\n        triggerCallback(\"exit-active\")\n\n        exitTimeout = window.setTimeout(() => {\n          triggerCallback(\"exit-complete\")\n          removeChild()\n        }, exitDurationRef.current)\n      })\n\n      return () => {\n        cancelAnimationFrame()\n        if (exitTimeout !== undefined) clearTimeout(exitTimeout)\n      }\n    }\n\n    // Enter transition\n\n    // Check if we need to prevent this specific entering cycle\n    if (preventMountTransition && !preventedMountTransition.current) {\n      // Mark initial transition as prevented and short-circuit.\n      preventedMountTransition.current = true\n      return\n    }\n\n    let enterTimeout: number | undefined\n\n    dispatch({ type: \"enter-before\" })\n    triggerCallback(\"enter\")\n\n    const cancelAnimationFrame = waitForAnimationFrame(() => {\n      dispatch({ type: \"enter-active\" })\n      triggerCallback(\"enter-active\")\n\n      enterTimeout = window.setTimeout(() => {\n        dispatch({ type: \"done\" })\n        triggerCallback(\"enter-complete\")\n      }, enterDurationRef.current)\n    })\n\n    return () => {\n      cancelAnimationFrame()\n      if (enterTimeout !== undefined) clearTimeout(enterTimeout)\n    }\n  }, [\n    shouldRender,\n    // This value is immutable after <TransitionGroup> is created, and does not change on re-renders.\n    preventMountTransition,\n    removeChild,\n    triggerCallback,\n  ])\n\n  useEffect(() => {\n    // Required for <StrictMode>, because we need to unset this token\n    // when the hooks are re-run. It's an imperative effect that we need to manage.\n    return () => {\n      preventedMountTransition.current = false\n    }\n  }, [])\n\n  return (\n    <TagName\n      ref={mergeRefs([elementRef, forwardedRef])}\n      className={clsx(className, s.TransitionGroupChild)}\n      data-transition-id={transitionId}\n      style={style}\n      data-entering={state.enter ? \"\" : undefined}\n      data-entering-active={state.enterActive ? \"\" : undefined}\n      data-exiting={state.exit ? \"\" : undefined}\n      data-exiting-active={state.exitActive ? \"\" : undefined}\n      data-interrupted={state.interrupted ? \"\" : undefined}\n    >\n      {children}\n    </TagName>\n  )\n}\n\nconst TransitionGroupChild = (props: TransitionGroupChildProps) => {\n  // Don't spread these out of props - pass all props to inner child\n  const { enterMountDelay, preventMountTransition } = props\n  // Mount gating occurs when enterMountDelay exists, and isn't initial mount\n  // Otherwise, this flag is a no-op and the TransitionChild mounts normally.\n  const mountDelay = !preventMountTransition && enterMountDelay != null ? enterMountDelay : null\n  const [mounted, setMounted] = useState(mountDelay == null)\n  useTimeout(() => setMounted(true), mounted ? null : mountDelay)\n\n  return mounted ? <TransitionGroupChildInner {...props} /> : null\n}\n\nexport type TransitionGroupProps = {\n  /** Components controlled by TransitionGroup rendering */\n  children: React.ReactNode\n  /** Determines the tag used by wrapping elements */\n  as?: \"div\" | \"span\"\n  /** Class passed to wrapping elements */\n  className?: string\n  /** Identifier passed to wrapping elements as `[data-transition-id]` */\n  transitionId?: string\n  /** Determines the amount of time that the enter state is applied during mounting */\n  enterDuration?: number\n  /** Determines the amount of time that the exit state is applied before unmounting */\n  exitDuration?: number\n  /**\n   * Determines if children should have an enter transition applied during mounting of the TransitionGroup.\n   * @default true\n   */\n  preventInitialTransition?: boolean\n  /** Delay in MS to wait before mounting a child. `null` for no delay (default). */\n  enterMountDelay?: number\n  /** Render children changes immediately, bypassing transition timings */\n  disableAnimations?: boolean\n  /** Determines how new children are added to the children array */\n  insertMethod?: \"append\" | \"prepend\"\n  /** Styles applied to wrapping elements */\n  style?: CSSProperties\n  /** Ref for the TransitionGroup */\n  ref?: React.Ref<unknown>\n} & Partial<TransitionGroupChildCallbacks>\n\ntype RenderChild = {\n  component: ReactElementWithKey\n  shouldRender: boolean\n  preventMountTransition?: boolean\n  removeChild: () => void\n} & TransitionGroupChildCallbacks\n\nexport const TransitionGroup = (props: TransitionGroupProps) => {\n  const {\n    ref: forwardedRef,\n    as: TagName = \"span\",\n    children,\n    className,\n    transitionId,\n    style,\n    enterDuration = 0,\n    exitDuration = 0,\n    preventInitialTransition = true,\n    enterMountDelay,\n    insertMethod = \"append\",\n    disableAnimations = getDisableAnimations(),\n  } = props\n  // Create stable, mutable references for all callbacks\n  const onEnter = useChildCallback(props.onEnter ?? noop)\n  const onEnterActive = useChildCallback(props.onEnterActive ?? noop)\n  const onEnterComplete = useChildCallback(props.onEnterComplete ?? noop)\n  const onExit = useChildCallback(props.onExit ?? noop)\n  const onExitActive = useChildCallback(props.onExitActive ?? noop)\n  const onExitComplete = useChildCallback(props.onExitComplete ?? noop)\n\n  // Ensure all children are provided with keys.\n  // Cannot reliably use Children.toArray() because `key` is processed: https://reactjs.org/docs/react-api.html#reactchildrentoarray\n  Children.forEach(children, (child) => {\n    // @ts-expect-error - We know `key` might not exist on certain types, that's why we're checking\n    if (child && !child.key) {\n      throw new Error(\"Child elements of <TransitionGroup /> must include a `key`\")\n    }\n  })\n\n  const createDefaultRenderChildProps = useCallback(\n    (child: ReactElementWithKey): RenderChild => ({\n      component: child,\n      shouldRender: true,\n      removeChild: () => {\n        setRenderChildren((currentRenderChildren) =>\n          currentRenderChildren.filter((c) => child.key !== c.component.key),\n        )\n      },\n      onEnter,\n      onEnterActive,\n      onEnterComplete,\n      onExit,\n      onExitActive,\n      onExitComplete,\n    }),\n    [onEnter, onEnterActive, onEnterComplete, onExit, onExitActive, onExitComplete],\n  )\n\n  const [renderChildren, setRenderChildren] = useState<RenderChild[]>((): RenderChild[] => {\n    return ChildrenWithKeys(children).map((child) => ({\n      ...createDefaultRenderChildProps(child),\n      // Lock this value to whatever the value was on initial render of the TransitionGroup.\n      // It doesn't make sense to change this once it is mounted.\n      preventMountTransition: preventInitialTransition,\n    }))\n  })\n\n  useLayoutEffect(() => {\n    setRenderChildren((currentRenderChildren): RenderChild[] => {\n      const propChildrenArray = ChildrenWithKeys(children)\n      return computeNextRenderChildren(\n        propChildrenArray,\n        currentRenderChildren,\n        createDefaultRenderChildProps,\n        insertMethod,\n      )\n    })\n  }, [children, insertMethod, createDefaultRenderChildProps])\n\n  // Prevent mistakes with forwardRef() by ensuring single child usage within the group.\n  assertSingleChildWhenRef(\"TransitionGroup\", forwardedRef, Children.count(children))\n\n  if (disableAnimations) {\n    return (\n      <>\n        {Children.map(children, (child) => (\n          <TagName\n            // @ts-expect-error -- TS is not happy about this forwardedRef, but it's fine.\n            ref={forwardedRef}\n            className={className}\n            style={style}\n            data-transition-id={transitionId}\n          >\n            {child}\n          </TagName>\n        ))}\n      </>\n    )\n  }\n\n  return (\n    <>\n      {renderChildren.map(({ component, ...restProps }) => (\n        <TransitionGroupChild\n          key={component.key}\n          {...restProps}\n          as={TagName}\n          className={className}\n          transitionId={transitionId}\n          enterDuration={enterDuration}\n          exitDuration={exitDuration}\n          enterMountDelay={enterMountDelay}\n          style={style}\n          ref={forwardedRef}\n        >\n          {component}\n        </TransitionGroupChild>\n      ))}\n    </>\n  )\n}\n"]}