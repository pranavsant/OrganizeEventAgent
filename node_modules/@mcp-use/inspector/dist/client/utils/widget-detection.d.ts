/**
 * Widget protocol detection utilities
 *
 * Determines which rendering protocol to use based on tool metadata and result.
 * Priority: MCP Apps → ChatGPT Apps SDK → MCP-UI → None
 */
export type WidgetProtocol = "mcp-apps" | "chatgpt-app" | "mcp-ui" | "both" | null;
/**
 * Detect if a tool supports BOTH MCP Apps and ChatGPT Apps SDK
 *
 * @param toolMeta - Tool metadata from tool definition (_meta field)
 * @returns True if tool has both protocols
 */
export declare function hasBothProtocols(toolMeta?: Record<string, any>): boolean;
/**
 * Detect which widget protocol to use for rendering
 *
 * @param toolMeta - Tool metadata from tool definition (_meta field)
 * @param toolResult - Tool execution result
 * @returns The detected protocol or null if no custom UI
 */
export declare function detectWidgetProtocol(toolMeta?: Record<string, any>, toolResult?: any): WidgetProtocol;
/**
 * Extract resource URI for a detected widget protocol
 */
export declare function extractWidgetResourceUri(protocol: WidgetProtocol, toolMeta?: Record<string, any>, toolResult?: any): string | null;
/**
 * Extract resource URI for a specific protocol (used when toggling between protocols)
 *
 * @param protocol - The specific protocol to get URI for
 * @param toolMeta - Tool metadata from tool definition (_meta field)
 * @returns The resource URI or null
 */
export declare function getResourceUriForProtocol(protocol: "mcp-apps" | "chatgpt-app", toolMeta?: Record<string, any>): string | null;
/**
 * Check if a tool has widget support that can be pre-rendered
 * (detected from metadata before tool execution)
 *
 * Returns true for MCP Apps and ChatGPT Apps (detected from metadata)
 * Returns false for MCP-UI (requires result to detect)
 *
 * @param toolMeta - Tool metadata from tool definition (_meta field)
 * @returns True if the widget can be pre-rendered before tool execution completes
 */
export declare function canPreRenderWidget(toolMeta?: Record<string, any>): boolean;
//# sourceMappingURL=widget-detection.d.ts.map