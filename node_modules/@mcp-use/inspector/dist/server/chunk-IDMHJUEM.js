// src/server/file-utils.ts
import { existsSync } from "fs";
import { dirname, join } from "path";
import { fileURLToPath } from "url";
function getContentType(filePath) {
  if (filePath.endsWith(".js")) {
    return "application/javascript";
  } else if (filePath.endsWith(".css")) {
    return "text/css";
  } else if (filePath.endsWith(".svg")) {
    return "image/svg+xml";
  } else if (filePath.endsWith(".html")) {
    return "text/html";
  } else if (filePath.endsWith(".json")) {
    return "application/json";
  } else if (filePath.endsWith(".png")) {
    return "image/png";
  } else if (filePath.endsWith(".jpg") || filePath.endsWith(".jpeg")) {
    return "image/jpeg";
  } else if (filePath.endsWith(".ico")) {
    return "image/x-icon";
  } else {
    return "application/octet-stream";
  }
}
function checkClientFiles(clientDistPath) {
  return existsSync(clientDistPath);
}
function getClientDistPath() {
  const __filename = fileURLToPath(import.meta.url);
  const __dirname = dirname(__filename);
  if (__dirname.endsWith("dist") || __dirname.endsWith("dist/")) {
    return join(__dirname, "web");
  }
  return join(__dirname, "../web");
}

export {
  getContentType,
  checkClientFiles,
  getClientDistPath
};
