{
  "version": 3,
  "sources": ["../../@modelcontextprotocol/sdk/src/shared/transport.ts", "../../pkce-challenge/dist/index.browser.js", "../../@modelcontextprotocol/sdk/src/shared/auth.ts", "../../@modelcontextprotocol/sdk/src/shared/auth-utils.ts", "../../@modelcontextprotocol/sdk/src/server/auth/errors.ts", "../../@modelcontextprotocol/sdk/src/client/auth.ts", "../../eventsource-parser/src/errors.ts", "../../eventsource-parser/src/parse.ts", "../../eventsource-parser/src/stream.ts", "../../@modelcontextprotocol/sdk/src/client/streamableHttp.ts", "../../eventsource/src/errors.ts", "../../eventsource/src/EventSource.ts", "../../@modelcontextprotocol/sdk/src/client/sse.ts", "../../mcp-use/dist/chunk-MOIY46VI.js"],
  "sourcesContent": [null, "let crypto;\ncrypto = globalThis.crypto; // web browsers\n/**\n * Creates an array of length `size` of random bytes\n * @param size\n * @returns Array of random ints (0 to 255)\n */\nasync function getRandomValues(size) {\n    return (await crypto).getRandomValues(new Uint8Array(size));\n}\n/** Generate cryptographically strong random string\n * @param size The desired length of the string\n * @returns The random string\n */\nasync function random(size) {\n    const mask = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~\";\n    const evenDistCutoff = Math.pow(2, 8) - Math.pow(2, 8) % mask.length;\n    let result = \"\";\n    while (result.length < size) {\n        const randomBytes = await getRandomValues(size - result.length);\n        for (const randomByte of randomBytes) {\n            if (randomByte < evenDistCutoff) {\n                result += mask[randomByte % mask.length];\n            }\n        }\n    }\n    return result;\n}\n/** Generate a PKCE challenge verifier\n * @param length Length of the verifier\n * @returns A random verifier `length` characters long\n */\nasync function generateVerifier(length) {\n    return await random(length);\n}\n/** Generate a PKCE code challenge from a code verifier\n * @param code_verifier\n * @returns The base64 url encoded code challenge\n */\nexport async function generateChallenge(code_verifier) {\n    const buffer = await (await crypto).subtle.digest(\"SHA-256\", new TextEncoder().encode(code_verifier));\n    // Generate base64url string\n    // btoa is deprecated in Node.js but is used here for web browser compatibility\n    // (which has no good replacement yet, see also https://github.com/whatwg/html/issues/6811)\n    return btoa(String.fromCharCode(...new Uint8Array(buffer)))\n        .replace(/\\//g, '_')\n        .replace(/\\+/g, '-')\n        .replace(/=/g, '');\n}\n/** Generate a PKCE challenge pair\n * @param length Length of the verifer (between 43-128). Defaults to 43.\n * @returns PKCE challenge pair\n */\nexport default async function pkceChallenge(length) {\n    if (!length)\n        length = 43;\n    if (length < 43 || length > 128) {\n        throw `Expected a length between 43 and 128. Received ${length}.`;\n    }\n    const verifier = await generateVerifier(length);\n    const challenge = await generateChallenge(verifier);\n    return {\n        code_verifier: verifier,\n        code_challenge: challenge,\n    };\n}\n/** Verify that a code_verifier produces the expected code challenge\n * @param code_verifier\n * @param expectedChallenge The code challenge to verify\n * @returns True if challenges are equal. False otherwise.\n */\nexport async function verifyChallenge(code_verifier, expectedChallenge) {\n    const actualChallenge = await generateChallenge(code_verifier);\n    return actualChallenge === expectedChallenge;\n}\n", null, null, null, null, "/**\n * The type of error that occurred.\n * @public\n */\nexport type ErrorType = 'invalid-retry' | 'unknown-field'\n\n/**\n * Error thrown when encountering an issue during parsing.\n *\n * @public\n */\nexport class ParseError extends Error {\n  /**\n   * The type of error that occurred.\n   */\n  type: ErrorType\n\n  /**\n   * In the case of an unknown field encountered in the stream, this will be the field name.\n   */\n  field?: string | undefined\n\n  /**\n   * In the case of an unknown field encountered in the stream, this will be the value of the field.\n   */\n  value?: string | undefined\n\n  /**\n   * The line that caused the error, if available.\n   */\n  line?: string | undefined\n\n  constructor(\n    message: string,\n    options: {type: ErrorType; field?: string; value?: string; line?: string},\n  ) {\n    super(message)\n    this.name = 'ParseError'\n    this.type = options.type\n    this.field = options.field\n    this.value = options.value\n    this.line = options.line\n  }\n}\n", "/**\n * EventSource/Server-Sent Events parser\n * @see https://html.spec.whatwg.org/multipage/server-sent-events.html\n */\nimport {ParseError} from './errors.ts'\nimport type {EventSourceParser, ParserCallbacks} from './types.ts'\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nfunction noop(_arg: unknown) {\n  // intentional noop\n}\n\n/**\n * Creates a new EventSource parser.\n *\n * @param callbacks - Callbacks to invoke on different parsing events:\n *   - `onEvent` when a new event is parsed\n *   - `onError` when an error occurs\n *   - `onRetry` when a new reconnection interval has been sent from the server\n *   - `onComment` when a comment is encountered in the stream\n *\n * @returns A new EventSource parser, with `parse` and `reset` methods.\n * @public\n */\nexport function createParser(callbacks: ParserCallbacks): EventSourceParser {\n  if (typeof callbacks === 'function') {\n    throw new TypeError(\n      '`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?',\n    )\n  }\n\n  const {onEvent = noop, onError = noop, onRetry = noop, onComment} = callbacks\n\n  let incompleteLine = ''\n\n  let isFirstChunk = true\n  let id: string | undefined\n  let data = ''\n  let eventType = ''\n\n  function feed(newChunk: string) {\n    // Strip any UTF8 byte order mark (BOM) at the start of the stream\n    const chunk = isFirstChunk ? newChunk.replace(/^\\xEF\\xBB\\xBF/, '') : newChunk\n\n    // If there was a previous incomplete line, append it to the new chunk,\n    // so we may process it together as a new (hopefully complete) chunk.\n    const [complete, incomplete] = splitLines(`${incompleteLine}${chunk}`)\n\n    for (const line of complete) {\n      parseLine(line)\n    }\n\n    incompleteLine = incomplete\n    isFirstChunk = false\n  }\n\n  function parseLine(line: string) {\n    // If the line is empty (a blank line), dispatch the event\n    if (line === '') {\n      dispatchEvent()\n      return\n    }\n\n    // If the line starts with a U+003A COLON character (:), ignore the line.\n    if (line.startsWith(':')) {\n      if (onComment) {\n        onComment(line.slice(line.startsWith(': ') ? 2 : 1))\n      }\n      return\n    }\n\n    // If the line contains a U+003A COLON character (:)\n    const fieldSeparatorIndex = line.indexOf(':')\n    if (fieldSeparatorIndex !== -1) {\n      // Collect the characters on the line before the first U+003A COLON character (:),\n      // and let `field` be that string.\n      const field = line.slice(0, fieldSeparatorIndex)\n\n      // Collect the characters on the line after the first U+003A COLON character (:),\n      // and let `value` be that string. If value starts with a U+0020 SPACE character,\n      // remove it from value.\n      const offset = line[fieldSeparatorIndex + 1] === ' ' ? 2 : 1\n      const value = line.slice(fieldSeparatorIndex + offset)\n\n      processField(field, value, line)\n      return\n    }\n\n    // Otherwise, the string is not empty but does not contain a U+003A COLON character (:)\n    // Process the field using the whole line as the field name, and an empty string as the field value.\n    // ðŸ‘† This is according to spec. That means that a line that has the value `data` will result in\n    // a newline being added to the current `data` buffer, for instance.\n    processField(line, '', line)\n  }\n\n  function processField(field: string, value: string, line: string) {\n    // Field names must be compared literally, with no case folding performed.\n    switch (field) {\n      case 'event':\n        // Set the `event type` buffer to field value\n        eventType = value\n        break\n      case 'data':\n        // Append the field value to the `data` buffer, then append a single U+000A LINE FEED(LF)\n        // character to the `data` buffer.\n        data = `${data}${value}\\n`\n        break\n      case 'id':\n        // If the field value does not contain U+0000 NULL, then set the `ID` buffer to\n        // the field value. Otherwise, ignore the field.\n        id = value.includes('\\0') ? undefined : value\n        break\n      case 'retry':\n        // If the field value consists of only ASCII digits, then interpret the field value as an\n        // integer in base ten, and set the event stream's reconnection time to that integer.\n        // Otherwise, ignore the field.\n        if (/^\\d+$/.test(value)) {\n          onRetry(parseInt(value, 10))\n        } else {\n          onError(\n            new ParseError(`Invalid \\`retry\\` value: \"${value}\"`, {\n              type: 'invalid-retry',\n              value,\n              line,\n            }),\n          )\n        }\n        break\n      default:\n        // Otherwise, the field is ignored.\n        onError(\n          new ParseError(\n            `Unknown field \"${field.length > 20 ? `${field.slice(0, 20)}â€¦` : field}\"`,\n            {type: 'unknown-field', field, value, line},\n          ),\n        )\n        break\n    }\n  }\n\n  function dispatchEvent() {\n    const shouldDispatch = data.length > 0\n    if (shouldDispatch) {\n      onEvent({\n        id,\n        event: eventType || undefined,\n        // If the data buffer's last character is a U+000A LINE FEED (LF) character,\n        // then remove the last character from the data buffer.\n        data: data.endsWith('\\n') ? data.slice(0, -1) : data,\n      })\n    }\n\n    // Reset for the next event\n    id = undefined\n    data = ''\n    eventType = ''\n  }\n\n  function reset(options: {consume?: boolean} = {}) {\n    if (incompleteLine && options.consume) {\n      parseLine(incompleteLine)\n    }\n\n    isFirstChunk = true\n    id = undefined\n    data = ''\n    eventType = ''\n    incompleteLine = ''\n  }\n\n  return {feed, reset}\n}\n\n/**\n * For the given `chunk`, split it into lines according to spec, and return any remaining incomplete line.\n *\n * @param chunk - The chunk to split into lines\n * @returns A tuple containing an array of complete lines, and any remaining incomplete line\n * @internal\n */\nfunction splitLines(chunk: string): [complete: Array<string>, incomplete: string] {\n  /**\n   * According to the spec, a line is terminated by either:\n   * - U+000D CARRIAGE RETURN U+000A LINE FEED (CRLF) character pair\n   * - a single U+000A LINE FEED(LF) character not preceded by a U+000D CARRIAGE RETURN(CR) character\n   * - a single U+000D CARRIAGE RETURN(CR) character not followed by a U+000A LINE FEED(LF) character\n   */\n  const lines: Array<string> = []\n  let incompleteLine = ''\n  let searchIndex = 0\n\n  while (searchIndex < chunk.length) {\n    // Find next line terminator\n    const crIndex = chunk.indexOf('\\r', searchIndex)\n    const lfIndex = chunk.indexOf('\\n', searchIndex)\n\n    // Determine line end\n    let lineEnd = -1\n    if (crIndex !== -1 && lfIndex !== -1) {\n      // CRLF case\n      lineEnd = Math.min(crIndex, lfIndex)\n    } else if (crIndex !== -1) {\n      // CR at the end of a chunk might be part of a CRLF sequence that spans chunks,\n      // so we shouldn't treat it as a line terminator (yet)\n      if (crIndex === chunk.length - 1) {\n        lineEnd = -1\n      } else {\n        lineEnd = crIndex\n      }\n    } else if (lfIndex !== -1) {\n      lineEnd = lfIndex\n    }\n\n    // Extract line if terminator found\n    if (lineEnd === -1) {\n      // No terminator found, rest is incomplete\n      incompleteLine = chunk.slice(searchIndex)\n      break\n    } else {\n      const line = chunk.slice(searchIndex, lineEnd)\n      lines.push(line)\n\n      // Move past line terminator\n      searchIndex = lineEnd + 1\n      if (chunk[searchIndex - 1] === '\\r' && chunk[searchIndex] === '\\n') {\n        searchIndex++\n      }\n    }\n  }\n\n  return [lines, incompleteLine]\n}\n", "import {createParser} from './parse.ts'\nimport type {EventSourceMessage, EventSourceParser} from './types.ts'\n\n/**\n * Options for the EventSourceParserStream.\n *\n * @public\n */\nexport interface StreamOptions {\n  /**\n   * Behavior when a parsing error occurs.\n   *\n   * - A custom function can be provided to handle the error.\n   * - `'terminate'` will error the stream and stop parsing.\n   * - Any other value will ignore the error and continue parsing.\n   *\n   * @defaultValue `undefined`\n   */\n  onError?: ('terminate' | ((error: Error) => void)) | undefined\n\n  /**\n   * Callback for when a reconnection interval is sent from the server.\n   *\n   * @param retry - The number of milliseconds to wait before reconnecting.\n   */\n  onRetry?: ((retry: number) => void) | undefined\n\n  /**\n   * Callback for when a comment is encountered in the stream.\n   *\n   * @param comment - The comment encountered in the stream.\n   */\n  onComment?: ((comment: string) => void) | undefined\n}\n\n/**\n * A TransformStream that ingests a stream of strings and produces a stream of `EventSourceMessage`.\n *\n * @example Basic usage\n * ```\n * const eventStream =\n *   response.body\n *     .pipeThrough(new TextDecoderStream())\n *     .pipeThrough(new EventSourceParserStream())\n * ```\n *\n * @example Terminate stream on parsing errors\n * ```\n * const eventStream =\n *  response.body\n *   .pipeThrough(new TextDecoderStream())\n *   .pipeThrough(new EventSourceParserStream({terminateOnError: true}))\n * ```\n *\n * @public\n */\nexport class EventSourceParserStream extends TransformStream<string, EventSourceMessage> {\n  constructor({onError, onRetry, onComment}: StreamOptions = {}) {\n    let parser!: EventSourceParser\n\n    super({\n      start(controller) {\n        parser = createParser({\n          onEvent: (event) => {\n            controller.enqueue(event)\n          },\n          onError(error) {\n            if (onError === 'terminate') {\n              controller.error(error)\n            } else if (typeof onError === 'function') {\n              onError(error)\n            }\n\n            // Ignore by default\n          },\n          onRetry,\n          onComment,\n        })\n      },\n      transform(chunk) {\n        parser.feed(chunk)\n      },\n    })\n  }\n}\n\nexport {type ErrorType, ParseError} from './errors.ts'\nexport type {EventSourceMessage} from './types.ts'\n", null, "/**\n * An extended version of the `Event` emitted by the `EventSource` object when an error occurs.\n * While the spec does not include any additional properties, we intentionally go beyond the spec\n * and provide some (minimal) additional information to aid in debugging.\n *\n * @public\n */\nexport class ErrorEvent extends Event {\n  /**\n   * HTTP status code, if this was triggered by an HTTP error\n   * Note: this is not part of the spec, but is included for better error handling.\n   *\n   * @public\n   */\n  public code?: number | undefined\n\n  /**\n   * Optional message attached to the error.\n   * Note: this is not part of the spec, but is included for better error handling.\n   *\n   * @public\n   */\n  public message?: string | undefined\n\n  /**\n   * Constructs a new `ErrorEvent` instance. This is typically not called directly,\n   * but rather emitted by the `EventSource` object when an error occurs.\n   *\n   * @param type - The type of the event (should be \"error\")\n   * @param errorEventInitDict - Optional properties to include in the error event\n   */\n  constructor(\n    type: string,\n    errorEventInitDict?: {message?: string | undefined; code?: number | undefined},\n  ) {\n    super(type)\n    this.code = errorEventInitDict?.code ?? undefined\n    this.message = errorEventInitDict?.message ?? undefined\n  }\n\n  /**\n   * Node.js \"hides\" the `message` and `code` properties of the `ErrorEvent` instance,\n   * when it is `console.log`'ed. This makes it harder to debug errors. To ease debugging,\n   * we explicitly include the properties in the `inspect` method.\n   *\n   * This is automatically called by Node.js when you `console.log` an instance of this class.\n   *\n   * @param _depth - The current depth\n   * @param options - The options passed to `util.inspect`\n   * @param inspect - The inspect function to use (prevents having to import it from `util`)\n   * @returns A string representation of the error\n   */\n  [Symbol.for('nodejs.util.inspect.custom')](\n    _depth: number,\n    options: {colors: boolean},\n    inspect: (obj: unknown, inspectOptions: {colors: boolean}) => string,\n  ): string {\n    return inspect(inspectableError(this), options)\n  }\n\n  /**\n   * Deno \"hides\" the `message` and `code` properties of the `ErrorEvent` instance,\n   * when it is `console.log`'ed. This makes it harder to debug errors. To ease debugging,\n   * we explicitly include the properties in the `inspect` method.\n   *\n   * This is automatically called by Deno when you `console.log` an instance of this class.\n   *\n   * @param inspect - The inspect function to use (prevents having to import it from `util`)\n   * @param options - The options passed to `Deno.inspect`\n   * @returns A string representation of the error\n   */\n  [Symbol.for('Deno.customInspect')](\n    inspect: (obj: unknown, inspectOptions: {colors: boolean}) => string,\n    options: {colors: boolean},\n  ): string {\n    return inspect(inspectableError(this), options)\n  }\n}\n\n/**\n * For environments where DOMException may not exist, we will use a SyntaxError instead.\n * While this isn't strictly according to spec, it is very close.\n *\n * @param message - The message to include in the error\n * @returns A `DOMException` or `SyntaxError` instance\n * @internal\n */\nexport function syntaxError(message: string): SyntaxError {\n  // If someone can figure out a way to make this work without depending on DOM/Node.js typings,\n  // and without casting to `any`, please send a PR ðŸ™\n\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const DomException = (globalThis as any).DOMException\n  if (typeof DomException === 'function') {\n    return new DomException(message, 'SyntaxError')\n  }\n\n  return new SyntaxError(message)\n}\n\n/**\n * Flatten an error into a single error message string.\n * Unwraps nested errors and joins them with a comma.\n *\n * @param err - The error to flatten\n * @returns A string representation of the error\n * @internal\n */\nexport function flattenError(err: unknown): string {\n  if (!(err instanceof Error)) {\n    return `${err}`\n  }\n\n  if ('errors' in err && Array.isArray(err.errors)) {\n    return err.errors.map(flattenError).join(', ')\n  }\n\n  if ('cause' in err && err.cause instanceof Error) {\n    return `${err}: ${flattenError(err.cause)}`\n  }\n\n  return err.message\n}\n\n/**\n * Convert an `ErrorEvent` instance into a plain object for inspection.\n *\n * @param err - The `ErrorEvent` instance to inspect\n * @returns A plain object representation of the error\n * @internal\n */\nfunction inspectableError(err: ErrorEvent) {\n  return {\n    type: err.type,\n    message: err.message,\n    code: err.code,\n    defaultPrevented: err.defaultPrevented,\n    cancelable: err.cancelable,\n    timeStamp: err.timeStamp,\n  }\n}\n", "import {createParser, type EventSourceMessage, type EventSourceParser} from 'eventsource-parser'\n\nimport {ErrorEvent, flattenError, syntaxError} from './errors.js'\nimport type {\n  AddEventListenerOptions,\n  EventListenerOptions,\n  EventListenerOrEventListenerObject,\n  EventSourceEventMap,\n  EventSourceFetchInit,\n  EventSourceInit,\n  FetchLike,\n  FetchLikeResponse,\n} from './types.js'\n\n/**\n * An `EventSource` instance opens a persistent connection to an HTTP server, which sends events\n * in `text/event-stream` format. The connection remains open until closed by calling `.close()`.\n *\n * @public\n * @example\n * ```js\n * const eventSource = new EventSource('https://example.com/stream')\n * eventSource.addEventListener('error', (error) => {\n *   console.error(error)\n * })\n * eventSource.addEventListener('message', (event) => {\n *  console.log('Received message:', event.data)\n * })\n * ```\n */\nexport class EventSource extends EventTarget {\n  /**\n   * ReadyState representing an EventSource currently trying to connect\n   *\n   * @public\n   */\n  static CONNECTING = 0 as const\n\n  /**\n   * ReadyState representing an EventSource connection that is open (eg connected)\n   *\n   * @public\n   */\n  static OPEN = 1 as const\n\n  /**\n   * ReadyState representing an EventSource connection that is closed (eg disconnected)\n   *\n   * @public\n   */\n  static CLOSED = 2 as const\n\n  /**\n   * ReadyState representing an EventSource currently trying to connect\n   *\n   * @public\n   */\n  readonly CONNECTING = 0 as const\n\n  /**\n   * ReadyState representing an EventSource connection that is open (eg connected)\n   *\n   * @public\n   */\n  readonly OPEN = 1 as const\n\n  /**\n   * ReadyState representing an EventSource connection that is closed (eg disconnected)\n   *\n   * @public\n   */\n  readonly CLOSED = 2 as const\n\n  /**\n   * Returns the state of this EventSource object's connection. It can have the values described below.\n   *\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/readyState)\n   *\n   * Note: typed as `number` instead of `0 | 1 | 2` for compatibility with the `EventSource` interface,\n   * defined in the TypeScript `dom` library.\n   *\n   * @public\n   */\n  public get readyState(): number {\n    return this.#readyState\n  }\n\n  /**\n   * Returns the URL providing the event stream.\n   *\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/url)\n   *\n   * @public\n   */\n  public get url(): string {\n    return this.#url.href\n  }\n\n  /**\n   * Returns true if the credentials mode for connection requests to the URL providing the event stream is set to \"include\", and false otherwise.\n   *\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/withCredentials)\n   */\n  public get withCredentials(): boolean {\n    return this.#withCredentials\n  }\n\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/error_event) */\n  public get onerror(): ((ev: ErrorEvent) => unknown) | null {\n    return this.#onError\n  }\n  public set onerror(value: ((ev: ErrorEvent) => unknown) | null) {\n    this.#onError = value\n  }\n\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/message_event) */\n  public get onmessage(): ((ev: MessageEvent) => unknown) | null {\n    return this.#onMessage\n  }\n  public set onmessage(value: ((ev: MessageEvent) => unknown) | null) {\n    this.#onMessage = value\n  }\n\n  /** [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/open_event) */\n  public get onopen(): ((ev: Event) => unknown) | null {\n    return this.#onOpen\n  }\n  public set onopen(value: ((ev: Event) => unknown) | null) {\n    this.#onOpen = value\n  }\n\n  override addEventListener<K extends keyof EventSourceEventMap>(\n    type: K,\n    listener: (this: EventSource, ev: EventSourceEventMap[K]) => unknown,\n    options?: boolean | AddEventListenerOptions,\n  ): void\n  override addEventListener(\n    type: string,\n    listener: (this: EventSource, event: MessageEvent) => unknown,\n    options?: boolean | AddEventListenerOptions,\n  ): void\n  override addEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ): void\n  override addEventListener(\n    type: string,\n    listener:\n      | ((this: EventSource, event: MessageEvent) => unknown)\n      | EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ): void {\n    const listen = listener as (this: EventSource, event: Event) => unknown\n    super.addEventListener(type, listen, options)\n  }\n\n  override removeEventListener<K extends keyof EventSourceEventMap>(\n    type: K,\n    listener: (this: EventSource, ev: EventSourceEventMap[K]) => unknown,\n    options?: boolean | EventListenerOptions,\n  ): void\n  override removeEventListener(\n    type: string,\n    listener: (this: EventSource, event: MessageEvent) => unknown,\n    options?: boolean | EventListenerOptions,\n  ): void\n  override removeEventListener(\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions,\n  ): void\n  override removeEventListener(\n    type: string,\n    listener:\n      | ((this: EventSource, event: MessageEvent) => unknown)\n      | EventListenerOrEventListenerObject,\n    options?: boolean | EventListenerOptions,\n  ): void {\n    const listen = listener as (this: EventSource, event: Event) => unknown\n    super.removeEventListener(type, listen, options)\n  }\n\n  constructor(url: string | URL, eventSourceInitDict?: EventSourceInit) {\n    super()\n\n    try {\n      if (url instanceof URL) {\n        this.#url = url\n      } else if (typeof url === 'string') {\n        this.#url = new URL(url, getBaseURL())\n      } else {\n        throw new Error('Invalid URL')\n      }\n    } catch (err) {\n      throw syntaxError('An invalid or illegal string was specified')\n    }\n\n    this.#parser = createParser({\n      onEvent: this.#onEvent,\n      onRetry: this.#onRetryChange,\n    })\n\n    this.#readyState = this.CONNECTING\n    this.#reconnectInterval = 3000\n    this.#fetch = eventSourceInitDict?.fetch ?? globalThis.fetch\n    this.#withCredentials = eventSourceInitDict?.withCredentials ?? false\n\n    this.#connect()\n  }\n\n  /**\n   * Aborts any instances of the fetch algorithm started for this EventSource object, and sets the readyState attribute to CLOSED.\n   *\n   * [MDN Reference](https://developer.mozilla.org/docs/Web/API/EventSource/close)\n   *\n   * @public\n   */\n  close(): void {\n    if (this.#reconnectTimer) clearTimeout(this.#reconnectTimer)\n    if (this.#readyState === this.CLOSED) return\n    if (this.#controller) this.#controller.abort()\n    this.#readyState = this.CLOSED\n    this.#controller = undefined\n  }\n\n  // PRIVATES FOLLOW\n\n  /**\n   * Current connection state\n   *\n   * @internal\n   */\n  #readyState: number\n\n  /**\n   * Original URL used to connect.\n   *\n   * Note that this will stay the same even after a redirect.\n   *\n   * @internal\n   */\n  #url: URL\n\n  /**\n   * The destination URL after a redirect. Is reset on reconnection.\n   *\n   * @internal\n   */\n  #redirectUrl: URL | undefined\n\n  /**\n   * Whether to include credentials in the request\n   *\n   * @internal\n   */\n  #withCredentials: boolean\n\n  /**\n   * The fetch implementation to use\n   *\n   * @internal\n   */\n  #fetch: FetchLike\n\n  /**\n   * The reconnection time in milliseconds\n   *\n   * @internal\n   */\n  #reconnectInterval: number\n\n  /**\n   * Reference to an ongoing reconnect attempt, if any\n   *\n   * @internal\n   */\n  #reconnectTimer: ReturnType<typeof setTimeout> | undefined\n\n  /**\n   * The last event ID seen by the EventSource, which will be sent as `Last-Event-ID` in the\n   * request headers on a reconnection attempt.\n   *\n   * @internal\n   */\n  #lastEventId: string | null = null\n\n  /**\n   * The AbortController instance used to abort the fetch request\n   *\n   * @internal\n   */\n  #controller: AbortController | undefined\n\n  /**\n   * Instance of an EventSource parser (`eventsource-parser` npm module)\n   *\n   * @internal\n   */\n  #parser: EventSourceParser\n\n  /**\n   * Holds the current error handler, attached through `onerror` property directly.\n   * Note that `addEventListener('error', â€¦)` will not be stored here.\n   *\n   * @internal\n   */\n  #onError: ((ev: ErrorEvent) => unknown) | null = null\n\n  /**\n   * Holds the current message handler, attached through `onmessage` property directly.\n   * Note that `addEventListener('message', â€¦)` will not be stored here.\n   *\n   * @internal\n   */\n  #onMessage: ((ev: MessageEvent) => unknown) | null = null\n\n  /**\n   * Holds the current open handler, attached through `onopen` property directly.\n   * Note that `addEventListener('open', â€¦)` will not be stored here.\n   *\n   * @internal\n   */\n  #onOpen: ((ev: Event) => unknown) | null = null\n\n  /**\n   * Connect to the given URL and start receiving events\n   *\n   * @internal\n   */\n  #connect() {\n    this.#readyState = this.CONNECTING\n    this.#controller = new AbortController()\n\n    // Browser tests are failing if we directly call `this.#fetch()`, thus the indirection.\n    const fetch = this.#fetch\n    fetch(this.#url, this.#getRequestOptions())\n      .then(this.#onFetchResponse)\n      .catch(this.#onFetchError)\n  }\n\n  /**\n   * Handles the fetch response\n   *\n   * @param response - The Fetch(ish) response\n   * @internal\n   */\n  #onFetchResponse = async (response: FetchLikeResponse) => {\n    this.#parser.reset()\n\n    const {body, redirected, status, headers} = response\n\n    // [spec] a client can be told to stop reconnecting using the HTTP 204 No Content response code.\n    if (status === 204) {\n      // We still need to emit an error event - this mirrors the browser behavior,\n      // and without it there is no way to tell the user that the connection was closed.\n      this.#failConnection('Server sent HTTP 204, not reconnecting', 204)\n      this.close()\n      return\n    }\n\n    // [spec] â€¦Event stream requests can be redirected using HTTP 301 and 307 redirects as with\n    // [spec] normal HTTP requests.\n    // Spec does not say anything about other redirect codes (302, 308), but this seems an\n    // unintended omission, rather than a feature. Browsers will happily redirect on other 3xxs's.\n    if (redirected) {\n      this.#redirectUrl = new URL(response.url)\n    } else {\n      this.#redirectUrl = undefined\n    }\n\n    // [spec] if res's status is not 200, â€¦, then fail the connection.\n    if (status !== 200) {\n      this.#failConnection(`Non-200 status code (${status})`, status)\n      return\n    }\n\n    // [spec] â€¦or if res's `Content-Type` is not `text/event-stream`, then fail the connection.\n    const contentType = headers.get('content-type') || ''\n    if (!contentType.startsWith('text/event-stream')) {\n      this.#failConnection('Invalid content type, expected \"text/event-stream\"', status)\n      return\n    }\n\n    // [spec] â€¦if the readyState attribute is set to a value other than CLOSEDâ€¦\n    if (this.#readyState === this.CLOSED) {\n      return\n    }\n\n    // [spec] â€¦sets the readyState attribute to OPEN and fires an event\n    // [spec] â€¦named open at the EventSource object.\n    this.#readyState = this.OPEN\n\n    const openEvent = new Event('open')\n    this.#onOpen?.(openEvent)\n    this.dispatchEvent(openEvent)\n\n    // Ensure that the response stream is a web stream\n    if (typeof body !== 'object' || !body || !('getReader' in body)) {\n      this.#failConnection('Invalid response body, expected a web ReadableStream', status)\n      this.close() // This should only happen if `fetch` provided is \"faulty\" - don't reconnect\n      return\n    }\n\n    const decoder = new TextDecoder()\n\n    const reader = body.getReader()\n    let open = true\n\n    do {\n      const {done, value} = await reader.read()\n      if (value) {\n        this.#parser.feed(decoder.decode(value, {stream: !done}))\n      }\n\n      if (!done) {\n        continue\n      }\n\n      open = false\n      this.#parser.reset()\n\n      this.#scheduleReconnect()\n    } while (open)\n  }\n\n  /**\n   * Handles rejected requests for the EventSource endpoint\n   *\n   * @param err - The error from `fetch()`\n   * @internal\n   */\n  #onFetchError = (err: Error & {type?: string}) => {\n    this.#controller = undefined\n\n    // We expect abort errors when the user manually calls `close()` - ignore those\n    if (err.name === 'AbortError' || err.type === 'aborted') {\n      return\n    }\n\n    this.#scheduleReconnect(flattenError(err))\n  }\n\n  /**\n   * Get request options for the `fetch()` request\n   *\n   * @returns The request options\n   * @internal\n   */\n  #getRequestOptions(): EventSourceFetchInit {\n    const lastEvent = this.#lastEventId ? {'Last-Event-ID': this.#lastEventId} : undefined\n\n    const init: EventSourceFetchInit = {\n      // [spec] Let `corsAttributeState` be `Anonymous`â€¦\n      // [spec] â€¦will have their mode set to \"cors\"â€¦\n      mode: 'cors',\n      redirect: 'follow',\n      headers: {Accept: 'text/event-stream', ...lastEvent},\n      cache: 'no-store',\n      signal: this.#controller?.signal,\n    }\n\n    // Some environments crash if attempting to set `credentials` where it is not supported,\n    // eg on Cloudflare Workers. To avoid this, we only set it in browser-like environments.\n    if ('window' in globalThis) {\n      // [spec] â€¦and their credentials mode set to \"same-origin\"\n      // [spec] â€¦if the `withCredentials` attribute is `true`, set the credentials mode to \"include\"â€¦\n      init.credentials = this.withCredentials ? 'include' : 'same-origin'\n    }\n\n    return init\n  }\n\n  /**\n   * Called by EventSourceParser instance when an event has successfully been parsed\n   * and is ready to be processed.\n   *\n   * @param event - The parsed event\n   * @internal\n   */\n  #onEvent = (event: EventSourceMessage) => {\n    if (typeof event.id === 'string') {\n      this.#lastEventId = event.id\n    }\n\n    const messageEvent = new MessageEvent(event.event || 'message', {\n      data: event.data,\n      origin: this.#redirectUrl ? this.#redirectUrl.origin : this.#url.origin,\n      lastEventId: event.id || '',\n    })\n\n    // The `onmessage` property of the EventSource instance only triggers on messages without an\n    // `event` field, or ones that explicitly set `message`.\n    if (this.#onMessage && (!event.event || event.event === 'message')) {\n      this.#onMessage(messageEvent)\n    }\n\n    this.dispatchEvent(messageEvent)\n  }\n\n  /**\n   * Called by EventSourceParser instance when a new reconnection interval is received\n   * from the EventSource endpoint.\n   *\n   * @param value - The new reconnection interval in milliseconds\n   * @internal\n   */\n  #onRetryChange = (value: number) => {\n    this.#reconnectInterval = value\n  }\n\n  /**\n   * Handles the process referred to in the EventSource specification as \"failing a connection\".\n   *\n   * @param error - The error causing the connection to fail\n   * @param code - The HTTP status code, if available\n   * @internal\n   */\n  #failConnection(message?: string, code?: number) {\n    // [spec] â€¦if the readyState attribute is set to a value other than CLOSED,\n    // [spec] sets the readyState attribute to CLOSEDâ€¦\n    if (this.#readyState !== this.CLOSED) {\n      this.#readyState = this.CLOSED\n    }\n\n    // [spec] â€¦and fires an event named `error` at the `EventSource` object.\n    // [spec] Once the user agent has failed the connection, it does not attempt to reconnect.\n    // [spec] > Implementations are especially encouraged to report detailed information\n    // [spec] > to their development consoles whenever an error event is fired, since little\n    // [spec] > to no information can be made available in the events themselves.\n    // Printing to console is not very programatically helpful, though, so we emit a custom event.\n    const errorEvent = new ErrorEvent('error', {code, message})\n\n    this.#onError?.(errorEvent)\n    this.dispatchEvent(errorEvent)\n  }\n\n  /**\n   * Schedules a reconnection attempt against the EventSource endpoint.\n   *\n   * @param message - The error causing the connection to fail\n   * @param code - The HTTP status code, if available\n   * @internal\n   */\n  #scheduleReconnect(message?: string, code?: number) {\n    // [spec] If the readyState attribute is set to CLOSED, abort the task.\n    if (this.#readyState === this.CLOSED) {\n      return\n    }\n\n    // [spec] Set the readyState attribute to CONNECTING.\n    this.#readyState = this.CONNECTING\n\n    // [spec] Fire an event named `error` at the EventSource object.\n    const errorEvent = new ErrorEvent('error', {code, message})\n    this.#onError?.(errorEvent)\n    this.dispatchEvent(errorEvent)\n\n    // [spec] Wait a delay equal to the reconnection time of the event source.\n    this.#reconnectTimer = setTimeout(this.#reconnect, this.#reconnectInterval)\n  }\n\n  /**\n   * Reconnects to the EventSource endpoint after a disconnect/failure\n   *\n   * @internal\n   */\n  #reconnect = () => {\n    this.#reconnectTimer = undefined\n\n    // [spec] If the EventSource's readyState attribute is not set to CONNECTING, then return.\n    if (this.#readyState !== this.CONNECTING) {\n      return\n    }\n\n    this.#connect()\n  }\n}\n\n/**\n * According to spec, when constructing a URL:\n * > 1. Let baseURL be environment's base URL, if environment is a Document object\n * > 2. Return the result of applying the URL parser to url, with baseURL.\n *\n * Thus we should use `document.baseURI` if available, since it can be set through a base tag.\n *\n * @returns The base URL, if available - otherwise `undefined`\n * @internal\n */\nfunction getBaseURL(): string | undefined {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const doc = 'document' in globalThis ? (globalThis as any).document : undefined\n  return doc && typeof doc === 'object' && 'baseURI' in doc && typeof doc.baseURI === 'string'\n    ? doc.baseURI\n    : undefined\n}\n", null, "import {\n  ConnectionManager\n} from \"./chunk-GKPKUKD6.js\";\nimport {\n  BaseConnector\n} from \"./chunk-ZAA33UB5.js\";\nimport {\n  Tel,\n  getPackageVersion\n} from \"./chunk-YEK7642C.js\";\nimport {\n  logger\n} from \"./chunk-QWQYAQCK.js\";\nimport {\n  __name,\n  __require\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/session.ts\nvar MCPSession = class {\n  static {\n    __name(this, \"MCPSession\");\n  }\n  /**\n   * The underlying connector managing the transport layer.\n   * This is the Stdio, HTTP, or WebSocket connector handling actual communication.\n   */\n  connector;\n  /**\n   * Whether to automatically connect when initializing.\n   * @internal\n   */\n  autoConnect;\n  /**\n   * Creates a new MCP session.\n   *\n   * @param connector - The connector to use for communication (Stdio, HTTP, WebSocket)\n   * @param autoConnect - Whether to automatically connect during initialization (default: true)\n   *\n   * @example\n   * ```typescript\n   * const connector = new HttpConnector({ url: 'http://localhost:3000/mcp' });\n   * const session = new MCPSession(connector);\n   * await session.initialize(); // Auto-connects and initializes\n   * ```\n   *\n   * @example\n   * ```typescript\n   * // Manual connection control\n   * const session = new MCPSession(connector, false);\n   * await session.connect();\n   * await session.initialize();\n   * ```\n   */\n  constructor(connector, autoConnect = true) {\n    this.connector = connector;\n    this.autoConnect = autoConnect;\n  }\n  /**\n   * Establishes the connection to the MCP server.\n   *\n   * This method starts the underlying transport (spawns process for Stdio,\n   * opens WebSocket, etc.) but does not perform the MCP initialization\n   * handshake. Call {@link initialize} after connecting.\n   *\n   * @returns Promise that resolves when connected\n   *\n   * @example\n   * ```typescript\n   * await session.connect();\n   * await session.initialize();\n   * ```\n   *\n   * @see {@link initialize} for performing the MCP handshake\n   * @see {@link disconnect} for closing the connection\n   */\n  async connect() {\n    await this.connector.connect();\n  }\n  /**\n   * Closes the connection to the MCP server.\n   *\n   * This method gracefully shuts down the transport and cleans up resources.\n   * After disconnecting, the session cannot be used until reconnected.\n   *\n   * @returns Promise that resolves when disconnected\n   *\n   * @example\n   * ```typescript\n   * await session.disconnect();\n   * console.log('Session closed');\n   * ```\n   *\n   * @see {@link connect} for establishing connections\n   */\n  async disconnect() {\n    await this.connector.disconnect();\n  }\n  /**\n   * Initializes the MCP session with the server.\n   *\n   * This method performs the MCP initialization handshake, exchanging\n   * capabilities and metadata with the server. If `autoConnect` is true\n   * and the session is not yet connected, it will connect first.\n   *\n   * After initialization, you can list and call tools, read resources, etc.\n   *\n   * @returns Promise that resolves when initialized\n   *\n   * @example\n   * ```typescript\n   * const session = await client.createSession('my-server', false);\n   * await session.connect();\n   * await session.initialize();\n   * // Now ready to use\n   * const tools = await session.listTools();\n   * ```\n   *\n   * @see {@link connect} for establishing the connection first\n   */\n  async initialize() {\n    if (!this.isConnected && this.autoConnect) {\n      await this.connect();\n    }\n    await this.connector.initialize();\n  }\n  /**\n   * Checks if the session is currently connected to the server.\n   *\n   * @returns True if connected, false otherwise\n   *\n   * @example\n   * ```typescript\n   * if (session.isConnected) {\n   *   const tools = await session.listTools();\n   * }\n   * ```\n   */\n  get isConnected() {\n    return this.connector && this.connector.isClientConnected;\n  }\n  /**\n   * Register an event handler for session events\n   *\n   * @param event - The event type to listen for\n   * @param handler - The handler function to call when the event occurs\n   *\n   * @example\n   * ```typescript\n   * session.on(\"notification\", async (notification) => {\n   *   console.log(`Received: ${notification.method}`, notification.params);\n   *\n   *   if (notification.method === \"notifications/tools/list_changed\") {\n   *     // Refresh tools list\n   *   }\n   * });\n   * ```\n   */\n  on(event, handler) {\n    if (event === \"notification\") {\n      this.connector.onNotification(handler);\n    }\n  }\n  /**\n   * Set roots and notify the server.\n   * Roots represent directories or files that the client has access to.\n   *\n   * @param roots - Array of Root objects with `uri` (must start with \"file://\") and optional `name`\n   *\n   * @example\n   * ```typescript\n   * await session.setRoots([\n   *   { uri: \"file:///home/user/project\", name: \"My Project\" },\n   *   { uri: \"file:///home/user/data\" }\n   * ]);\n   * ```\n   */\n  async setRoots(roots) {\n    return this.connector.setRoots(roots);\n  }\n  /**\n   * Gets the current roots advertised to the server.\n   *\n   * Roots represent directories or files that the client has provided access to.\n   * The server may use this information to scope its operations.\n   *\n   * @returns Array of Root objects\n   *\n   * @example\n   * ```typescript\n   * const roots = session.getRoots();\n   * console.log(`Current roots: ${roots.map(r => r.uri).join(', ')}`);\n   * ```\n   *\n   * @see {@link setRoots} for updating roots\n   */\n  getRoots() {\n    return this.connector.getRoots();\n  }\n  /**\n   * Get the cached list of tools from the server.\n   *\n   * @returns Array of available tools\n   *\n   * @example\n   * ```typescript\n   * const tools = session.tools;\n   * console.log(`Available tools: ${tools.map(t => t.name).join(\", \")}`);\n   * ```\n   */\n  get tools() {\n    return this.connector.tools;\n  }\n  /**\n   * List all available tools from the MCP server.\n   * This method fetches fresh tools from the server, unlike the `tools` getter which returns cached tools.\n   *\n   * @param options - Optional request options\n   * @returns Array of available tools\n   *\n   * @example\n   * ```typescript\n   * const tools = await session.listTools();\n   * console.log(`Available tools: ${tools.map(t => t.name).join(\", \")}`);\n   * ```\n   */\n  async listTools(options) {\n    return this.connector.listTools(options);\n  }\n  /**\n   * Get the server capabilities advertised during initialization.\n   *\n   * @returns Server capabilities object\n   */\n  get serverCapabilities() {\n    return this.connector.serverCapabilities;\n  }\n  /**\n   * Get the server information (name and version).\n   *\n   * @returns Server info object or null if not available\n   */\n  get serverInfo() {\n    return this.connector.serverInfo;\n  }\n  /**\n   * Call a tool on the server.\n   *\n   * @param name - Name of the tool to call\n   * @param args - Arguments to pass to the tool (defaults to empty object)\n   * @param options - Optional request options (timeout, progress handlers, etc.)\n   * @returns Result from the tool execution\n   *\n   * @example\n   * ```typescript\n   * const result = await session.callTool(\"add\", { a: 5, b: 3 });\n   * console.log(`Result: ${result.content[0].text}`);\n   * ```\n   */\n  async callTool(name, args = {}, options) {\n    return this.connector.callTool(name, args, options);\n  }\n  /**\n   * List resources from the server with optional pagination.\n   *\n   * @param cursor - Optional cursor for pagination\n   * @param options - Request options\n   * @returns Resource list with optional nextCursor for pagination\n   *\n   * @example\n   * ```typescript\n   * const result = await session.listResources();\n   * console.log(`Found ${result.resources.length} resources`);\n   * ```\n   */\n  async listResources(cursor, options) {\n    return this.connector.listResources(cursor, options);\n  }\n  /**\n   * List all resources from the server, automatically handling pagination.\n   *\n   * @param options - Request options\n   * @returns Complete list of all resources\n   *\n   * @example\n   * ```typescript\n   * const result = await session.listAllResources();\n   * console.log(`Total resources: ${result.resources.length}`);\n   * ```\n   */\n  async listAllResources(options) {\n    return this.connector.listAllResources(options);\n  }\n  /**\n   * List resource templates from the server.\n   *\n   * @param options - Request options\n   * @returns List of available resource templates\n   *\n   * @example\n   * ```typescript\n   * const result = await session.listResourceTemplates();\n   * console.log(`Available templates: ${result.resourceTemplates.length}`);\n   * ```\n   */\n  async listResourceTemplates(options) {\n    return this.connector.listResourceTemplates(options);\n  }\n  /**\n   * Read a resource by URI.\n   *\n   * @param uri - URI of the resource to read\n   * @param options - Request options\n   * @returns Resource content\n   *\n   * @example\n   * ```typescript\n   * const resource = await session.readResource(\"file:///path/to/file.txt\");\n   * console.log(resource.contents);\n   * ```\n   */\n  async readResource(uri, options) {\n    return this.connector.readResource(uri, options);\n  }\n  /**\n   * Subscribe to resource updates.\n   *\n   * @param uri - URI of the resource to subscribe to\n   * @param options - Request options\n   *\n   * @example\n   * ```typescript\n   * await session.subscribeToResource(\"file:///path/to/file.txt\");\n   * // Now you'll receive notifications when this resource changes\n   * ```\n   */\n  async subscribeToResource(uri, options) {\n    return this.connector.subscribeToResource(uri, options);\n  }\n  /**\n   * Unsubscribe from resource updates.\n   *\n   * @param uri - URI of the resource to unsubscribe from\n   * @param options - Request options\n   *\n   * @example\n   * ```typescript\n   * await session.unsubscribeFromResource(\"file:///path/to/file.txt\");\n   * ```\n   */\n  async unsubscribeFromResource(uri, options) {\n    return this.connector.unsubscribeFromResource(uri, options);\n  }\n  /**\n   * List available prompts from the server.\n   *\n   * @returns List of available prompts\n   *\n   * @example\n   * ```typescript\n   * const result = await session.listPrompts();\n   * console.log(`Available prompts: ${result.prompts.length}`);\n   * ```\n   */\n  async listPrompts() {\n    return this.connector.listPrompts();\n  }\n  /**\n   * Get a specific prompt with arguments.\n   *\n   * @param name - Name of the prompt to get\n   * @param args - Arguments for the prompt\n   * @returns Prompt result\n   *\n   * @example\n   * ```typescript\n   * const prompt = await session.getPrompt(\"greeting\", { name: \"Alice\" });\n   * console.log(prompt.messages);\n   * ```\n   */\n  async getPrompt(name, args) {\n    return this.connector.getPrompt(name, args);\n  }\n  /**\n   * Send a raw request through the client.\n   *\n   * @param method - MCP method name\n   * @param params - Request parameters\n   * @param options - Request options\n   * @returns Response from the server\n   *\n   * @example\n   * ```typescript\n   * const result = await session.request(\"custom/method\", { key: \"value\" });\n   * ```\n   */\n  async request(method, params = null, options) {\n    return this.connector.request(method, params, options);\n  }\n};\n\n// src/client/base.ts\nvar BaseMCPClient = class {\n  static {\n    __name(this, \"BaseMCPClient\");\n  }\n  /**\n   * Internal configuration object containing MCP server definitions.\n   * @protected\n   */\n  config = {};\n  /**\n   * Map of server names to their active sessions.\n   * @protected\n   */\n  sessions = {};\n  /**\n   * List of server names that have active sessions.\n   * This array is kept in sync with the sessions map and can be used\n   * to iterate over active connections.\n   *\n   * @example\n   * ```typescript\n   * console.log(`Active servers: ${client.activeSessions.join(', ')}`);\n   * ```\n   */\n  activeSessions = [];\n  /**\n   * Creates a new BaseMCPClient instance.\n   *\n   * @param config - Optional configuration object with MCP server definitions\n   *\n   * @example\n   * ```typescript\n   * const client = new MCPClient({\n   *   mcpServers: {\n   *     'example': {\n   *       command: 'node',\n   *       args: ['server.js']\n   *     }\n   *   }\n   * });\n   * ```\n   */\n  constructor(config) {\n    if (config) {\n      this.config = config;\n    }\n  }\n  /**\n   * Creates a client instance from a configuration dictionary.\n   *\n   * This static factory method must be implemented by concrete subclasses\n   * to provide proper type information and platform-specific initialization.\n   *\n   * @param _cfg - Configuration dictionary\n   * @returns Client instance\n   * @throws {Error} If called on the base class instead of a concrete implementation\n   *\n   * @example\n   * ```typescript\n   * const client = MCPClient.fromDict({\n   *   mcpServers: {\n   *     'my-server': { command: 'node', args: ['server.js'] }\n   *   }\n   * });\n   * ```\n   */\n  static fromDict(_cfg) {\n    throw new Error(\"fromDict must be implemented by concrete class\");\n  }\n  /**\n   * Adds a new MCP server configuration to the client.\n   *\n   * This method adds or updates a server configuration dynamically without\n   * needing to restart the client. The server can then be used to create\n   * new sessions.\n   *\n   * @param name - Unique name for the server\n   * @param serverConfig - Server configuration object (connector type, command, args, etc.)\n   *\n   * @example\n   * ```typescript\n   * client.addServer('new-server', {\n   *   command: 'python',\n   *   args: ['server.py']\n   * });\n   *\n   * // Now you can create a session\n   * const session = await client.createSession('new-server');\n   * ```\n   *\n   * @see {@link removeServer} for removing servers\n   * @see {@link getServerConfig} for retrieving configurations\n   */\n  addServer(name, serverConfig) {\n    this.config.mcpServers = this.config.mcpServers || {};\n    this.config.mcpServers[name] = serverConfig;\n    Tel.getInstance().trackClientAddServer(name, serverConfig);\n  }\n  /**\n   * Removes an MCP server configuration from the client.\n   *\n   * This method removes a server configuration and cleans up any active\n   * sessions associated with that server. If there's an active session,\n   * it will be removed from the active sessions list.\n   *\n   * @param name - Name of the server to remove\n   *\n   * @example\n   * ```typescript\n   * // Remove a server configuration\n   * client.removeServer('old-server');\n   *\n   * // The server name will no longer appear in getServerNames()\n   * console.log(client.getServerNames()); // 'old-server' is gone\n   * ```\n   *\n   * @see {@link addServer} for adding servers\n   * @see {@link closeSession} for properly closing sessions before removal\n   */\n  removeServer(name) {\n    if (this.config.mcpServers?.[name]) {\n      delete this.config.mcpServers[name];\n      this.activeSessions = this.activeSessions.filter((n) => n !== name);\n      Tel.getInstance().trackClientRemoveServer(name);\n    }\n  }\n  /**\n   * Gets the names of all configured MCP servers.\n   *\n   * @returns Array of server names defined in the configuration\n   *\n   * @example\n   * ```typescript\n   * const serverNames = client.getServerNames();\n   * console.log(`Configured servers: ${serverNames.join(', ')}`);\n   *\n   * // Create sessions for all servers\n   * for (const name of serverNames) {\n   *   await client.createSession(name);\n   * }\n   * ```\n   *\n   * @see {@link activeSessions} for servers with active sessions\n   */\n  getServerNames() {\n    return Object.keys(this.config.mcpServers ?? {});\n  }\n  /**\n   * Gets the configuration for a specific MCP server.\n   *\n   * @param name - Name of the server\n   * @returns Server configuration object, or undefined if not found\n   *\n   * @example\n   * ```typescript\n   * const config = client.getServerConfig('my-server');\n   * if (config) {\n   *   console.log(`Command: ${config.command}`);\n   *   console.log(`Args: ${config.args.join(' ')}`);\n   * }\n   * ```\n   *\n   * @see {@link getConfig} for retrieving the entire configuration\n   */\n  getServerConfig(name) {\n    return this.config.mcpServers?.[name];\n  }\n  /**\n   * Gets the complete client configuration.\n   *\n   * @returns Complete configuration object including all server definitions\n   *\n   * @example\n   * ```typescript\n   * const config = client.getConfig();\n   * console.log(`Total servers: ${Object.keys(config.mcpServers).length}`);\n   * ```\n   *\n   * @see {@link getServerConfig} for retrieving individual server configurations\n   */\n  getConfig() {\n    return this.config ?? {};\n  }\n  /**\n   * Creates a new session for connecting to an MCP server.\n   *\n   * This method initializes a connection to the specified server using the\n   * configuration provided during client construction. Sessions manage the\n   * lifecycle of connections and provide methods for calling tools, listing\n   * resources, and more.\n   *\n   * If a session already exists for the server, it will be replaced with a new one.\n   *\n   * @param serverName - The name of the server as defined in the client configuration\n   * @param autoInitialize - Whether to automatically initialize the session (default: true)\n   * @returns A promise that resolves to the created MCPSession instance\n   * @throws {Error} If the server is not found in the configuration\n   *\n   * @example\n   * ```typescript\n   * // Create and initialize a session\n   * const session = await client.createSession('my-server');\n   * const tools = await session.listTools();\n   *\n   * // Create without auto-initialization\n   * const session = await client.createSession('my-server', false);\n   * await session.connect();\n   * await session.initialize();\n   * ```\n   *\n   * @see {@link MCPSession} for session management methods\n   * @see {@link closeSession} for closing sessions\n   * @see {@link getSession} for retrieving existing sessions\n   */\n  async createSession(serverName, autoInitialize = true) {\n    const servers = this.config.mcpServers ?? {};\n    if (Object.keys(servers).length === 0) {\n      logger.warn(\"No MCP servers defined in config\");\n    }\n    if (!servers[serverName]) {\n      throw new Error(`Server '${serverName}' not found in config`);\n    }\n    const connector = await Promise.resolve(\n      this.createConnectorFromConfig(servers[serverName])\n    );\n    const session = new MCPSession(connector);\n    if (autoInitialize) {\n      await session.initialize();\n    }\n    this.sessions[serverName] = session;\n    if (!this.activeSessions.includes(serverName)) {\n      this.activeSessions.push(serverName);\n    }\n    return session;\n  }\n  /**\n   * Creates sessions for all configured MCP servers.\n   *\n   * This is a convenience method that iterates through all servers in the\n   * configuration and creates a session for each one. Sessions are created\n   * sequentially to avoid overwhelming the system.\n   *\n   * @param autoInitialize - Whether to automatically initialize each session (default: true)\n   * @returns A promise that resolves to a map of server names to sessions\n   *\n   * @example\n   * ```typescript\n   * // Create sessions for all configured servers\n   * const sessions = await client.createAllSessions();\n   * console.log(`Created ${Object.keys(sessions).length} sessions`);\n   *\n   * // List tools from all servers\n   * for (const [name, session] of Object.entries(sessions)) {\n   *   const tools = await session.listTools();\n   *   console.log(`${name}: ${tools.length} tools`);\n   * }\n   * ```\n   *\n   * @see {@link createSession} for creating individual sessions\n   * @see {@link closeAllSessions} for closing all sessions\n   */\n  async createAllSessions(autoInitialize = true) {\n    const servers = this.config.mcpServers ?? {};\n    if (Object.keys(servers).length === 0) {\n      logger.warn(\"No MCP servers defined in config\");\n    }\n    for (const name of Object.keys(servers)) {\n      await this.createSession(name, autoInitialize);\n    }\n    return this.sessions;\n  }\n  /**\n   * Retrieves an existing session by server name.\n   *\n   * This method returns null if no session exists, making it safe for\n   * checking session existence without throwing errors.\n   *\n   * @param serverName - Name of the server\n   * @returns The session instance or null if not found\n   *\n   * @example\n   * ```typescript\n   * const session = client.getSession('my-server');\n   * if (session) {\n   *   const tools = await session.listTools();\n   * } else {\n   *   console.log('Session not found, creating...');\n   *   await client.createSession('my-server');\n   * }\n   * ```\n   *\n   * @see {@link requireSession} for getting a session that throws if not found\n   * @see {@link createSession} for creating sessions\n   */\n  getSession(serverName) {\n    const session = this.sessions[serverName];\n    if (!session) {\n      return null;\n    }\n    return session;\n  }\n  /**\n   * Retrieves an existing session by server name, throwing if not found.\n   *\n   * This method is useful when you need to ensure a session exists before\n   * proceeding. It throws a descriptive error if the session is not found.\n   *\n   * @param serverName - Name of the server\n   * @returns The session instance\n   * @throws {Error} If the session is not found\n   *\n   * @example\n   * ```typescript\n   * try {\n   *   const session = client.requireSession('my-server');\n   *   const tools = await session.listTools();\n   * } catch (error) {\n   *   console.error('Session not found:', error.message);\n   * }\n   * ```\n   *\n   * @see {@link getSession} for a null-returning alternative\n   * @see {@link createSession} for creating sessions\n   */\n  requireSession(serverName) {\n    const session = this.sessions[serverName];\n    if (!session) {\n      throw new Error(\n        `Session '${serverName}' not found. Available sessions: ${this.activeSessions.join(\", \") || \"none\"}`\n      );\n    }\n    return session;\n  }\n  /**\n   * Gets all active sessions as a map of server names to sessions.\n   *\n   * @returns Map of server names to their active sessions\n   *\n   * @example\n   * ```typescript\n   * const sessions = client.getAllActiveSessions();\n   *\n   * // Iterate over all active sessions\n   * for (const [name, session] of Object.entries(sessions)) {\n   *   console.log(`Server: ${name}`);\n   *   const tools = await session.listTools();\n   *   console.log(`  Tools: ${tools.length}`);\n   * }\n   * ```\n   *\n   * @see {@link activeSessions} for just the list of server names\n   * @see {@link getSession} for retrieving individual sessions\n   */\n  getAllActiveSessions() {\n    return Object.fromEntries(\n      this.activeSessions.map((n) => [n, this.sessions[n]])\n    );\n  }\n  /**\n   * Closes a session and cleans up its resources.\n   *\n   * This method gracefully disconnects from the server and removes the\n   * session from the active sessions list. It's safe to call even if\n   * the session doesn't exist.\n   *\n   * @param serverName - Name of the server whose session should be closed\n   *\n   * @example\n   * ```typescript\n   * // Close a specific session\n   * await client.closeSession('my-server');\n   *\n   * // Verify it's closed\n   * console.log(client.activeSessions.includes('my-server')); // false\n   * ```\n   *\n   * @see {@link closeAllSessions} for closing all sessions at once\n   * @see {@link createSession} for creating new sessions\n   */\n  async closeSession(serverName) {\n    const session = this.sessions[serverName];\n    if (!session) {\n      logger.warn(\n        `No session exists for server ${serverName}, nothing to close`\n      );\n      return;\n    }\n    try {\n      logger.debug(`Closing session for server ${serverName}`);\n      await session.disconnect();\n    } catch (e) {\n      logger.error(`Error closing session for server '${serverName}': ${e}`);\n    } finally {\n      delete this.sessions[serverName];\n      this.activeSessions = this.activeSessions.filter((n) => n !== serverName);\n    }\n  }\n  /**\n   * Closes all active sessions and cleans up their resources.\n   *\n   * This method iterates through all sessions and attempts to close each one\n   * gracefully. If any session fails to close, the error is logged but the\n   * method continues to close remaining sessions.\n   *\n   * This is particularly useful for cleanup on application shutdown.\n   *\n   * @example\n   * ```typescript\n   * // Clean shutdown\n   * try {\n   *   await client.closeAllSessions();\n   *   console.log('All sessions closed successfully');\n   * } catch (error) {\n   *   console.error('Error during cleanup:', error);\n   * }\n   * ```\n   *\n   * @example\n   * ```typescript\n   * // Use in application shutdown handler\n   * process.on('SIGINT', async () => {\n   *   console.log('Shutting down...');\n   *   await client.closeAllSessions();\n   *   process.exit(0);\n   * });\n   * ```\n   *\n   * @see {@link closeSession} for closing individual sessions\n   * @see {@link createAllSessions} for creating sessions\n   */\n  async closeAllSessions() {\n    const serverNames = Object.keys(this.sessions);\n    const errors = [];\n    for (const serverName of serverNames) {\n      try {\n        logger.debug(`Closing session for server ${serverName}`);\n        await this.closeSession(serverName);\n      } catch (e) {\n        const errorMsg = `Failed to close session for server '${serverName}': ${e}`;\n        logger.error(errorMsg);\n        errors.push(errorMsg);\n      }\n    }\n    if (errors.length) {\n      logger.error(\n        `Encountered ${errors.length} errors while closing sessions`\n      );\n    } else {\n      logger.debug(\"All sessions closed successfully\");\n    }\n  }\n};\n\n// src/connectors/http.ts\nimport {\n  Client\n} from \"@modelcontextprotocol/sdk/client/index.js\";\nimport {\n  StreamableHTTPClientTransport,\n  StreamableHTTPError\n} from \"@modelcontextprotocol/sdk/client/streamableHttp.js\";\n\n// src/task_managers/sse.ts\nimport { SSEClientTransport } from \"@modelcontextprotocol/sdk/client/sse.js\";\nvar SseConnectionManager = class extends ConnectionManager {\n  static {\n    __name(this, \"SseConnectionManager\");\n  }\n  url;\n  opts;\n  _transport = null;\n  reinitializing = false;\n  /**\n   * Create an SSE connection manager.\n   *\n   * @param url  The SSE endpoint URL.\n   * @param opts Optional transport options (auth, headers, etc.).\n   */\n  constructor(url, opts) {\n    super();\n    this.url = typeof url === \"string\" ? new URL(url) : url;\n    this.opts = opts;\n  }\n  /**\n   * Spawn a new `SSEClientTransport` and wrap it with 404 handling.\n   * Per MCP spec, clients MUST re-initialize when receiving 404 for stale sessions.\n   */\n  async establishConnection() {\n    const transport = new SSEClientTransport(this.url, this.opts);\n    const originalSend = transport.send.bind(transport);\n    transport.send = async (message) => {\n      const sendMessage = /* @__PURE__ */ __name(async (msg) => {\n        if (Array.isArray(msg)) {\n          for (const singleMsg of msg) {\n            await originalSend(singleMsg);\n          }\n        } else {\n          await originalSend(msg);\n        }\n      }, \"sendMessage\");\n      try {\n        await sendMessage(message);\n      } catch (error) {\n        if (error?.code === 404 && transport.sessionId && !this.reinitializing) {\n          logger.warn(\n            `[SSE] Session not found (404), re-initializing per MCP spec...`\n          );\n          this.reinitializing = true;\n          try {\n            transport.sessionId = void 0;\n            await this.reinitialize(transport);\n            logger.info(`[SSE] Re-initialization successful, retrying request`);\n            await sendMessage(message);\n          } finally {\n            this.reinitializing = false;\n          }\n        } else {\n          throw error;\n        }\n      }\n    };\n    this._transport = transport;\n    logger.debug(`${this.constructor.name} connected successfully`);\n    return transport;\n  }\n  /**\n   * Re-initialize the transport with a new session\n   * This is called when the server returns 404 for a stale session\n   */\n  async reinitialize(transport) {\n    logger.debug(`[SSE] Re-initialization triggered`);\n  }\n  /**\n   * Close the underlying transport and clean up resources.\n   */\n  async closeConnection(_connection) {\n    if (this._transport) {\n      try {\n        await this._transport.close();\n      } catch (e) {\n        logger.warn(`Error closing SSE transport: ${e}`);\n      } finally {\n        this._transport = null;\n      }\n    }\n  }\n};\n\n// src/connectors/http.ts\nvar HttpConnector = class extends BaseConnector {\n  static {\n    __name(this, \"HttpConnector\");\n  }\n  baseUrl;\n  headers;\n  timeout;\n  sseReadTimeout;\n  customFetch;\n  clientInfo;\n  preferSse;\n  disableSseFallback;\n  gatewayUrl;\n  serverId;\n  transportType = null;\n  streamableTransport = null;\n  constructor(baseUrl, opts = {}) {\n    super(opts);\n    const originalUrl = baseUrl.replace(/\\/$/, \"\");\n    this.gatewayUrl = opts.gatewayUrl;\n    this.serverId = opts.serverId;\n    if (this.gatewayUrl) {\n      this.baseUrl = this.gatewayUrl.replace(/\\/$/, \"\");\n      this.headers = { ...opts.headers ?? {} };\n      this.headers[\"X-Target-URL\"] = originalUrl;\n      if (this.serverId) {\n        this.headers[\"X-Server-Id\"] = this.serverId;\n      }\n    } else {\n      this.baseUrl = originalUrl;\n      this.headers = { ...opts.headers ?? {} };\n    }\n    if (opts.authToken) {\n      this.headers.Authorization = `Bearer ${opts.authToken}`;\n    }\n    this.timeout = opts.timeout ?? 1e4;\n    this.sseReadTimeout = opts.sseReadTimeout ?? 3e5;\n    this.customFetch = opts.fetch;\n    this.clientInfo = opts.clientInfo ?? {\n      name: \"http-connector\",\n      version: \"1.0.0\"\n    };\n    this.preferSse = opts.preferSse ?? false;\n    this.disableSseFallback = opts.disableSseFallback ?? false;\n  }\n  buildClientOptions() {\n    return {\n      ...this.opts.clientOptions || {},\n      capabilities: {\n        ...this.opts.clientOptions?.capabilities || {},\n        roots: { listChanged: true },\n        ...this.opts.onSampling ? { sampling: {} } : {},\n        ...this.opts.onElicitation ?? this.opts.elicitationCallback ? { elicitation: { form: {}, url: {} } } : {}\n      }\n    };\n  }\n  unwrapStreamableError(err) {\n    if (err instanceof StreamableHTTPError) {\n      return err;\n    }\n    if (err instanceof Error && err.cause instanceof StreamableHTTPError) {\n      return err.cause;\n    }\n    return null;\n  }\n  classifyStreamableHttpFailure(err) {\n    let fallbackReason = \"Unknown error\";\n    let is401Error = false;\n    let httpStatusCode;\n    const streamableErr = this.unwrapStreamableError(err);\n    if (streamableErr) {\n      is401Error = streamableErr.code === 401;\n      httpStatusCode = streamableErr.code;\n      if (streamableErr.code === 400 && streamableErr.message.includes(\"Missing session ID\")) {\n        fallbackReason = \"Server requires session ID (FastMCP compatibility) - using SSE transport\";\n        logger.warn(`\\u26A0\\uFE0F  ${fallbackReason}`);\n      } else if (streamableErr.code === 404 || streamableErr.code === 405) {\n        fallbackReason = `Server returned ${streamableErr.code} - server likely doesn't support streamable HTTP`;\n        logger.debug(fallbackReason);\n      } else {\n        fallbackReason = `Server returned ${streamableErr.code}: ${streamableErr.message}`;\n        logger.debug(fallbackReason);\n      }\n      return { fallbackReason, is401Error, httpStatusCode };\n    }\n    if (err instanceof Error) {\n      const errorStr = err.toString();\n      const errorMsg = err.message || \"\";\n      is401Error = errorStr.includes(\"401\") || errorMsg.includes(\"Unauthorized\");\n      if (errorStr.includes(\"Missing session ID\") || errorStr.includes(\"Bad Request: Missing session ID\") || errorMsg.includes(\"FastMCP session ID error\")) {\n        fallbackReason = \"Server requires session ID (FastMCP compatibility) - using SSE transport\";\n        logger.warn(`\\u26A0\\uFE0F  ${fallbackReason}`);\n      } else if (errorStr.includes(\"405 Method Not Allowed\") || errorStr.includes(\"404 Not Found\")) {\n        fallbackReason = \"Server doesn't support streamable HTTP (405/404)\";\n        logger.debug(fallbackReason);\n      } else {\n        fallbackReason = `Streamable HTTP failed: ${err.message}`;\n        logger.debug(fallbackReason);\n      }\n    }\n    return { fallbackReason, is401Error, httpStatusCode };\n  }\n  /** Establish connection to the MCP implementation via HTTP (streamable or SSE). */\n  async connect() {\n    if (this.connected) {\n      logger.debug(\"Already connected to MCP implementation\");\n      return;\n    }\n    const baseUrl = this.baseUrl;\n    if (this.preferSse) {\n      logger.debug(`Connecting to MCP implementation via HTTP/SSE: ${baseUrl}`);\n      await this.connectWithSse(baseUrl);\n      return;\n    }\n    logger.debug(`Connecting to MCP implementation via HTTP: ${baseUrl}`);\n    try {\n      logger.info(\"\\u{1F504} Attempting streamable HTTP transport...\");\n      await this.connectWithStreamableHttp(baseUrl);\n      logger.info(\"\\u2705 Successfully connected via streamable HTTP\");\n    } catch (err) {\n      logger.debug(\"Streamable HTTP connect failed\", err);\n      const { fallbackReason, is401Error, httpStatusCode } = this.classifyStreamableHttpFailure(err);\n      if (is401Error) {\n        logger.info(\"Authentication required - skipping SSE fallback\");\n        await this.cleanupResources();\n        const authError = new Error(\"Authentication required\");\n        authError.code = 401;\n        throw authError;\n      }\n      if (this.disableSseFallback) {\n        logger.info(\"SSE fallback disabled - failing connection\");\n        await this.cleanupResources();\n        throw new Error(`Streamable HTTP connection failed: ${fallbackReason}`);\n      }\n      logger.info(\"\\u{1F504} Falling back to SSE transport...\");\n      try {\n        await this.connectWithSse(baseUrl);\n      } catch (sseErr) {\n        logger.error(\"Failed to connect with both transports:\");\n        logger.error(`  Streamable HTTP: ${fallbackReason}`);\n        logger.error(`  SSE: ${sseErr}`);\n        await this.cleanupResources();\n        const sseIs401 = sseErr?.message?.includes(\"401\") || sseErr?.message?.includes(\"Unauthorized\");\n        if (sseIs401) {\n          const authError = new Error(\"Authentication required\");\n          authError.code = 401;\n          throw authError;\n        }\n        const finalError = new Error(\n          `Could not connect to server with any available transport. Streamable HTTP: ${fallbackReason}`\n        );\n        if (httpStatusCode !== void 0) {\n          Object.defineProperty(finalError, \"code\", {\n            value: httpStatusCode,\n            writable: false,\n            enumerable: true,\n            configurable: true\n          });\n          logger.debug(\n            `Preserving HTTP status code ${httpStatusCode} in error for proxy fallback detection`\n          );\n        }\n        throw finalError;\n      }\n    }\n  }\n  async connectWithStreamableHttp(baseUrl) {\n    try {\n      logger.debug(\"[HttpConnector] Connecting with Streamable HTTP\", {\n        baseUrl,\n        originalUrl: this.baseUrl,\n        gatewayUrl: this.gatewayUrl || \"none\",\n        authProviderUrl: this.opts.authProvider?.serverUrl || \"none\",\n        headers: this.headers\n      });\n      const streamableTransport = new StreamableHTTPClientTransport(\n        new URL(baseUrl),\n        {\n          authProvider: this.opts.authProvider,\n          // â† Pass OAuth provider to SDK\n          fetch: this.customFetch,\n          requestInit: {\n            headers: this.headers\n          },\n          // Pass through reconnection options\n          reconnectionOptions: {\n            maxReconnectionDelay: 3e4,\n            initialReconnectionDelay: 1e3,\n            reconnectionDelayGrowFactor: 1.5,\n            maxRetries: 2\n            // Disable automatic reconnection - let higher-level logic handle it\n          }\n          // Don't pass sessionId - let the SDK generate it automatically during connect()\n        }\n      );\n      let transport = streamableTransport;\n      if (this.opts.wrapTransport) {\n        const serverId = this.baseUrl;\n        transport = this.opts.wrapTransport(\n          transport,\n          serverId\n        );\n      }\n      const clientOptions = this.buildClientOptions();\n      logger.debug(\n        `Creating Client with capabilities:`,\n        JSON.stringify(clientOptions.capabilities, null, 2)\n      );\n      this.client = new Client(this.clientInfo, clientOptions);\n      this.setupRootsHandler();\n      logger.debug(\"Roots handler registered before connect\");\n      try {\n        await this.client.connect(transport, {\n          timeout: this.timeout\n        });\n        const sessionId = streamableTransport.sessionId;\n        if (sessionId) {\n          logger.debug(`Session ID obtained: ${sessionId}`);\n        } else {\n          logger.warn(\n            \"Session ID not available after connect - this may cause issues with SSE stream\"\n          );\n        }\n      } catch (connectErr) {\n        if (connectErr instanceof Error) {\n          const errMsg = connectErr.message || connectErr.toString();\n          if (errMsg.includes(\"Missing session ID\") || errMsg.includes(\"Bad Request: Missing session ID\") || errMsg.includes(\"Mcp-Session-Id header is required\")) {\n            const wrappedError = new Error(\n              `Session ID error: ${errMsg}. The SDK should automatically extract session ID from initialize response.`\n            );\n            wrappedError.cause = connectErr;\n            throw wrappedError;\n          }\n        }\n        throw connectErr;\n      }\n      this.streamableTransport = streamableTransport;\n      this.connectionManager = {\n        stop: /* @__PURE__ */ __name(async () => {\n          if (this.streamableTransport) {\n            try {\n              await this.streamableTransport.terminateSession();\n              await this.streamableTransport.close();\n            } catch (e) {\n              logger.warn(`Error closing Streamable HTTP transport: ${e}`);\n            } finally {\n              this.streamableTransport = null;\n            }\n          }\n        }, \"stop\")\n      };\n      this.connected = true;\n      this.transportType = \"streamable-http\";\n      this.setupNotificationHandler();\n      this.setupSamplingHandler();\n      this.setupElicitationHandler();\n      logger.debug(\n        `Successfully connected to MCP implementation via streamable HTTP: ${baseUrl}`\n      );\n      this.trackConnectorInit({\n        serverUrl: this.baseUrl,\n        publicIdentifier: `${this.baseUrl} (streamable-http)`\n      });\n    } catch (err) {\n      await this.cleanupResources();\n      throw err;\n    }\n  }\n  async connectWithSse(baseUrl) {\n    try {\n      this.connectionManager = new SseConnectionManager(baseUrl, {\n        authProvider: this.opts.authProvider,\n        // â† Pass OAuth provider to SDK (same as streamable HTTP)\n        requestInit: {\n          headers: this.headers\n        }\n      });\n      let transport = await this.connectionManager.start();\n      if (this.opts.wrapTransport) {\n        const serverId = this.baseUrl;\n        transport = this.opts.wrapTransport(transport, serverId);\n      }\n      const clientOptions = this.buildClientOptions();\n      logger.debug(\n        `Creating Client with capabilities (SSE):`,\n        JSON.stringify(clientOptions.capabilities, null, 2)\n      );\n      this.client = new Client(this.clientInfo, clientOptions);\n      this.setupRootsHandler();\n      logger.debug(\"Roots handler registered before connect (SSE)\");\n      await this.client.connect(transport);\n      this.connected = true;\n      this.transportType = \"sse\";\n      this.setupNotificationHandler();\n      this.setupSamplingHandler();\n      this.setupElicitationHandler();\n      logger.debug(\n        `Successfully connected to MCP implementation via HTTP/SSE: ${baseUrl}`\n      );\n      this.trackConnectorInit({\n        serverUrl: this.baseUrl,\n        publicIdentifier: `${this.baseUrl} (sse)`\n      });\n    } catch (err) {\n      await this.cleanupResources();\n      throw err;\n    }\n  }\n  get publicIdentifier() {\n    return {\n      type: \"http\",\n      url: this.baseUrl,\n      transport: this.transportType || \"unknown\"\n    };\n  }\n  /**\n   * Get the transport type being used (streamable-http or sse)\n   */\n  getTransportType() {\n    return this.transportType;\n  }\n};\n\n// src/config.ts\nfunction resolveCallbacks(perServer, globalDefaults) {\n  const pickSampling = perServer?.onSampling ?? perServer?.samplingCallback ?? globalDefaults?.onSampling ?? globalDefaults?.samplingCallback;\n  const pickElicitation = perServer?.onElicitation ?? perServer?.elicitationCallback ?? globalDefaults?.onElicitation ?? globalDefaults?.elicitationCallback;\n  const pickNotification = perServer?.onNotification ?? globalDefaults?.onNotification;\n  return {\n    onSampling: pickSampling,\n    onElicitation: pickElicitation,\n    onNotification: pickNotification\n  };\n}\n__name(resolveCallbacks, \"resolveCallbacks\");\nfunction getDefaultClientInfo() {\n  return {\n    name: \"mcp-use\",\n    title: \"mcp-use\",\n    version: getPackageVersion(),\n    description: \"mcp-use is a complete TypeScript framework for building and using MCP\",\n    icons: [\n      {\n        src: \"https://mcp-use.com/logo.png\"\n      }\n    ],\n    websiteUrl: \"https://mcp-use.com\"\n  };\n}\n__name(getDefaultClientInfo, \"getDefaultClientInfo\");\nfunction normalizeClientInfo(input) {\n  const fallback = getDefaultClientInfo();\n  if (!input || typeof input !== \"object\") return fallback;\n  const ci = input;\n  if (!ci.name || !ci.version) return fallback;\n  return { ...fallback, ...ci };\n}\n__name(normalizeClientInfo, \"normalizeClientInfo\");\nfunction loadConfigFile(filepath) {\n  const { readFileSync } = __require(\"fs\");\n  const raw = readFileSync(filepath, \"utf-8\");\n  return JSON.parse(raw);\n}\n__name(loadConfigFile, \"loadConfigFile\");\nfunction createConnectorFromConfig(serverConfig, connectorOptions) {\n  const clientInfo = normalizeClientInfo(serverConfig.clientInfo);\n  if (\"command\" in serverConfig && \"args\" in serverConfig) {\n    throw new Error(\n      \"Stdio connector is not supported in this environment. Stdio connections require Node.js and are only available in the Node.js MCPClient.\"\n    );\n  }\n  if (\"url\" in serverConfig) {\n    const transport = serverConfig.transport || \"http\";\n    return new HttpConnector(serverConfig.url, {\n      headers: serverConfig.headers,\n      fetch: serverConfig.fetch,\n      authToken: serverConfig.auth_token || serverConfig.authToken,\n      authProvider: serverConfig.authProvider,\n      // Only force SSE if explicitly requested\n      preferSse: serverConfig.preferSse || transport === \"sse\",\n      // Disable SSE fallback if explicitly disabled in config\n      disableSseFallback: serverConfig.disableSseFallback,\n      clientInfo,\n      ...connectorOptions\n    });\n  }\n  throw new Error(\"Cannot determine connector type from config\");\n}\n__name(createConnectorFromConfig, \"createConnectorFromConfig\");\n\nexport {\n  MCPSession,\n  BaseMCPClient,\n  HttpConnector,\n  resolveCallbacks,\n  normalizeClientInfo,\n  loadConfigFile,\n  createConnectorFromConfig\n};\n"],
  "mappings": "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",
  "names": ["url", "url", "url", "tokens", "url", "url", "url", "url", "error", "_a", "url", "url", "_a", "url"]
}
