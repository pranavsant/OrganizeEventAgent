{
  "version": 3,
  "sources": ["../../mcp-use/dist/chunk-K4JZBXZM.js", "../../mcp-use/dist/chunk-RYMNQ23J.js", "../../mcp-use/dist/chunk-QCAOYQX6.js", "../../mcp-use/dist/chunk-MXENOGA5.js", "../../mcp-use/dist/chunk-6KHHFWTB.js", "../../mcp-use/dist/chunk-H475Z7T5.js"],
  "sourcesContent": ["import {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/server/utils/jsonrpc-helpers.ts\nfunction createNotification(method, params) {\n  return {\n    jsonrpc: \"2.0\",\n    method,\n    ...params && { params }\n  };\n}\n__name(createNotification, \"createNotification\");\nfunction createRequest(id, method, params) {\n  return {\n    jsonrpc: \"2.0\",\n    id,\n    method,\n    ...params && { params }\n  };\n}\n__name(createRequest, \"createRequest\");\n\nexport {\n  createNotification,\n  createRequest\n};\n", "import {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/utils/favicon-detector.ts\nfunction isLocalServer(domain) {\n  return domain === \"localhost\" || domain === \"127.0.0.1\" || domain.startsWith(\"127.\") || domain.startsWith(\"192.168.\") || domain.startsWith(\"10.\") || domain.startsWith(\"172.\");\n}\n__name(isLocalServer, \"isLocalServer\");\nfunction getSubdomainLevels(hostname) {\n  const parts = hostname.split(\".\");\n  const levels = [];\n  for (let i = 0; i < parts.length - 1; i++) {\n    levels.push(parts.slice(i).join(\".\"));\n  }\n  return levels;\n}\n__name(getSubdomainLevels, \"getSubdomainLevels\");\nfunction blobToBase64(blob) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onloadend = () => {\n      resolve(reader.result);\n    };\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n__name(blobToBase64, \"blobToBase64\");\nasync function detectFavicon(serverUrl) {\n  console.debug(\n    \"[favicon-detector] Starting favicon detection for:\",\n    serverUrl\n  );\n  try {\n    let domain;\n    if (serverUrl.startsWith(\"http://\") || serverUrl.startsWith(\"https://\")) {\n      domain = new URL(serverUrl).hostname;\n    } else if (serverUrl.includes(\"://\")) {\n      domain = serverUrl.split(\"://\")[1].split(\"/\")[0];\n    } else {\n      domain = serverUrl.split(\"/\")[0];\n    }\n    console.debug(\"[favicon-detector] Extracted domain:\", domain);\n    if (isLocalServer(domain)) {\n      console.debug(\"[favicon-detector] Skipping local server:\", domain);\n      return null;\n    }\n    const domainsToTry = getSubdomainLevels(domain);\n    console.debug(\"[favicon-detector] Domains to try:\", domainsToTry);\n    for (const currentDomain of domainsToTry) {\n      try {\n        const faviconApiUrl = `https://favicon.tools.mcp-use.com/${currentDomain}?response=json`;\n        console.debug(\n          \"[favicon-detector] Attempting to fetch favicon metadata for:\",\n          currentDomain,\n          \"from:\",\n          faviconApiUrl\n        );\n        const controller = new AbortController();\n        const timeoutId = setTimeout(() => controller.abort(), 2e3);\n        try {\n          const response = await fetch(faviconApiUrl, {\n            signal: controller.signal\n          });\n          clearTimeout(timeoutId);\n          if (!response.ok) {\n            console.debug(\n              \"[favicon-detector] Fetch failed for\",\n              currentDomain,\n              \"with status:\",\n              response.status\n            );\n            continue;\n          }\n          const data = await response.json();\n          console.debug(\n            \"[favicon-detector] Retrieved favicon metadata for:\",\n            currentDomain,\n            \"source:\",\n            data.source\n          );\n          const imageUrl = data.url.replace(/^http:\\/\\//, \"https://\");\n          const imageResponse = await fetch(imageUrl);\n          if (!imageResponse.ok) {\n            console.debug(\n              \"[favicon-detector] Failed to fetch favicon image for\",\n              currentDomain,\n              \"status:\",\n              imageResponse.status\n            );\n            continue;\n          }\n          const blob = await imageResponse.blob();\n          const base64Image = await blobToBase64(blob);\n          if (data.source === \"default\") {\n            console.debug(\n              \"[favicon-detector] Found default favicon for:\",\n              currentDomain,\n              \"skipping and continuing to search for non-default\"\n            );\n            continue;\n          }\n          console.debug(\n            \"[favicon-detector] Successfully retrieved non-default favicon for:\",\n            currentDomain,\n            \"source:\",\n            data.source,\n            \"size:\",\n            blob.size,\n            \"bytes\"\n          );\n          return base64Image;\n        } catch (err) {\n          clearTimeout(timeoutId);\n          console.debug(\n            \"[favicon-detector] Fetch error for\",\n            currentDomain,\n            \":\",\n            err instanceof Error ? err.message : String(err)\n          );\n          continue;\n        }\n      } catch (error) {\n        console.debug(\n          \"[favicon-detector] Error processing domain\",\n          currentDomain,\n          \":\",\n          error instanceof Error ? error.message : String(error)\n        );\n        continue;\n      }\n    }\n    console.debug(\n      \"[favicon-detector] No non-default favicon found for:\",\n      serverUrl,\n      \"returning null to show gradient fallback\"\n    );\n    return null;\n  } catch (error) {\n    console.warn(\"[favicon-detector] Error detecting favicon:\", error);\n    return null;\n  }\n}\n__name(detectFavicon, \"detectFavicon\");\n\n// src/utils/proxy-config.ts\nfunction applyProxyConfig(originalUrl, proxyConfig) {\n  const proxyHeaders = proxyConfig?.headers ?? proxyConfig?.customHeaders ?? {};\n  if (proxyConfig?.customHeaders && !proxyConfig?.headers) {\n    console.warn(\n      '[applyProxyConfig] The \"customHeaders\" option in proxyConfig is deprecated. Use \"headers\" instead.'\n    );\n  }\n  if (!proxyConfig?.proxyAddress) {\n    return {\n      url: originalUrl,\n      headers: proxyHeaders\n    };\n  }\n  const proxyUrl = new URL(proxyConfig.proxyAddress);\n  const targetUrl = new URL(originalUrl);\n  const finalUrl = `${proxyUrl.origin}${proxyUrl.pathname}${targetUrl.pathname}${targetUrl.search}`;\n  const headers = {\n    \"X-Target-URL\": originalUrl,\n    ...proxyHeaders\n  };\n  return { url: finalUrl, headers };\n}\n__name(applyProxyConfig, \"applyProxyConfig\");\n\nexport {\n  isLocalServer,\n  detectFavicon,\n  applyProxyConfig\n};\n", "import {\n  BaseMCPClient,\n  HttpConnector,\n  normalizeClientInfo,\n  resolveCallbacks\n} from \"./chunk-MOIY46VI.js\";\nimport {\n  Tel,\n  getPackageVersion\n} from \"./chunk-YEK7642C.js\";\nimport {\n  logger\n} from \"./chunk-QWQYAQCK.js\";\nimport {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/client/browser.ts\nvar BrowserMCPClient = class _BrowserMCPClient extends BaseMCPClient {\n  static {\n    __name(this, \"BrowserMCPClient\");\n  }\n  /**\n   * Get the mcp-use package version.\n   * Works in all environments (Node.js, browser, Cloudflare Workers, Deno, etc.)\n   */\n  static getPackageVersion() {\n    return getPackageVersion();\n  }\n  constructor(config) {\n    super(config);\n    this._trackClientInit();\n  }\n  _trackClientInit() {\n    const servers = Object.keys(this.config.mcpServers ?? {});\n    Tel.getInstance().trackMCPClientInit({\n      codeMode: false,\n      // Browser client doesn't support code mode\n      sandbox: false,\n      // Sandbox not supported in browser\n      allCallbacks: false,\n      // Will be set per-server\n      verify: false,\n      servers,\n      numServers: servers.length,\n      isBrowser: true\n      // Browser MCPClient\n    }).catch(\n      (e) => logger.debug(`Failed to track BrowserMCPClient init: ${e}`)\n    );\n  }\n  static fromDict(cfg) {\n    return new _BrowserMCPClient(cfg);\n  }\n  /**\n   * Create a connector from server configuration (Browser version)\n   * Supports HTTP connector only\n   */\n  createConnectorFromConfig(serverConfig) {\n    const {\n      url,\n      headers,\n      fetch,\n      authToken,\n      authProvider,\n      wrapTransport,\n      clientOptions,\n      disableSseFallback,\n      preferSse,\n      gatewayUrl,\n      serverId\n    } = serverConfig;\n    if (!url) {\n      throw new Error(\"Server URL is required\");\n    }\n    const globalDefaults = this.config;\n    const resolved = resolveCallbacks(\n      serverConfig,\n      globalDefaults\n    );\n    const clientInfo = normalizeClientInfo(\n      serverConfig.clientInfo ?? this.config.clientInfo\n    );\n    const connectorOptions = {\n      headers,\n      fetch,\n      authToken,\n      authProvider,\n      wrapTransport,\n      clientOptions,\n      onSampling: resolved.onSampling,\n      onElicitation: resolved.onElicitation,\n      onNotification: resolved.onNotification,\n      disableSseFallback,\n      preferSse,\n      clientInfo,\n      gatewayUrl,\n      serverId\n    };\n    logger.debug(\n      `[BrowserMCPClient] Connector options prepared (clientOptions: ${clientOptions ? \"provided\" : \"none\"})`\n    );\n    return new HttpConnector(url, connectorOptions);\n  }\n};\n\nexport {\n  BrowserMCPClient\n};\n", "import {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/auth/probe-www-auth.ts\nimport { extractWWWAuthenticateParams } from \"@modelcontextprotocol/sdk/client/auth.js\";\nasync function probeAuthParams(serverUrl, fetchFn = fetch) {\n  const base = serverUrl.replace(/\\/$/, \"\");\n  const url = base.endsWith(\"/mcp\") ? base : `${base}/mcp`;\n  const response = await fetchFn(url, {\n    method: \"POST\",\n    headers: { \"Content-Type\": \"application/json\" },\n    body: JSON.stringify({\n      jsonrpc: \"2.0\",\n      method: \"initialize\",\n      id: 1,\n      params: {}\n    })\n  });\n  if (response.status !== 401) {\n    return {};\n  }\n  const { resourceMetadataUrl, scope } = extractWWWAuthenticateParams(response);\n  return { resourceMetadataUrl, scope };\n}\n__name(probeAuthParams, \"probeAuthParams\");\n\nexport {\n  probeAuthParams\n};\n", "import {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/auth/browser-provider.ts\nimport {\n  discoverOAuthProtectedResourceMetadata,\n  discoverAuthorizationServerMetadata,\n  refreshAuthorization\n} from \"@modelcontextprotocol/sdk/client/auth.js\";\n\n// src/utils/url-sanitize.ts\nfunction sanitizeUrl(raw) {\n  const abort = /* @__PURE__ */ __name(() => {\n    throw new Error(`Invalid url to pass to open(): ${raw}`);\n  }, \"abort\");\n  let url;\n  try {\n    url = new URL(raw);\n  } catch (_) {\n    abort();\n  }\n  if (url.protocol !== \"https:\" && url.protocol !== \"http:\") abort();\n  if (url.hostname !== encodeURIComponent(url.hostname)) abort();\n  if (url.username) url.username = encodeURIComponent(url.username);\n  if (url.password) url.password = encodeURIComponent(url.password);\n  url.pathname = url.pathname.slice(0, 1) + encodeURIComponent(url.pathname.slice(1)).replace(/%2f/gi, \"/\");\n  url.search = url.search.slice(0, 1) + Array.from(url.searchParams.entries()).map(sanitizeParam).join(\"&\");\n  url.hash = url.hash.slice(0, 1) + encodeURIComponent(url.hash.slice(1));\n  return url.href;\n}\n__name(sanitizeUrl, \"sanitizeUrl\");\nfunction sanitizeParam([k, v]) {\n  return `${encodeURIComponent(k)}${v.length > 0 ? `=${encodeURIComponent(v)}` : \"\"}`;\n}\n__name(sanitizeParam, \"sanitizeParam\");\n\n// src/auth/browser-provider.ts\nasync function serializeBody(body) {\n  if (typeof body === \"string\") return body;\n  if (body instanceof URLSearchParams || body instanceof FormData) {\n    return Object.fromEntries(body.entries());\n  }\n  if (body instanceof Blob) return await body.text();\n  return body;\n}\n__name(serializeBody, \"serializeBody\");\nvar BrowserOAuthClientProvider = class {\n  static {\n    __name(this, \"BrowserOAuthClientProvider\");\n  }\n  serverUrl;\n  storageKeyPrefix;\n  serverUrlHash;\n  clientName;\n  clientUri;\n  logoUri;\n  callbackUrl;\n  preventAutoAuth;\n  useRedirectFlow;\n  oauthProxyUrl;\n  connectionUrl;\n  // MCP proxy URL that client connected to\n  originalFetch;\n  _cachedAuthServerUrl = null;\n  _cachedMetadata = null;\n  _refreshPromise = null;\n  onPopupWindow;\n  constructor(serverUrl, options = {}) {\n    this.serverUrl = serverUrl;\n    this.storageKeyPrefix = options.storageKeyPrefix || \"mcp:auth\";\n    this.serverUrlHash = this.hashString(serverUrl);\n    this.clientName = options.clientName || \"mcp-use\";\n    this.clientUri = options.clientUri || (typeof window !== \"undefined\" ? window.location.origin : \"\");\n    this.logoUri = options.logoUri || \"https://mcp-use.com/logo.png\";\n    this.callbackUrl = sanitizeUrl(\n      options.callbackUrl || (typeof window !== \"undefined\" ? new URL(\"/oauth/callback\", window.location.origin).toString() : \"/oauth/callback\")\n    );\n    this.preventAutoAuth = options.preventAutoAuth;\n    this.useRedirectFlow = options.useRedirectFlow;\n    this.oauthProxyUrl = options.oauthProxyUrl;\n    this.connectionUrl = options.connectionUrl;\n    this.onPopupWindow = options.onPopupWindow;\n  }\n  /**\n   * Install fetch interceptor to proxy OAuth requests through the backend\n   */\n  installFetchInterceptor() {\n    if (!this.oauthProxyUrl) {\n      console.warn(\n        \"[BrowserOAuthProvider] No OAuth proxy URL configured, skipping fetch interceptor installation\"\n      );\n      return;\n    }\n    if (!this.originalFetch) {\n      this.originalFetch = window.fetch;\n    } else {\n      console.warn(\n        \"[BrowserOAuthProvider] Fetch interceptor already installed\"\n      );\n      return;\n    }\n    const oauthProxyUrl = this.oauthProxyUrl;\n    const connectionUrl = this.connectionUrl;\n    const serverUrl = this.serverUrl;\n    const originalFetch = this.originalFetch;\n    console.log(\n      `[BrowserOAuthProvider] Installing fetch interceptor with proxy: ${oauthProxyUrl}`\n    );\n    window.fetch = /* @__PURE__ */ __name(async function interceptedFetch(input, init) {\n      const url = typeof input === \"string\" ? input : input instanceof URL ? input.toString() : input.url;\n      const isOAuthRequest = url.includes(\"/.well-known/\") || url.match(/\\/(register|token|authorize)$/);\n      if (!isOAuthRequest) {\n        return await originalFetch(input, init);\n      }\n      try {\n        const urlObj = new URL(url);\n        const proxyUrlObj = new URL(oauthProxyUrl);\n        if (urlObj.origin === proxyUrlObj.origin && (urlObj.pathname.startsWith(proxyUrlObj.pathname) || url.includes(\"/inspector/api/oauth\"))) {\n          return await originalFetch(input, init);\n        }\n      } catch {\n      }\n      try {\n        const isMetadata = url.includes(\"/.well-known/\");\n        let metadataUrl = url;\n        if (isMetadata && serverUrl) {\n          try {\n            const urlObj = new URL(url);\n            const serverUrlObj = new URL(serverUrl);\n            if (urlObj.protocol === \"http:\" && serverUrlObj.protocol === \"https:\") {\n              const pathMatch = urlObj.pathname.match(/(\\/.well-known\\/[^/]+)/);\n              const wellKnownPath = pathMatch ? pathMatch[1] : urlObj.pathname;\n              metadataUrl = `${serverUrlObj.origin}${wellKnownPath}`;\n              console.log(\n                `[OAuth Proxy] Rewrote gateway metadata URL ${url} to server URL ${metadataUrl}`\n              );\n            } else if (connectionUrl) {\n              const connectionUrlObj = new URL(connectionUrl);\n              if (urlObj.origin === connectionUrlObj.origin && urlObj.origin !== serverUrlObj.origin) {\n                const pathMatch = urlObj.pathname.match(\n                  /(\\/.well-known\\/[^/]+)/\n                );\n                const wellKnownPath = pathMatch ? pathMatch[1] : urlObj.pathname;\n                metadataUrl = `${serverUrlObj.origin}${wellKnownPath}`;\n                console.log(\n                  `[OAuth Proxy] Rewrote gateway metadata URL ${url} to server URL ${metadataUrl}`\n                );\n              }\n            }\n          } catch (e) {\n            console.error(`[OAuth Proxy] Error rewriting metadata URL:`, e);\n          }\n        }\n        const proxyEndpoint = isMetadata ? `${oauthProxyUrl}/metadata?url=${encodeURIComponent(metadataUrl)}` : `${oauthProxyUrl}/proxy`;\n        console.log(\n          `[OAuth Proxy] Routing ${isMetadata ? \"metadata\" : \"request\"} through: ${proxyEndpoint}`\n        );\n        if (isMetadata) {\n          const headers = {\n            ...init?.headers ? Object.fromEntries(new Headers(init.headers)) : {}\n          };\n          if (connectionUrl) {\n            headers[\"X-Connection-URL\"] = connectionUrl;\n          }\n          const proxyUrl = new URL(proxyEndpoint);\n          if (serverUrl) {\n            proxyUrl.searchParams.set(\"mcp_url\", serverUrl);\n          }\n          return await originalFetch(proxyUrl.toString(), {\n            ...init,\n            method: \"GET\",\n            headers\n          });\n        }\n        let requestUrl = url;\n        if (url.includes(\"/authorize\") && serverUrl) {\n          try {\n            const urlObj = new URL(url);\n            const resourceParam = urlObj.searchParams.get(\"resource\");\n            if (resourceParam && connectionUrl) {\n              const connectionUrlObj = new URL(connectionUrl);\n              if (resourceParam.startsWith(connectionUrlObj.origin) || resourceParam === connectionUrl) {\n                urlObj.searchParams.set(\"resource\", serverUrl);\n                requestUrl = urlObj.toString();\n                console.log(\n                  `[OAuth Proxy] Rewrote authorize resource parameter from ${resourceParam} to ${serverUrl}`\n                );\n              }\n            }\n          } catch (e) {\n            console.error(`[OAuth Proxy] Error rewriting authorize URL:`, e);\n          }\n        }\n        let body = init?.body ? await serializeBody(init.body) : void 0;\n        if (url.includes(\"/token\") && serverUrl && connectionUrl && body) {\n          try {\n            const params = new URLSearchParams(body);\n            const resourceParam = params.get(\"resource\");\n            if (resourceParam) {\n              const connectionUrlObj = new URL(connectionUrl);\n              if (resourceParam.startsWith(connectionUrlObj.origin) || resourceParam === connectionUrl) {\n                params.set(\"resource\", serverUrl);\n                body = params.toString();\n                console.log(\n                  `[OAuth Proxy] Rewrote token resource parameter from ${resourceParam} to ${serverUrl}`\n                );\n              }\n            }\n          } catch (e) {\n            console.error(`[OAuth Proxy] Error rewriting token body:`, e);\n          }\n        }\n        const response = await originalFetch(proxyEndpoint, {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({\n            url: requestUrl,\n            method: init?.method || \"POST\",\n            headers: init?.headers ? Object.fromEntries(new Headers(init.headers)) : {},\n            body\n          })\n        });\n        const data = await response.json();\n        return new Response(JSON.stringify(data.body), {\n          status: data.status,\n          statusText: data.statusText,\n          headers: new Headers(data.headers)\n        });\n      } catch (error) {\n        console.error(\n          \"[OAuth Proxy] Request failed, falling back to direct fetch:\",\n          error\n        );\n        return await originalFetch(input, init);\n      }\n    }, \"interceptedFetch\");\n  }\n  /**\n   * Restore original fetch after OAuth flow completes\n   */\n  restoreFetch() {\n    if (this.originalFetch) {\n      console.log(\"[BrowserOAuthProvider] Restoring original fetch\");\n      window.fetch = this.originalFetch;\n      this.originalFetch = void 0;\n    }\n  }\n  // --- SDK Interface Methods ---\n  get redirectUrl() {\n    return sanitizeUrl(this.callbackUrl);\n  }\n  get clientMetadata() {\n    return {\n      redirect_uris: [this.redirectUrl],\n      token_endpoint_auth_method: \"none\",\n      // Public client\n      grant_types: [\"authorization_code\", \"refresh_token\"],\n      response_types: [\"code\"],\n      client_name: this.clientName,\n      client_uri: this.clientUri,\n      logo_uri: this.logoUri\n      // scope: 'openid profile email mcp', // Example scopes, adjust as needed\n    };\n  }\n  async clientInformation() {\n    const key = this.getKey(\"client_info\");\n    const data = localStorage.getItem(key);\n    if (!data) return void 0;\n    try {\n      return JSON.parse(data);\n    } catch (e) {\n      console.warn(\n        `[${this.storageKeyPrefix}] Failed to parse client information:`,\n        e\n      );\n      localStorage.removeItem(key);\n      return void 0;\n    }\n  }\n  // NOTE: The SDK's auth() function uses this if dynamic registration is needed.\n  // Ensure your OAuthClientInformationFull matches the expected structure if DCR is used.\n  async saveClientInformation(clientInformation) {\n    const key = this.getKey(\"client_info\");\n    localStorage.setItem(key, JSON.stringify(clientInformation));\n  }\n  async tokens() {\n    const key = this.getKey(\"tokens\");\n    const data = localStorage.getItem(key);\n    if (!data) return void 0;\n    try {\n      const tokens = JSON.parse(data);\n      if (tokens.access_token && tokens.refresh_token) {\n        try {\n          const payload = JSON.parse(atob(tokens.access_token.split(\".\")[1]));\n          if (payload.exp && Date.now() >= (payload.exp - 30) * 1e3) {\n            console.log(\"[tokens] Access token expiring soon, refreshing...\");\n            const refreshed = await this._dedupedRefresh(tokens);\n            if (refreshed) {\n              console.log(\"[tokens] Refreshed successfully\");\n              return refreshed;\n            }\n          }\n        } catch {\n        }\n      }\n      return tokens;\n    } catch (e) {\n      console.warn(`[${this.storageKeyPrefix}] Failed to parse tokens:`, e);\n      localStorage.removeItem(key);\n      return void 0;\n    }\n  }\n  async saveTokens(tokens) {\n    const key = this.getKey(\"tokens\");\n    localStorage.setItem(key, JSON.stringify(tokens));\n    localStorage.removeItem(this.getKey(\"code_verifier\"));\n    localStorage.removeItem(this.getKey(\"last_auth_url\"));\n  }\n  async _refresh(tokens) {\n    try {\n      if (!this._cachedAuthServerUrl || !this._cachedMetadata) {\n        const resourceMetadata = await discoverOAuthProtectedResourceMetadata(\n          this.serverUrl\n        );\n        const authServerUrl = resourceMetadata.authorization_servers?.[0];\n        if (!authServerUrl) return null;\n        const metadata = await discoverAuthorizationServerMetadata(authServerUrl);\n        if (!metadata) return null;\n        this._cachedAuthServerUrl = authServerUrl;\n        this._cachedMetadata = metadata;\n      }\n      const clientInfo = await this.clientInformation();\n      if (!clientInfo) return null;\n      const newTokens = await refreshAuthorization(this._cachedAuthServerUrl, {\n        metadata: this._cachedMetadata,\n        clientInformation: clientInfo,\n        refreshToken: tokens.refresh_token\n      });\n      await this.saveTokens(newTokens);\n      return newTokens;\n    } catch {\n      return null;\n    }\n  }\n  async _dedupedRefresh(tokens) {\n    if (this._refreshPromise) return this._refreshPromise;\n    this._refreshPromise = this._refresh(tokens);\n    try {\n      return await this._refreshPromise;\n    } finally {\n      this._refreshPromise = null;\n    }\n  }\n  async invalidateCredentials(scope) {\n    switch (scope) {\n      case \"all\":\n        localStorage.removeItem(this.getKey(\"tokens\"));\n        localStorage.removeItem(this.getKey(\"client_info\"));\n        localStorage.removeItem(this.getKey(\"code_verifier\"));\n        localStorage.removeItem(this.getKey(\"last_auth_url\"));\n        break;\n      case \"client\":\n        localStorage.removeItem(this.getKey(\"client_info\"));\n        break;\n      case \"tokens\":\n        localStorage.removeItem(this.getKey(\"tokens\"));\n        break;\n      case \"verifier\":\n        localStorage.removeItem(this.getKey(\"code_verifier\"));\n        break;\n      default:\n        break;\n    }\n  }\n  async saveCodeVerifier(codeVerifier) {\n    const key = this.getKey(\"code_verifier\");\n    localStorage.setItem(key, codeVerifier);\n  }\n  async codeVerifier() {\n    const key = this.getKey(\"code_verifier\");\n    const verifier = localStorage.getItem(key);\n    if (!verifier) {\n      throw new Error(\n        `[${this.storageKeyPrefix}] Code verifier not found in storage for key ${key}. Auth flow likely corrupted or timed out.`\n      );\n    }\n    return verifier;\n  }\n  /**\n   * Generates and stores the authorization URL with state, without opening a popup.\n   * Used when preventAutoAuth is enabled to provide the URL for manual navigation.\n   * @param authorizationUrl The fully constructed authorization URL from the SDK.\n   * @returns The full authorization URL with state parameter.\n   */\n  async prepareAuthorizationUrl(authorizationUrl) {\n    if (this.connectionUrl && this.serverUrl) {\n      const resourceParam = authorizationUrl.searchParams.get(\"resource\");\n      if (resourceParam) {\n        try {\n          const connectionUrlObj = new URL(this.connectionUrl);\n          if (resourceParam.startsWith(connectionUrlObj.origin) || resourceParam === this.connectionUrl) {\n            authorizationUrl.searchParams.set(\"resource\", this.serverUrl);\n            console.log(\n              `[OAuth] Rewrote authorize resource parameter from ${resourceParam} to ${this.serverUrl}`\n            );\n          }\n        } catch (e) {\n          console.error(`[OAuth] Error rewriting resource parameter:`, e);\n        }\n      }\n    }\n    const state = globalThis.crypto.randomUUID();\n    const stateKey = `${this.storageKeyPrefix}:state_${state}`;\n    const stateData = {\n      serverUrlHash: this.serverUrlHash,\n      expiry: Date.now() + 1e3 * 60 * 10,\n      // State expires in 10 minutes\n      // Store provider options needed to reconstruct on callback\n      providerOptions: {\n        serverUrl: this.serverUrl,\n        storageKeyPrefix: this.storageKeyPrefix,\n        clientName: this.clientName,\n        clientUri: this.clientUri,\n        callbackUrl: this.callbackUrl,\n        // Include OAuth proxy settings so callback can bypass CORS for token exchange\n        oauthProxyUrl: this.oauthProxyUrl,\n        connectionUrl: this.connectionUrl\n      },\n      // Store flow type so callback knows how to handle the response\n      flowType: this.useRedirectFlow ? \"redirect\" : \"popup\",\n      // Always store current URL so we can return to it after auth\n      // This is critical for popup flow when popup is blocked and user clicks link manually\n      returnUrl: typeof window !== \"undefined\" ? window.location.href : void 0\n    };\n    console.log(`[OAuth] Storing state key: ${stateKey}`);\n    localStorage.setItem(stateKey, JSON.stringify(stateData));\n    const verified = localStorage.getItem(stateKey);\n    console.log(`[OAuth] State stored successfully: ${!!verified}`);\n    authorizationUrl.searchParams.set(\"state\", state);\n    const authUrlString = authorizationUrl.toString();\n    const sanitizedAuthUrl = sanitizeUrl(authUrlString);\n    localStorage.setItem(this.getKey(\"last_auth_url\"), sanitizedAuthUrl);\n    return sanitizedAuthUrl;\n  }\n  /**\n   * Redirects the user agent to the authorization URL, storing necessary state.\n   * This now adheres to the SDK's void return type expectation for the interface.\n   * @param authorizationUrl The fully constructed authorization URL from the SDK.\n   */\n  async redirectToAuthorization(authorizationUrl) {\n    const sanitizedAuthUrl = await this.prepareAuthorizationUrl(authorizationUrl);\n    if (this.preventAutoAuth) {\n      console.info(\n        `[${this.storageKeyPrefix}] Auto-auth prevented. Authorization URL stored for manual trigger.`\n      );\n      return;\n    }\n    if (this.useRedirectFlow) {\n      console.info(\n        `[${this.storageKeyPrefix}] Redirecting to authorization URL (full-page redirect).`\n      );\n      window.location.href = sanitizedAuthUrl;\n      return;\n    }\n    const popupFeatures = \"width=600,height=700,resizable=yes,scrollbars=yes,status=yes\";\n    try {\n      const popup = window.open(\n        sanitizedAuthUrl,\n        `mcp_auth_${this.serverUrlHash}`,\n        popupFeatures\n      );\n      if (this.onPopupWindow) {\n        this.onPopupWindow(sanitizedAuthUrl, popupFeatures, popup);\n      }\n      if (!popup || popup.closed || typeof popup.closed === \"undefined\") {\n        console.warn(\n          `[${this.storageKeyPrefix}] Popup likely blocked by browser. Manual navigation might be required using the stored URL.`\n        );\n      } else {\n        popup.focus();\n        console.info(\n          `[${this.storageKeyPrefix}] Redirecting to authorization URL in popup.`\n        );\n      }\n    } catch (e) {\n      console.error(\n        `[${this.storageKeyPrefix}] Error opening popup window:`,\n        e\n      );\n    }\n  }\n  // --- Helper Methods ---\n  /**\n   * Retrieves the last URL passed to `redirectToAuthorization`. Useful for manual fallback.\n   */\n  getLastAttemptedAuthUrl() {\n    const storedUrl = localStorage.getItem(this.getKey(\"last_auth_url\"));\n    return storedUrl ? sanitizeUrl(storedUrl) : null;\n  }\n  clearStorage() {\n    const prefixPattern = `${this.storageKeyPrefix}_${this.serverUrlHash}_`;\n    const statePattern = `${this.storageKeyPrefix}:state_`;\n    const keysToRemove = [];\n    let count = 0;\n    for (let i = 0; i < localStorage.length; i++) {\n      const key = localStorage.key(i);\n      if (!key) continue;\n      if (key.startsWith(prefixPattern)) {\n        keysToRemove.push(key);\n      } else if (key.startsWith(statePattern)) {\n        try {\n          const item = localStorage.getItem(key);\n          if (item) {\n            const state = JSON.parse(item);\n            if (state.serverUrlHash === this.serverUrlHash) {\n              keysToRemove.push(key);\n            }\n          }\n        } catch (e) {\n          console.warn(\n            `[${this.storageKeyPrefix}] Error parsing state key ${key} during clearStorage:`,\n            e\n          );\n        }\n      }\n    }\n    const uniqueKeysToRemove = [...new Set(keysToRemove)];\n    uniqueKeysToRemove.forEach((key) => {\n      localStorage.removeItem(key);\n      count++;\n    });\n    return count;\n  }\n  hashString(str) {\n    let hash = 0;\n    for (let i = 0; i < str.length; i++) {\n      const char = str.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash;\n    }\n    return Math.abs(hash).toString(16);\n  }\n  getKey(keySuffix) {\n    return `${this.storageKeyPrefix}_${this.serverUrlHash}_${keySuffix}`;\n  }\n};\n\n// src/auth/callback.ts\nimport { auth } from \"@modelcontextprotocol/sdk/client/auth.js\";\nasync function onMcpAuthorization() {\n  const queryParams = new URLSearchParams(window.location.search);\n  const code = queryParams.get(\"code\");\n  const state = queryParams.get(\"state\");\n  const error = queryParams.get(\"error\");\n  const errorDescription = queryParams.get(\"error_description\");\n  const logPrefix = \"[mcp-callback]\";\n  console.log(`${logPrefix} Handling callback...`, {\n    code,\n    state,\n    error,\n    errorDescription\n  });\n  let provider = null;\n  let storedStateData = null;\n  let stateKey = null;\n  try {\n    if (error) {\n      throw new Error(\n        `OAuth error: ${error} - ${errorDescription || \"No description provided.\"}`\n      );\n    }\n    if (!code) {\n      throw new Error(\n        \"Authorization code not found in callback query parameters.\"\n      );\n    }\n    if (!state) {\n      throw new Error(\n        \"State parameter not found or invalid in callback query parameters.\"\n      );\n    }\n    console.log(`[mcp-callback] Looking for state: ${state}`);\n    console.log(\n      `[mcp-callback] All localStorage keys:`,\n      Object.keys(localStorage)\n    );\n    const defaultStateKey = `mcp:auth:state_${state}`;\n    if (localStorage.getItem(defaultStateKey)) {\n      stateKey = defaultStateKey;\n      console.log(\n        `[mcp-callback] Found state with default key: ${defaultStateKey}`\n      );\n    } else {\n      const stateKeySuffix = `:state_${state}`;\n      for (let i = 0; i < localStorage.length; i++) {\n        const key = localStorage.key(i);\n        if (key && key.endsWith(stateKeySuffix)) {\n          stateKey = key;\n          console.log(`[mcp-callback] Found state with dynamic key: ${key}`);\n          break;\n        }\n      }\n    }\n    if (!stateKey) {\n      const stateKeys = Object.keys(localStorage).filter(\n        (k) => k.includes(\"state\")\n      );\n      console.log(`[mcp-callback] State keys in storage:`, stateKeys);\n      throw new Error(\n        `Invalid or expired state parameter \"${state}\". No matching state found in storage.`\n      );\n    }\n    const storedStateJSON = localStorage.getItem(stateKey);\n    if (!storedStateJSON) {\n      throw new Error(\n        `Invalid or expired state parameter \"${state}\". No matching state found in storage.`\n      );\n    }\n    try {\n      storedStateData = JSON.parse(storedStateJSON);\n    } catch (e) {\n      throw new Error(\"Failed to parse stored OAuth state.\");\n    }\n    if (!storedStateData.expiry || storedStateData.expiry < Date.now()) {\n      localStorage.removeItem(stateKey);\n      throw new Error(\n        \"OAuth state has expired. Please try initiating authentication again.\"\n      );\n    }\n    if (!storedStateData.providerOptions) {\n      throw new Error(\"Stored state is missing required provider options.\");\n    }\n    const { serverUrl, ...providerOptions } = storedStateData.providerOptions;\n    let oauthProxyUrl = providerOptions.oauthProxyUrl;\n    const connectionUrl = providerOptions.connectionUrl;\n    if (!oauthProxyUrl) {\n      try {\n        const callbackUrl = new URL(window.location.href);\n        if (callbackUrl.pathname.includes(\"/oauth/callback\")) {\n          let basePath = callbackUrl.pathname.replace(\n            /\\/oauth\\/callback.*$/,\n            \"\"\n          );\n          if (!basePath || basePath === \"\") {\n            basePath = \"/inspector\";\n            console.log(\n              `${logPrefix} Callback at root /oauth/callback, using /inspector as base path for OAuth proxy`\n            );\n          }\n          oauthProxyUrl = `${callbackUrl.origin}${basePath}/api/oauth`;\n          console.log(\n            `${logPrefix} Inferred OAuth proxy URL from callback: ${oauthProxyUrl}`\n          );\n        }\n      } catch (e) {\n        console.warn(`${logPrefix} Could not infer OAuth proxy URL:`, e);\n      }\n    }\n    console.log(\n      `${logPrefix} Re-instantiating provider for server: ${serverUrl}`\n    );\n    provider = new BrowserOAuthClientProvider(serverUrl, {\n      ...providerOptions,\n      oauthProxyUrl,\n      connectionUrl\n    });\n    if (oauthProxyUrl) {\n      console.log(\n        `${logPrefix} Installing fetch interceptor for token exchange (proxy: ${oauthProxyUrl})`\n      );\n      provider.installFetchInterceptor();\n    }\n    console.log(`${logPrefix} Calling SDK auth() to exchange code...`);\n    const sdkServerUrl = connectionUrl || new URL(serverUrl).origin;\n    console.log(\n      `${logPrefix} Using SDK serverUrl: ${sdkServerUrl} (connectionUrl: ${connectionUrl || \"none\"})`\n    );\n    const authResult = await auth(provider, {\n      serverUrl: sdkServerUrl,\n      authorizationCode: code\n    });\n    if (authResult === \"AUTHORIZED\") {\n      console.log(`${logPrefix} Authorization successful via SDK auth().`);\n      const isRedirectFlow = storedStateData.flowType === \"redirect\";\n      if (isRedirectFlow && storedStateData.returnUrl) {\n        console.log(\n          `${logPrefix} Redirect flow complete. Returning to: ${storedStateData.returnUrl}`\n        );\n        localStorage.removeItem(stateKey);\n        window.location.href = storedStateData.returnUrl;\n      } else if (window.opener && !window.opener.closed) {\n        console.log(`${logPrefix} Popup flow complete. Notifying opener...`);\n        window.opener.postMessage(\n          { type: \"mcp_auth_callback\", success: true },\n          window.location.origin\n        );\n        localStorage.removeItem(stateKey);\n        window.close();\n      } else if (storedStateData.returnUrl) {\n        console.log(\n          `${logPrefix} Popup flow without opener. Returning to: ${storedStateData.returnUrl}`\n        );\n        localStorage.removeItem(stateKey);\n        window.location.href = storedStateData.returnUrl;\n      } else {\n        console.warn(\n          `${logPrefix} No opener window or return URL detected. Redirecting to root.`\n        );\n        localStorage.removeItem(stateKey);\n        const pathParts = window.location.pathname.split(\"/\").filter(Boolean);\n        const basePath = pathParts.length > 0 && pathParts[pathParts.length - 1] === \"callback\" ? \"/\" + pathParts.slice(0, -2).join(\"/\") : \"/\";\n        window.location.href = basePath || \"/\";\n      }\n    } else {\n      console.warn(\n        `${logPrefix} SDK auth() returned unexpected status: ${authResult}`\n      );\n      throw new Error(\n        `Unexpected result from authentication library: ${authResult}`\n      );\n    }\n  } catch (err) {\n    console.error(`${logPrefix} Error during OAuth callback handling:`, err);\n    const errorMessage = err instanceof Error ? err.message : String(err);\n    if (window.opener && !window.opener.closed) {\n      window.opener.postMessage(\n        { type: \"mcp_auth_callback\", success: false, error: errorMessage },\n        window.location.origin\n      );\n    }\n    try {\n      document.body.innerHTML = \"\";\n      const container = document.createElement(\"div\");\n      container.style.fontFamily = \"sans-serif\";\n      container.style.padding = \"20px\";\n      const heading = document.createElement(\"h1\");\n      heading.textContent = \"Authentication Error\";\n      container.appendChild(heading);\n      const errorPara = document.createElement(\"p\");\n      errorPara.style.color = \"red\";\n      errorPara.style.backgroundColor = \"#ffebeb\";\n      errorPara.style.border = \"1px solid red\";\n      errorPara.style.padding = \"10px\";\n      errorPara.style.borderRadius = \"4px\";\n      errorPara.textContent = errorMessage;\n      container.appendChild(errorPara);\n      const closePara = document.createElement(\"p\");\n      closePara.textContent = \"You can close this window or \";\n      const closeLink = document.createElement(\"a\");\n      closeLink.href = \"#\";\n      closeLink.textContent = \"click here to close\";\n      closeLink.onclick = (e) => {\n        e.preventDefault();\n        window.close();\n        return false;\n      };\n      closePara.appendChild(closeLink);\n      closePara.appendChild(document.createTextNode(\".\"));\n      container.appendChild(closePara);\n      if (err instanceof Error && err.stack) {\n        const stackPre = document.createElement(\"pre\");\n        stackPre.style.fontSize = \"0.8em\";\n        stackPre.style.color = \"#555\";\n        stackPre.style.marginTop = \"20px\";\n        stackPre.style.whiteSpace = \"pre-wrap\";\n        stackPre.textContent = err.stack;\n        container.appendChild(stackPre);\n      }\n      document.body.appendChild(container);\n    } catch (displayError) {\n      console.error(\n        `${logPrefix} Could not display error in callback window:`,\n        displayError\n      );\n    }\n    if (stateKey) {\n      localStorage.removeItem(stateKey);\n    }\n    if (provider) {\n      localStorage.removeItem(provider.getKey(\"code_verifier\"));\n      localStorage.removeItem(provider.getKey(\"last_auth_url\"));\n    }\n  }\n}\n__name(onMcpAuthorization, \"onMcpAuthorization\");\n\nexport {\n  sanitizeUrl,\n  BrowserOAuthClientProvider,\n  onMcpAuthorization\n};\n", "import {\n  createNotification,\n  createRequest\n} from \"./chunk-K4JZBXZM.js\";\nimport {\n  applyProxyConfig,\n  detectFavicon\n} from \"./chunk-RYMNQ23J.js\";\nimport {\n  BrowserMCPClient\n} from \"./chunk-QCAOYQX6.js\";\nimport {\n  Tel,\n  getPackageVersion\n} from \"./chunk-YEK7642C.js\";\nimport {\n  Logger,\n  logger\n} from \"./chunk-QWQYAQCK.js\";\nimport {\n  probeAuthParams\n} from \"./chunk-MXENOGA5.js\";\nimport {\n  BrowserOAuthClientProvider,\n  sanitizeUrl\n} from \"./chunk-6KHHFWTB.js\";\nimport {\n  __name\n} from \"./chunk-3GQAWCBQ.js\";\n\n// src/react/useMcp.ts\nimport { auth } from \"@modelcontextprotocol/sdk/client/auth.js\";\nimport { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\n\n// src/utils/assert.ts\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n__name(assert, \"assert\");\n\n// src/react/useMcp-helpers.ts\nvar USE_MCP_SERVER_NAME = \"inspector-server\";\nfunction deriveOAuthClientConfigFromClientInfo(clientInfo) {\n  return {\n    name: clientInfo.name,\n    version: clientInfo.version,\n    uri: clientInfo.websiteUrl,\n    logo_uri: clientInfo.icons?.[0]?.src\n  };\n}\n__name(deriveOAuthClientConfigFromClientInfo, \"deriveOAuthClientConfigFromClientInfo\");\nfunction isOAuthDiscoveryFailure(error) {\n  const errorMessage = error instanceof Error ? error.message : String(error);\n  const msg = errorMessage.toLowerCase();\n  return msg.includes(\"oauth discovery failed\") || msg.includes(\"oauth-authorization-server\") || msg.includes(\"not valid json\") || msg.includes(\"404\") && (msg.includes(\"openid-configuration\") || msg.includes(\"oauth-protected-resources\") || msg.includes(\"oauth-authorization-url\") || msg.includes(\"register\")) || msg.includes(\"invalid oauth error response\") && msg.includes(\"not found\");\n}\n__name(isOAuthDiscoveryFailure, \"isOAuthDiscoveryFailure\");\nfunction deriveOAuthProxyUrl(gatewayUrl) {\n  if (!gatewayUrl) {\n    return void 0;\n  }\n  const gatewayUrlObj = new URL(gatewayUrl);\n  const basePath = gatewayUrlObj.pathname.replace(/\\/proxy\\/?$/, \"\");\n  return `${gatewayUrlObj.origin}${basePath}/oauth`;\n}\n__name(deriveOAuthProxyUrl, \"deriveOAuthProxyUrl\");\nfunction createBrowserOAuthProvider(params) {\n  const oauthProxyUrl = deriveOAuthProxyUrl(params.gatewayUrl);\n  const provider = new BrowserOAuthClientProvider(params.effectiveOAuthUrl, {\n    storageKeyPrefix: params.storageKeyPrefix,\n    clientName: params.oauthClientConfig.name,\n    clientUri: params.oauthClientConfig.uri,\n    logoUri: params.oauthClientConfig.logo_uri || \"https://mcp-use.com/logo.png\",\n    callbackUrl: params.callbackUrl,\n    preventAutoAuth: params.preventAutoAuth,\n    useRedirectFlow: params.useRedirectFlow,\n    oauthProxyUrl,\n    connectionUrl: params.gatewayUrl,\n    onPopupWindow: params.onPopupWindow\n  });\n  if (oauthProxyUrl && params.installFetchInterceptor) {\n    provider.installFetchInterceptor();\n  }\n  return { provider, oauthProxyUrl };\n}\n__name(createBrowserOAuthProvider, \"createBrowserOAuthProvider\");\nfunction startConnectionHealthMonitoring(params) {\n  let healthCheckInterval = null;\n  let lastSuccessfulCheck = Date.now();\n  const healthCheckIntervalMs = params.healthCheckIntervalMs ?? 1e4;\n  const healthCheckTimeoutMs = params.healthCheckTimeoutMs ?? 3e4;\n  const checkConnectionHealth = /* @__PURE__ */ __name(async () => {\n    if (!params.isMountedRef.current || params.stateRef.current !== \"ready\") {\n      if (healthCheckInterval) {\n        clearInterval(healthCheckInterval);\n        healthCheckInterval = null;\n      }\n      return;\n    }\n    try {\n      const healthCheckUrl = params.gatewayUrl || params.url;\n      if (!healthCheckUrl) {\n        return;\n      }\n      const authHeaders = params.getAuthHeaders ? await params.getAuthHeaders() : {};\n      const response = await fetch(healthCheckUrl, {\n        method: \"HEAD\",\n        headers: { ...params.allHeaders, ...authHeaders },\n        signal: AbortSignal.timeout(5e3)\n      });\n      if (response.ok || response.status < 500) {\n        lastSuccessfulCheck = Date.now();\n      } else {\n        throw new Error(`Server returned ${response.status}`);\n      }\n    } catch {\n      const timeSinceLastSuccess = Date.now() - lastSuccessfulCheck;\n      if (timeSinceLastSuccess > healthCheckTimeoutMs) {\n        params.addLog(\n          \"warn\",\n          `Connection appears to be broken (no response for ${Math.round(timeSinceLastSuccess / 1e3)}s), attempting to reconnect...`\n        );\n        if (healthCheckInterval) {\n          clearInterval(healthCheckInterval);\n          healthCheckInterval = null;\n        }\n        if (params.autoReconnectRef.current && params.isMountedRef.current) {\n          params.setState(\"discovering\");\n          params.addLog(\"info\", \"Auto-reconnecting to MCP server...\");\n          setTimeout(\n            () => {\n              if (params.isMountedRef.current && params.stateRef.current === \"discovering\") {\n                params.connect();\n              }\n            },\n            typeof params.autoReconnectRef.current === \"number\" ? params.autoReconnectRef.current : params.defaultReconnectDelay\n          );\n        }\n      }\n    }\n  }, \"checkConnectionHealth\");\n  healthCheckInterval = setInterval(\n    checkConnectionHealth,\n    healthCheckIntervalMs\n  );\n  return () => {\n    if (healthCheckInterval) {\n      clearInterval(healthCheckInterval);\n      healthCheckInterval = null;\n    }\n  };\n}\n__name(startConnectionHealthMonitoring, \"startConnectionHealthMonitoring\");\n\n// src/react/useMcp.ts\nvar DEFAULT_RECONNECT_DELAY = 3e3;\nvar DEFAULT_RETRY_DELAY = 5e3;\nfunction useMcp(options) {\n  const {\n    url,\n    enabled = true,\n    callbackUrl = typeof window !== \"undefined\" ? sanitizeUrl(\n      new URL(\"/oauth/callback\", window.location.origin).toString()\n    ) : \"/oauth/callback\",\n    storageKeyPrefix = \"mcp:auth\",\n    clientConfig = {},\n    authProvider: providedAuthProvider,\n    headers: headersOption,\n    customHeaders: customHeadersOption,\n    proxyConfig,\n    autoProxyFallback = true,\n    debug: _debug = false,\n    logLevel: logLevelOption,\n    autoRetry = false,\n    autoReconnect = DEFAULT_RECONNECT_DELAY,\n    transportType = \"auto\",\n    preventAutoAuth = true,\n    // Default to true - require explicit user action for OAuth\n    useRedirectFlow = false,\n    // Default to false for backward compatibility (use popup)\n    onPopupWindow,\n    timeout = 3e4,\n    // 30 seconds default for connection timeout\n    sseReadTimeout = 3e5,\n    // 5 minutes default for SSE read timeout\n    wrapTransport,\n    fetch: customFetch,\n    clientOptions,\n    onNotification,\n    onSampling: onSamplingOption,\n    samplingCallback: samplingCallbackOption,\n    onElicitation: onElicitationOption,\n    elicitationCallback: elicitationCallbackOption\n  } = options;\n  const instanceLogger = useMemo(() => {\n    const name = `useMcp:${url || \"no-url\"}`;\n    const inst = Logger.get(name);\n    if (logLevelOption) {\n      inst.level = logLevelOption;\n    } else if (_debug) {\n      inst.level = \"debug\";\n    }\n    return inst;\n  }, [url, logLevelOption, _debug]);\n  const headers = headersOption ?? customHeadersOption ?? {};\n  if (customHeadersOption && !headersOption) {\n    instanceLogger.warn(\n      '[useMcp] The \"customHeaders\" option is deprecated. Use \"headers\" instead.'\n    );\n  }\n  const onSampling = onSamplingOption ?? samplingCallbackOption;\n  if (samplingCallbackOption && !onSamplingOption) {\n    instanceLogger.warn(\n      '[useMcp] The \"samplingCallback\" option is deprecated. Use \"onSampling\" instead.'\n    );\n  }\n  const onElicitation = onElicitationOption ?? elicitationCallbackOption;\n  if (elicitationCallbackOption && !onElicitationOption) {\n    logger.warn(\n      '[useMcp] The \"elicitationCallback\" option is deprecated. Use \"onElicitation\" instead.'\n    );\n  }\n  const defaultClientInfo = useMemo(\n    () => ({\n      name: \"mcp-use\",\n      title: \"mcp-use\",\n      version: getPackageVersion(),\n      description: \"mcp-use is a complete TypeScript framework for building and using MCP\",\n      icons: [\n        {\n          src: \"https://mcp-use.com/logo.png\"\n        }\n      ],\n      websiteUrl: \"https://mcp-use.com\"\n    }),\n    []\n  );\n  const mergedClientInfo = useMemo(\n    () => options.clientInfo ? { ...defaultClientInfo, ...options.clientInfo } : defaultClientInfo,\n    [options.clientInfo, defaultClientInfo]\n  );\n  const derivedOAuthClientConfig = useMemo(\n    () => deriveOAuthClientConfigFromClientInfo(mergedClientInfo),\n    [mergedClientInfo]\n  );\n  const oauthClientConfig = useMemo(() => {\n    if (clientConfig && Object.keys(clientConfig).length > 0) {\n      instanceLogger.warn(\n        \"[useMcp] The 'clientConfig' option is deprecated and will be removed in a future version. Use 'clientInfo' instead. The clientConfig will be automatically derived from clientInfo.\"\n      );\n      return { ...derivedOAuthClientConfig, ...clientConfig };\n    }\n    return derivedOAuthClientConfig;\n  }, [clientConfig, derivedOAuthClientConfig]);\n  const autoProxyFallbackConfig = useMemo(() => {\n    if (!autoProxyFallback) {\n      return { enabled: false, proxyAddress: void 0 };\n    }\n    if (typeof autoProxyFallback === \"boolean\") {\n      return {\n        enabled: autoProxyFallback,\n        proxyAddress: \"https://inspector.mcp-use.com/inspector/api/proxy\"\n      };\n    }\n    return {\n      enabled: autoProxyFallback.enabled !== false,\n      proxyAddress: autoProxyFallback.proxyAddress || \"https://inspector.mcp-use.com/inspector/api/proxy\"\n    };\n  }, [autoProxyFallback]);\n  const hasTriedProxyFallbackRef = useRef(false);\n  const [effectiveProxyConfig, setEffectiveProxyConfig] = useState(proxyConfig);\n  useEffect(() => {\n    setEffectiveProxyConfig(proxyConfig);\n  }, [proxyConfig]);\n  const { gatewayUrl, proxyHeaders } = useMemo(() => {\n    const result = applyProxyConfig(url || \"\", proxyConfig);\n    return {\n      gatewayUrl: proxyConfig?.proxyAddress,\n      proxyHeaders: result.headers\n    };\n  }, [url, proxyConfig]);\n  const effectiveOAuthUrl = useMemo(() => {\n    return url || \"\";\n  }, [url]);\n  const allHeaders = useMemo(\n    () => ({ ...proxyHeaders, ...headers }),\n    [proxyHeaders, headers]\n  );\n  const [state, setState] = useState(\"discovering\");\n  const [tools, setTools] = useState([]);\n  const [resources, setResources] = useState([]);\n  const [resourceTemplates, setResourceTemplates] = useState([]);\n  const [prompts, setPrompts] = useState([]);\n  const [serverInfo, setServerInfo] = useState(\n    // Only use cached metadata if it has at least a name\n    options._initialServerInfo?.name ? options._initialServerInfo : void 0\n  );\n  const [capabilities, setCapabilities] = useState();\n  const [error, setError] = useState(void 0);\n  const [log, setLog] = useState([]);\n  const [authUrl, setAuthUrl] = useState(void 0);\n  const [authTokens, setAuthTokens] = useState(void 0);\n  const clientRef = useRef(null);\n  const authProviderRef = useRef(\n    providedAuthProvider ?? null\n  );\n  const iconLoadingPromiseRef = useRef(null);\n  const connectingRef = useRef(false);\n  const isMountedRef = useRef(true);\n  const connectAttemptRef = useRef(0);\n  const authTimeoutRef = useRef(null);\n  const retryScheduledRef = useRef(false);\n  const stateRef = useRef(state);\n  const autoReconnectRef = useRef(autoReconnect);\n  const successfulTransportRef = useRef(null);\n  const connectRef = useRef(null);\n  const failConnectionRef = useRef(null);\n  useEffect(() => {\n    stateRef.current = state;\n    autoReconnectRef.current = autoReconnect;\n  }, [state, autoReconnect]);\n  useEffect(() => {\n    authProviderRef.current = providedAuthProvider ?? null;\n  }, [providedAuthProvider]);\n  const addLog = useCallback(\n    (level, message, ...args) => {\n      const fullMessage = args.length > 0 ? `${message} ${args.map((arg) => JSON.stringify(arg)).join(\" \")}` : message;\n      const logMsg = `[useMcp] ${fullMessage}`;\n      switch (level) {\n        case \"error\":\n          instanceLogger.error(logMsg);\n          break;\n        case \"warn\":\n          instanceLogger.warn(logMsg);\n          break;\n        case \"info\":\n          instanceLogger.info(logMsg);\n          break;\n        case \"debug\":\n          instanceLogger.debug(logMsg);\n          break;\n        default:\n          instanceLogger.info(logMsg);\n      }\n      if (isMountedRef.current) {\n        setLog((prevLog) => [\n          ...prevLog.slice(-100),\n          { level, message: fullMessage, timestamp: Date.now() }\n        ]);\n      }\n    },\n    [instanceLogger]\n  );\n  const disconnect = useCallback(\n    async (quiet = false) => {\n      if (!quiet) addLog(\"info\", \"Disconnecting...\");\n      connectingRef.current = false;\n      if (authTimeoutRef.current) clearTimeout(authTimeoutRef.current);\n      authTimeoutRef.current = null;\n      if (clientRef.current) {\n        try {\n          const serverName = USE_MCP_SERVER_NAME;\n          const session = clientRef.current.getSession(serverName);\n          if (session && session._healthCheckCleanup) {\n            session._healthCheckCleanup();\n            session._healthCheckCleanup = null;\n          }\n          if (session) {\n            await clientRef.current.closeSession(serverName);\n          }\n        } catch (err) {\n          if (!quiet) addLog(\"warn\", \"Error closing session:\", err);\n        }\n      }\n      clientRef.current = null;\n      if (isMountedRef.current && !quiet) {\n        setState(\"discovering\");\n        setTools([]);\n        setResources([]);\n        setResourceTemplates([]);\n        setPrompts([]);\n        setError(void 0);\n        setAuthUrl(void 0);\n      }\n    },\n    [addLog]\n  );\n  const failConnection = useCallback(\n    (errorMessage, connectionError) => {\n      addLog(\"error\", errorMessage, connectionError ?? \"\");\n      const errorCode = connectionError && \"code\" in connectionError ? connectionError.code : void 0;\n      const shouldTryProxyFallback = autoProxyFallbackConfig.enabled && !effectiveProxyConfig?.proxyAddress;\n      const isCorsError = errorMessage.includes(\"CORS\") || errorMessage.includes(\"blocked by CORS policy\") || errorMessage.includes(\"Failed to fetch\");\n      const is400Error = errorCode === 400;\n      const hasOther4xxError = typeof errorCode === \"number\" && errorCode >= 404 && errorCode < 500;\n      const isAuthError = errorCode === 401 || errorCode === 403;\n      const shouldFallback = shouldTryProxyFallback && (isCorsError || is400Error || hasOther4xxError) && !isAuthError;\n      if (shouldFallback) {\n        const errorType = isCorsError ? \"CORS error\" : is400Error ? \"HTTP 400 (Bad Request)\" : \"HTTP 4xx error\";\n        addLog(\n          \"info\",\n          `Direct connection failed with ${errorType}. Trying with proxy...`\n        );\n        clientRef.current = null;\n        if (!providedAuthProvider) {\n          authProviderRef.current = null;\n        }\n        addLog(\"debug\", \"Cleared client and auth provider for proxy fallback\");\n        setEffectiveProxyConfig({\n          proxyAddress: autoProxyFallbackConfig.proxyAddress\n        });\n        if (isMountedRef.current) {\n          setState(\"discovering\");\n        }\n        setTimeout(() => {\n          if (isMountedRef.current) {\n            connectRef.current?.();\n          }\n        }, 1e3);\n        return true;\n      }\n      if (isMountedRef.current) {\n        addLog(\"info\", \"Setting state to FAILED:\", errorMessage);\n        setState(\"failed\");\n        setError(errorMessage);\n        const manualUrl = authProviderRef.current?.getLastAttemptedAuthUrl?.();\n        if (manualUrl) {\n          setAuthUrl(manualUrl);\n          addLog(\n            \"info\",\n            \"Manual authentication URL may be available.\",\n            manualUrl\n          );\n        }\n      }\n      connectingRef.current = false;\n      if (url) {\n        Tel.getInstance().trackUseMcpConnection({\n          url,\n          transportType,\n          success: false,\n          errorType: connectionError?.name || \"UnknownError\",\n          hasOAuth: !!authProviderRef.current,\n          hasSampling: !!onSampling,\n          hasElicitation: !!onElicitation\n        }).catch(() => {\n        });\n      }\n      return false;\n    },\n    [\n      addLog,\n      url,\n      transportType,\n      onSampling,\n      onElicitation,\n      autoProxyFallbackConfig,\n      effectiveProxyConfig,\n      providedAuthProvider\n    ]\n  );\n  const connect = useCallback(async () => {\n    if (!enabled || !url) {\n      addLog(\n        \"debug\",\n        enabled ? \"No server URL provided, skipping connection.\" : \"Connection disabled via enabled flag.\"\n      );\n      return;\n    }\n    if (connectingRef.current) {\n      addLog(\"debug\", \"Connection attempt already in progress.\");\n      return;\n    }\n    if (!isMountedRef.current) {\n      addLog(\"debug\", \"Connect called after unmount, aborting.\");\n      return;\n    }\n    connectingRef.current = true;\n    connectAttemptRef.current += 1;\n    setError(void 0);\n    setAuthUrl(void 0);\n    successfulTransportRef.current = null;\n    setState(\"discovering\");\n    addLog(\n      \"info\",\n      `Connecting attempt #${connectAttemptRef.current} to ${url}...`\n    );\n    if (!authProviderRef.current) {\n      const { provider, oauthProxyUrl } = createBrowserOAuthProvider({\n        effectiveOAuthUrl,\n        storageKeyPrefix,\n        oauthClientConfig,\n        callbackUrl,\n        preventAutoAuth,\n        useRedirectFlow,\n        gatewayUrl,\n        onPopupWindow,\n        installFetchInterceptor: true\n      });\n      authProviderRef.current = provider;\n      if (oauthProxyUrl) {\n        addLog(\n          \"debug\",\n          `OAuth proxy URL derived from gateway: ${oauthProxyUrl}`\n        );\n      }\n      addLog(\n        \"debug\",\n        `BrowserOAuthClientProvider initialized with URL: ${effectiveOAuthUrl}, proxy: ${oauthProxyUrl ? \"enabled\" : \"disabled\"}, gateway: ${gatewayUrl ? \"enabled\" : \"disabled\"}`\n      );\n    }\n    if (!clientRef.current) {\n      clientRef.current = new BrowserMCPClient();\n      addLog(\"debug\", \"BrowserMCPClient initialized in connect.\");\n    } else {\n      addLog(\"debug\", \"BrowserMCPClient already exists, reusing.\");\n    }\n    const tryConnectWithTransport = /* @__PURE__ */ __name(async (transportTypeParam) => {\n      if (!isMountedRef.current) {\n        addLog(\"debug\", \"Connection attempt aborted - component unmounted\");\n        return \"failed\";\n      }\n      addLog(\n        \"info\",\n        `Attempting connection with transport: ${transportTypeParam}`\n      );\n      addLog(\n        \"debug\",\n        `Client ref status at start of tryConnectWithTransport: ${clientRef.current ? \"initialized\" : \"NULL\"}`\n      );\n      try {\n        const serverName = USE_MCP_SERVER_NAME;\n        const serverConfig = {\n          url,\n          // Use original URL, not transformed proxy URL\n          transport: transportTypeParam === \"sse\" ? \"http\" : transportTypeParam,\n          // Only disable SSE fallback when user explicitly set transportType: \"http\"\n          // Don't disable it when we're in auto mode and just trying HTTP first\n          disableSseFallback: transportType === \"http\",\n          // Use SSE transport when explicitly requested\n          preferSse: transportTypeParam === \"sse\",\n          clientInfo: mergedClientInfo,\n          // Pass custom fetch if provided (e.g., OAuth retry fetch for scope-step-up)\n          ...customFetch && { fetch: customFetch },\n          // Pass clientOptions for custom capabilities (e.g., MCP Apps extension)\n          ...clientOptions && { clientOptions }\n        };\n        if (gatewayUrl) {\n          serverConfig.gatewayUrl = gatewayUrl;\n          addLog(\n            \"debug\",\n            `Using proxy gateway: ${gatewayUrl} for target: ${url}`\n          );\n        }\n        if (allHeaders && Object.keys(allHeaders).length > 0) {\n          serverConfig.headers = allHeaders;\n        }\n        if (!clientRef.current) {\n          if (!isMountedRef.current) {\n            addLog(\n              \"debug\",\n              \"Connection aborted - component unmounted, client cleaned up\"\n            );\n            return \"failed\";\n          }\n          const initError = new Error(\n            \"Client not initialized - this is a bug in the connection flow\"\n          );\n          addLog(\n            \"error\",\n            \"Client ref is null in tryConnectWithTransport but component is still mounted\"\n          );\n          throw initError;\n        }\n        clientRef.current.addServer(serverName, {\n          ...serverConfig,\n          authProvider: authProviderRef.current,\n          onSampling,\n          onElicitation,\n          wrapTransport: wrapTransport ? (transport) => {\n            addLog(\n              \"debug\",\n              \"Applying transport wrapper for server:\",\n              serverName,\n              \"url:\",\n              url\n            );\n            return wrapTransport(transport, url);\n          } : void 0\n        });\n        const session = await clientRef.current.createSession(\n          serverName,\n          false\n        );\n        if (!isMountedRef.current) {\n          addLog(\n            \"debug\",\n            \"Connection aborted after session creation - component unmounted\"\n          );\n          return \"failed\";\n        }\n        session.on(\"notification\", (notification) => {\n          addLog(\n            \"debug\",\n            \"Notification received:\",\n            notification.method,\n            notification\n          );\n          onNotification?.(notification);\n          if (notification.method === \"notifications/tools/list_changed\") {\n            addLog(\"info\", \"Tools list changed, auto-refreshing...\");\n            refreshTools().catch((err) => {\n              addLog(\"warn\", \"Auto-refresh tools failed:\", err);\n            });\n          } else if (notification.method === \"notifications/resources/list_changed\") {\n            addLog(\"info\", \"Resources list changed, auto-refreshing...\");\n            refreshResources().catch(\n              (err) => addLog(\"warn\", \"Auto-refresh resources failed:\", err)\n            );\n          } else if (notification.method === \"notifications/prompts/list_changed\") {\n            addLog(\"info\", \"Prompts list changed, auto-refreshing...\");\n            refreshPrompts().catch(\n              (err) => addLog(\"warn\", \"Auto-refresh prompts failed:\", err)\n            );\n          }\n        });\n        await session.initialize();\n        if (!isMountedRef.current) {\n          addLog(\n            \"debug\",\n            \"Connection completed but component unmounted, aborting\"\n          );\n          return \"failed\";\n        }\n        addLog(\"info\", \"\\u2705 Successfully connected to MCP server\");\n        addLog(\"info\", \"Server info:\", session.connector.serverInfo);\n        addLog(\n          \"info\",\n          \"Server capabilities:\",\n          session.connector.serverCapabilities\n        );\n        if (!isMountedRef.current) {\n          addLog(\"debug\", \"Skipping state update - component unmounted\");\n          return \"failed\";\n        }\n        setState(\"ready\");\n        successfulTransportRef.current = transportTypeParam;\n        if (autoReconnect) {\n          const cleanup = startConnectionHealthMonitoring({\n            gatewayUrl,\n            url,\n            allHeaders,\n            getAuthHeaders: /* @__PURE__ */ __name(async () => {\n              try {\n                const tokens = await authProviderRef.current?.tokens?.();\n                if (tokens?.access_token) {\n                  const tokenType = tokens.token_type || \"bearer\";\n                  return {\n                    Authorization: `${tokenType.charAt(0).toUpperCase() + tokenType.slice(1)} ${tokens.access_token}`\n                  };\n                }\n              } catch {\n              }\n              return {};\n            }, \"getAuthHeaders\"),\n            isMountedRef,\n            stateRef,\n            autoReconnectRef,\n            setState,\n            addLog,\n            connect,\n            defaultReconnectDelay: DEFAULT_RECONNECT_DELAY\n          });\n          session._healthCheckCleanup = cleanup;\n        }\n        Tel.getInstance().trackUseMcpConnection({\n          url,\n          transportType: transportTypeParam,\n          success: true,\n          hasOAuth: !!authProviderRef.current,\n          hasSampling: !!onSampling,\n          hasElicitation: !!onElicitation\n        }).catch(() => {\n        });\n        setTools(session.connector.tools || []);\n        const resourcesResult = await session.connector.listAllResources();\n        if (!isMountedRef.current) {\n          addLog(\n            \"debug\",\n            \"Connection aborted after listing resources - component unmounted\"\n          );\n          return \"failed\";\n        }\n        setResources(resourcesResult.resources || []);\n        const promptsResult = await session.connector.listPrompts();\n        if (!isMountedRef.current) {\n          addLog(\n            \"debug\",\n            \"Connection aborted after listing prompts - component unmounted\"\n          );\n          return \"failed\";\n        }\n        setPrompts(promptsResult.prompts || []);\n        const serverInfo2 = session.connector.serverInfo;\n        const capabilities2 = session.connector.serverCapabilities;\n        if (serverInfo2) {\n          addLog(\"debug\", \"Server info:\", serverInfo2);\n          if (!isMountedRef.current) {\n            addLog(\"debug\", \"Skipping state update - component unmounted\");\n            return \"failed\";\n          }\n          setServerInfo(serverInfo2);\n          const loadIconPromise = (async () => {\n            try {\n              const serverIcons = serverInfo2.icons;\n              if (serverIcons && Array.isArray(serverIcons) && serverIcons.length > 0) {\n                const iconUrl = serverIcons[0].src || serverIcons[0].url;\n                if (iconUrl) {\n                  addLog(\"info\", \"Server provided icon:\", iconUrl);\n                  const res = await fetch(iconUrl);\n                  const blob = await res.blob();\n                  const base64 = await new Promise(\n                    (resolve, reject) => {\n                      const reader = new FileReader();\n                      reader.onloadend = () => resolve(reader.result);\n                      reader.onerror = reject;\n                      reader.readAsDataURL(blob);\n                    }\n                  );\n                  if (isMountedRef.current) {\n                    setServerInfo(\n                      (prev) => prev ? { ...prev, icon: base64 } : void 0\n                    );\n                    addLog(\"debug\", \"Server icon converted to base64\");\n                  }\n                  return base64;\n                }\n              }\n              if (url) {\n                const faviconBase64 = await detectFavicon(url);\n                if (!isMountedRef.current) {\n                  addLog(\n                    \"debug\",\n                    \"Connection aborted after favicon detection - component unmounted\"\n                  );\n                  return null;\n                }\n                if (faviconBase64) {\n                  setServerInfo(\n                    (prev) => prev ? { ...prev, icon: faviconBase64 } : void 0\n                  );\n                  addLog(\"debug\", \"Favicon detected and added to serverInfo\");\n                  return faviconBase64;\n                }\n              }\n              return null;\n            } catch (err) {\n              addLog(\"debug\", \"Icon loading failed (non-critical):\", err);\n              return null;\n            }\n          })();\n          iconLoadingPromiseRef.current = loadIconPromise;\n        }\n        if (capabilities2) {\n          addLog(\"debug\", \"Server capabilities:\", capabilities2);\n          if (!isMountedRef.current) {\n            addLog(\"debug\", \"Skipping state update - component unmounted\");\n            return \"failed\";\n          }\n          setCapabilities(capabilities2);\n        }\n        if (authProviderRef.current) {\n          const tokens = await authProviderRef.current.tokens?.();\n          if (!isMountedRef.current) {\n            addLog(\n              \"debug\",\n              \"Connection aborted after token fetch for auth tokens - component unmounted\"\n            );\n            return \"failed\";\n          }\n          if (tokens?.access_token) {\n            const expiresAt = tokens.expires_in ? Date.now() + tokens.expires_in * 1e3 : void 0;\n            if (!isMountedRef.current) {\n              addLog(\"debug\", \"Skipping state update - component unmounted\");\n              return \"failed\";\n            }\n            setAuthTokens({\n              access_token: tokens.access_token,\n              token_type: tokens.token_type || \"Bearer\",\n              expires_at: expiresAt,\n              refresh_token: tokens.refresh_token,\n              scope: tokens.scope\n            });\n          }\n        }\n        return \"success\";\n      } catch (err) {\n        const error2 = err;\n        const errorMessage = error2?.message || String(err);\n        const oauthDiscoveryFailed = isOAuthDiscoveryFailure(err);\n        const is401Error = error2.code === 401 || errorMessage.includes(\"401\") || errorMessage.includes(\"Unauthorized\");\n        if (oauthDiscoveryFailed && headers && Object.keys(headers).length > 0) {\n          failConnection(\n            \"Authentication failed (HTTP 401). Server does not support OAuth. Check your Authorization header value is correct.\"\n          );\n          return \"failed\";\n        }\n        if (oauthDiscoveryFailed && (!headers || Object.keys(headers).length === 0)) {\n          failConnection(\n            \"Authentication required (HTTP 401). Server does not support OAuth. Add an Authorization header in the Custom Headers section (e.g., Authorization: Bearer YOUR_API_KEY).\"\n          );\n          return \"failed\";\n        }\n        if (is401Error) {\n          if (oauthDiscoveryFailed) {\n            failConnection(\n              \"Authentication required (HTTP 401). Server does not support OAuth. Add an Authorization header in the Custom Headers section (e.g., Authorization: Bearer YOUR_API_KEY).\"\n            );\n            return \"failed\";\n          }\n          if (authProviderRef.current) {\n            addLog(\n              \"info\",\n              \"Authentication required. OAuth provider available.\"\n            );\n            if (preventAutoAuth) {\n              addLog(\n                \"info\",\n                \"Waiting for user to initiate authentication flow...\"\n              );\n              if (isMountedRef.current) {\n                setState(\"pending_auth\");\n                const storedAuthUrl = authProviderRef.current?.getLastAttemptedAuthUrl?.();\n                if (storedAuthUrl) {\n                  setAuthUrl(storedAuthUrl);\n                  addLog(\n                    \"info\",\n                    \"Retrieved stored auth URL for manual authentication\"\n                  );\n                }\n              }\n              connectingRef.current = false;\n              return \"auth_redirect\";\n            } else {\n              addLog(\n                \"info\",\n                \"Triggering automatic OAuth authentication flow...\"\n              );\n              try {\n                const { resourceMetadataUrl, scope } = await probeAuthParams(url);\n                const authResult = await auth(authProviderRef.current, {\n                  serverUrl: url,\n                  ...resourceMetadataUrl && { resourceMetadataUrl },\n                  ...scope && { scope }\n                });\n                if (authResult === \"REDIRECT\") {\n                  const authCode = await authProviderRef.current.getAuthorizationCode?.();\n                  if (!authCode) {\n                    throw new Error(\n                      \"Authorization code not captured by headless provider\"\n                    );\n                  }\n                  await auth(authProviderRef.current, {\n                    serverUrl: url,\n                    ...resourceMetadataUrl && { resourceMetadataUrl },\n                    ...scope && { scope },\n                    authorizationCode: authCode\n                  });\n                }\n                addLog(\"info\", \"OAuth flow completed, reconnecting...\");\n                return await tryConnectWithTransport(transportTypeParam);\n              } catch (authError) {\n                const authErrorMessage = authError instanceof Error ? authError.message : String(authError);\n                failConnection(\n                  `Automatic OAuth authentication failed: ${authErrorMessage}`,\n                  authError instanceof Error ? authError : new Error(String(authError))\n                );\n                return \"failed\";\n              }\n            }\n          }\n          if (headers && Object.keys(headers).length > 0) {\n            failConnection(\n              \"Authentication failed: Server returned 401 Unauthorized. Check your Authorization header value is correct.\"\n            );\n            return \"failed\";\n          }\n          failConnection(\n            \"Authentication required: Server returned 401 Unauthorized. Add an Authorization header in the Custom Headers section (e.g., Authorization: Bearer YOUR_API_KEY).\"\n          );\n          return \"failed\";\n        }\n        const isRetryingWithProxy = failConnection(\n          errorMessage,\n          error2 instanceof Error ? error2 : new Error(String(error2))\n        );\n        return isRetryingWithProxy ? \"auth_redirect\" : \"failed\";\n      }\n    }, \"tryConnectWithTransport\");\n    let finalStatus = \"failed\";\n    if (transportType === \"sse\") {\n      addLog(\"debug\", \"Using SSE-only transport mode\");\n      finalStatus = await tryConnectWithTransport(\"sse\");\n    } else if (transportType === \"http\") {\n      addLog(\"debug\", \"Using HTTP-only transport mode\");\n      finalStatus = await tryConnectWithTransport(\"http\");\n    } else {\n      addLog(\"debug\", \"Using auto transport mode (HTTP with SSE fallback)\");\n      const httpResult = await tryConnectWithTransport(\"http\");\n      if (httpResult === \"fallback\" && isMountedRef.current && stateRef.current !== \"authenticating\") {\n        addLog(\"info\", \"HTTP failed, attempting SSE fallback...\");\n        const sseResult = await tryConnectWithTransport(\"sse\");\n        finalStatus = sseResult;\n      } else {\n        finalStatus = httpResult;\n      }\n    }\n    if (finalStatus === \"success\" || finalStatus === \"failed\" || finalStatus === \"auth_redirect\") {\n      connectingRef.current = false;\n    }\n    addLog(\"debug\", `Connection sequence finished with status: ${finalStatus}`);\n  }, [\n    addLog,\n    failConnection,\n    disconnect,\n    url,\n    storageKeyPrefix,\n    callbackUrl,\n    oauthClientConfig.name,\n    oauthClientConfig.version,\n    oauthClientConfig.uri,\n    oauthClientConfig.logo_uri,\n    headers,\n    transportType,\n    preventAutoAuth,\n    useRedirectFlow,\n    onPopupWindow,\n    enabled,\n    timeout,\n    sseReadTimeout,\n    mergedClientInfo,\n    // IMPORTANT: Include proxy-related dependencies so connect() uses updated values after fallback\n    gatewayUrl,\n    allHeaders,\n    effectiveOAuthUrl\n  ]);\n  useEffect(() => {\n    connectRef.current = connect;\n    failConnectionRef.current = failConnection;\n  }, [connect, failConnection]);\n  const callTool = useCallback(\n    async (name, args, options2) => {\n      if (stateRef.current !== \"ready\" || !clientRef.current) {\n        throw new Error(\n          `MCP client is not ready (current state: ${state}). Cannot call tool \"${name}\".`\n        );\n      }\n      addLog(\"info\", `Calling tool: ${name}`, args);\n      const startTime = Date.now();\n      try {\n        const serverName = USE_MCP_SERVER_NAME;\n        const session = clientRef.current.getSession(serverName);\n        if (!session) {\n          throw new Error(\"No active session found\");\n        }\n        const result = await session.connector.callTool(\n          name,\n          args || {},\n          options2\n        );\n        addLog(\"info\", `Tool \"${name}\" call successful:`, result);\n        Tel.getInstance().trackUseMcpToolCall({\n          toolName: name,\n          success: true,\n          executionTimeMs: Date.now() - startTime\n        }).catch(() => {\n        });\n        return result;\n      } catch (err) {\n        addLog(\"error\", `Tool \"${name}\" call failed:`, err);\n        Tel.getInstance().trackUseMcpToolCall({\n          toolName: name,\n          success: false,\n          errorType: err instanceof Error ? err.name : \"UnknownError\",\n          executionTimeMs: Date.now() - startTime\n        }).catch(() => {\n        });\n        throw err;\n      }\n    },\n    [state]\n  );\n  const retry = useCallback(() => {\n    if (stateRef.current === \"failed\") {\n      addLog(\"info\", \"Retry requested...\");\n      connectRef.current?.();\n    } else {\n      addLog(\n        \"warn\",\n        `Retry called but state is not 'failed' (state: ${stateRef.current}). Ignoring.`\n      );\n    }\n  }, [addLog]);\n  const authenticate = useCallback(async () => {\n    addLog(\"info\", \"Manual authentication requested...\");\n    const currentState = stateRef.current;\n    if (currentState === \"failed\") {\n      addLog(\"info\", \"Attempting to reconnect and authenticate via retry...\");\n      retry();\n    } else if (currentState === \"pending_auth\") {\n      addLog(\"info\", \"Proceeding with authentication from pending state...\");\n      try {\n        assert(\n          authProviderRef.current,\n          \"Auth Provider not available for manual auth\"\n        );\n        assert(url, \"Server URL is required for authentication\");\n        if (providedAuthProvider) {\n          addLog(\n            \"info\",\n            \"Using provided authProvider for manual authentication\"\n          );\n          const baseUrl2 = new URL(url).origin;\n          await auth(authProviderRef.current, {\n            serverUrl: baseUrl2\n          });\n          connectRef.current?.();\n          return;\n        }\n        const clearedCount = authProviderRef.current.clearStorage?.() ?? 0;\n        addLog(\n          \"info\",\n          `Cleared ${clearedCount} OAuth storage item(s) for fresh authentication`\n        );\n        setState(\"authenticating\");\n        const { provider: freshAuthProvider, oauthProxyUrl } = createBrowserOAuthProvider({\n          effectiveOAuthUrl,\n          storageKeyPrefix,\n          oauthClientConfig,\n          callbackUrl,\n          preventAutoAuth: false,\n          useRedirectFlow,\n          gatewayUrl,\n          onPopupWindow,\n          installFetchInterceptor: !gatewayUrl\n        });\n        if (oauthProxyUrl && !gatewayUrl) {\n          addLog(\"info\", \"Installed OAuth fetch interceptor for manual auth\");\n        } else if (oauthProxyUrl && gatewayUrl) {\n          addLog(\n            \"info\",\n            \"Using MCP gateway proxy for OAuth (no fetch interceptor needed)\"\n          );\n        }\n        authProviderRef.current = freshAuthProvider;\n        addLog(\"info\", \"Triggering fresh OAuth authorization...\");\n        const baseUrl = new URL(url).origin;\n        try {\n          await auth(freshAuthProvider, {\n            serverUrl: baseUrl\n          });\n          addLog(\"info\", \"OAuth flow completed (tokens obtained)\");\n        } catch (err) {\n          addLog(\n            \"info\",\n            \"OAuth flow initiated (popup/redirect):\",\n            err instanceof Error ? err.message : \"Redirecting...\"\n          );\n        }\n        const newAuthUrl = freshAuthProvider.getLastAttemptedAuthUrl?.();\n        if (newAuthUrl) {\n          setAuthUrl(newAuthUrl);\n          addLog(\"info\", \"Updated auth URL for fallback:\", newAuthUrl);\n        }\n      } catch (authError) {\n        if (!isMountedRef.current) return;\n        setState(\"pending_auth\");\n        addLog(\n          \"error\",\n          `Manual authentication failed: ${authError instanceof Error ? authError.message : String(authError)}`\n        );\n      }\n    } else if (currentState === \"authenticating\") {\n      addLog(\n        \"warn\",\n        \"Already attempting authentication. Check for blocked popups or wait for timeout.\"\n      );\n      const manualUrl = authProviderRef.current?.getLastAttemptedAuthUrl?.();\n      if (manualUrl && !authUrl) {\n        setAuthUrl(manualUrl);\n        addLog(\"info\", \"Manual authentication URL retrieved:\", manualUrl);\n      }\n    } else {\n      addLog(\n        \"info\",\n        `Client not in a state requiring manual authentication trigger (state: ${currentState}). If needed, try disconnecting and reconnecting.`\n      );\n    }\n  }, [\n    addLog,\n    retry,\n    authUrl,\n    url,\n    useRedirectFlow,\n    onPopupWindow,\n    storageKeyPrefix,\n    oauthClientConfig.name,\n    oauthClientConfig.uri,\n    oauthClientConfig.logo_uri,\n    callbackUrl,\n    mergedClientInfo,\n    providedAuthProvider\n  ]);\n  const clearStorage = useCallback(() => {\n    if (authProviderRef.current?.clearStorage) {\n      const count = authProviderRef.current.clearStorage();\n      addLog(\"info\", `Cleared ${count} item(s) from localStorage for ${url}.`);\n      setAuthUrl(void 0);\n      disconnect();\n    } else {\n      addLog(\"warn\", \"Auth provider not initialized, cannot clear storage.\");\n    }\n  }, [url, addLog, disconnect]);\n  const listResources = useCallback(async () => {\n    if (stateRef.current !== \"ready\" || !clientRef.current) {\n      throw new Error(\n        `MCP client is not ready (current state: ${state}). Cannot list resources.`\n      );\n    }\n    addLog(\"info\", \"Listing resources\");\n    try {\n      const serverName = USE_MCP_SERVER_NAME;\n      const session = clientRef.current.getSession(serverName);\n      if (!session) {\n        throw new Error(\"No active session found\");\n      }\n      const resourcesResult = await session.connector.listAllResources();\n      setResources(resourcesResult.resources || []);\n      addLog(\"info\", \"Resources listed successfully\");\n    } catch (err) {\n      addLog(\"error\", \"List resources failed:\", err);\n      throw err;\n    }\n  }, [state]);\n  const readResource = useCallback(\n    async (uri) => {\n      if (stateRef.current !== \"ready\" || !clientRef.current) {\n        throw new Error(\n          `MCP client is not ready (current state: ${state}). Cannot read resource.`\n        );\n      }\n      addLog(\"info\", `Reading resource: ${uri}`);\n      try {\n        const serverName = USE_MCP_SERVER_NAME;\n        const session = clientRef.current.getSession(serverName);\n        if (!session) {\n          throw new Error(\"No active session found\");\n        }\n        const result = await session.connector.readResource(uri);\n        addLog(\"info\", \"Resource read successful:\", result);\n        Tel.getInstance().trackUseMcpResourceRead({\n          resourceUri: uri,\n          success: true\n        }).catch(() => {\n        });\n        return result;\n      } catch (err) {\n        addLog(\"error\", \"Resource read failed:\", err);\n        Tel.getInstance().trackUseMcpResourceRead({\n          resourceUri: uri,\n          success: false,\n          errorType: err instanceof Error ? err.name : \"UnknownError\"\n        }).catch(() => {\n        });\n        throw err;\n      }\n    },\n    [state]\n  );\n  const listPrompts = useCallback(async () => {\n    if (stateRef.current !== \"ready\" || !clientRef.current) {\n      throw new Error(\n        `MCP client is not ready (current state: ${state}). Cannot list prompts.`\n      );\n    }\n    addLog(\"info\", \"Listing prompts\");\n    try {\n      const serverName = USE_MCP_SERVER_NAME;\n      const session = clientRef.current.getSession(serverName);\n      if (!session) {\n        throw new Error(\"No active session found\");\n      }\n      const promptsResult = await session.connector.listPrompts();\n      setPrompts(promptsResult.prompts || []);\n      addLog(\"info\", \"Prompts listed successfully\");\n    } catch (err) {\n      addLog(\"error\", \"List prompts failed:\", err);\n      throw err;\n    }\n  }, [state]);\n  const refreshTools = useCallback(async () => {\n    if (stateRef.current !== \"ready\" || !clientRef.current) {\n      addLog(\n        \"debug\",\n        \"Cannot refresh tools - client not ready. State:\",\n        stateRef.current\n      );\n      return;\n    }\n    addLog(\"debug\", \"Refreshing tools list\");\n    try {\n      const serverName = USE_MCP_SERVER_NAME;\n      const session = clientRef.current.getSession(serverName);\n      if (!session) {\n        addLog(\"warn\", \"No active session found for tools refresh\");\n        return;\n      }\n      addLog(\"debug\", \"Calling listTools...\");\n      const toolsResult = await session.connector.listTools();\n      addLog(\"debug\", \"listTools returned:\", toolsResult?.length, \"tools\");\n      setTools(toolsResult || []);\n      addLog(\"info\", \"Tools list refreshed successfully\");\n    } catch (err) {\n      addLog(\"error\", \"Failed to refresh tools:\", err);\n    }\n  }, [addLog]);\n  const refreshResources = useCallback(async () => {\n    if (stateRef.current !== \"ready\" || !clientRef.current) {\n      addLog(\"debug\", \"Cannot refresh resources - client not ready\");\n      return;\n    }\n    addLog(\"debug\", \"Refreshing resources list\");\n    try {\n      const serverName = USE_MCP_SERVER_NAME;\n      const session = clientRef.current.getSession(serverName);\n      if (!session) {\n        addLog(\"warn\", \"No active session found for resources refresh\");\n        return;\n      }\n      const resourcesResult = await session.connector.listAllResources();\n      setResources(resourcesResult.resources || []);\n      addLog(\"info\", \"Resources list refreshed successfully\");\n    } catch (err) {\n      addLog(\"warn\", \"Failed to refresh resources:\", err);\n    }\n  }, [addLog]);\n  const refreshPrompts = useCallback(async () => {\n    if (stateRef.current !== \"ready\" || !clientRef.current) {\n      addLog(\"debug\", \"Cannot refresh prompts - client not ready\");\n      return;\n    }\n    addLog(\"debug\", \"Refreshing prompts list\");\n    try {\n      const serverName = USE_MCP_SERVER_NAME;\n      const session = clientRef.current.getSession(serverName);\n      if (!session) {\n        addLog(\"warn\", \"No active session found for prompts refresh\");\n        return;\n      }\n      const promptsResult = await session.connector.listPrompts();\n      setPrompts(promptsResult.prompts || []);\n      addLog(\"info\", \"Prompts list refreshed successfully\");\n    } catch (err) {\n      addLog(\"warn\", \"Failed to refresh prompts:\", err);\n    }\n  }, [addLog]);\n  const refreshAll = useCallback(async () => {\n    addLog(\"info\", \"Refreshing all lists (tools, resources, prompts)\");\n    await Promise.all([refreshTools(), refreshResources(), refreshPrompts()]);\n  }, [refreshTools, refreshResources, refreshPrompts, addLog]);\n  const getPrompt = useCallback(\n    async (name, args) => {\n      if (stateRef.current !== \"ready\" || !clientRef.current) {\n        throw new Error(\n          `MCP client is not ready (current state: ${state}). Cannot get prompt.`\n        );\n      }\n      addLog(\"info\", `Getting prompt: ${name}`, args);\n      try {\n        const serverName = USE_MCP_SERVER_NAME;\n        const session = clientRef.current.getSession(serverName);\n        if (!session) {\n          throw new Error(\"No active session found\");\n        }\n        const result = await session.connector.getPrompt(name, args || {});\n        addLog(\"info\", `Prompt \"${name}\" retrieved successfully:`, result);\n        return result;\n      } catch (err) {\n        addLog(\"error\", `Prompt \"${name}\" retrieval failed:`, err);\n        throw err;\n      }\n    },\n    [state]\n  );\n  useEffect(() => {\n    const messageHandler = /* @__PURE__ */ __name((event) => {\n      if (event.origin !== window.location.origin) return;\n      if (event.data?.type === \"mcp_auth_callback\") {\n        addLog(\"info\", \"Received auth callback message.\", event.data);\n        if (authTimeoutRef.current) clearTimeout(authTimeoutRef.current);\n        authTimeoutRef.current = null;\n        if (event.data.success) {\n          addLog(\n            \"info\",\n            \"Authentication successful via popup. Reconnecting client...\"\n          );\n          if (connectingRef.current) {\n            addLog(\n              \"debug\",\n              \"Connection attempt already in progress, resetting flag to allow reconnection.\"\n            );\n          }\n          connectingRef.current = false;\n          setTimeout(() => {\n            if (isMountedRef.current) {\n              addLog(\n                \"debug\",\n                \"Initiating reconnection after successful auth callback.\"\n              );\n              connectRef.current?.();\n            }\n          }, 100);\n        } else {\n          failConnectionRef.current?.(\n            `Authentication failed in callback: ${event.data.error || \"Unknown reason.\"}`\n          );\n        }\n      }\n    }, \"messageHandler\");\n    window.addEventListener(\"message\", messageHandler);\n    addLog(\"debug\", \"Auth callback message listener added.\");\n    return () => {\n      window.removeEventListener(\"message\", messageHandler);\n      addLog(\"debug\", \"Auth callback message listener removed.\");\n      if (authTimeoutRef.current) clearTimeout(authTimeoutRef.current);\n    };\n  }, [addLog]);\n  useEffect(() => {\n    hasTriedProxyFallbackRef.current = false;\n    setEffectiveProxyConfig(proxyConfig);\n  }, [url, proxyConfig]);\n  useEffect(() => {\n    isMountedRef.current = true;\n    if (!enabled || !url) {\n      addLog(\n        \"debug\",\n        enabled ? \"No server URL provided, skipping connection.\" : \"Connection disabled via enabled flag.\"\n      );\n      setState(\"discovering\");\n      return () => {\n        isMountedRef.current = false;\n      };\n    }\n    addLog(\"debug\", \"useMcp mounted, initiating connection.\");\n    connectAttemptRef.current = 0;\n    if (providedAuthProvider) {\n      authProviderRef.current = providedAuthProvider;\n      addLog(\"debug\", \"Using externally provided authProvider\");\n    } else if (!authProviderRef.current || authProviderRef.current.serverUrl !== effectiveOAuthUrl) {\n      const { provider, oauthProxyUrl } = createBrowserOAuthProvider({\n        effectiveOAuthUrl,\n        storageKeyPrefix,\n        oauthClientConfig,\n        callbackUrl,\n        preventAutoAuth,\n        useRedirectFlow,\n        gatewayUrl,\n        onPopupWindow,\n        installFetchInterceptor: true\n      });\n      authProviderRef.current = provider;\n      if (oauthProxyUrl) {\n        addLog(\n          \"debug\",\n          `OAuth proxy URL derived from gateway: ${oauthProxyUrl}`\n        );\n      }\n      addLog(\n        \"debug\",\n        `BrowserOAuthClientProvider initialized/updated with URL: ${effectiveOAuthUrl}, proxy: ${oauthProxyUrl ? \"enabled\" : \"disabled\"}, gateway: ${gatewayUrl ? \"enabled\" : \"disabled\"}`\n      );\n    }\n    connect();\n    return () => {\n      isMountedRef.current = false;\n      addLog(\"debug\", \"useMcp unmounting, disconnecting.\");\n      if ((stateRef.current === \"authenticating\" || stateRef.current === \"pending_auth\") && authProviderRef.current) {\n        try {\n          const count = authProviderRef.current.clearStorage?.() ?? 0;\n          if (count > 0) {\n            addLog(\n              \"debug\",\n              `Cleared ${count} OAuth state item(s) during unmount to prevent corruption`\n            );\n          }\n        } catch (err) {\n          addLog(\"debug\", \"Error clearing OAuth state during unmount:\", err);\n        }\n      }\n      disconnect(true);\n    };\n  }, [\n    url,\n    enabled,\n    storageKeyPrefix,\n    callbackUrl,\n    oauthClientConfig.name,\n    oauthClientConfig.version,\n    oauthClientConfig.uri,\n    oauthClientConfig.logo_uri,\n    useRedirectFlow,\n    mergedClientInfo,\n    effectiveOAuthUrl,\n    // Triggers reconnection when proxy fallback changes OAuth URL\n    proxyConfig,\n    // Triggers reconnection when proxy config (including headers) changes\n    providedAuthProvider\n  ]);\n  const retryRef = useRef(retry);\n  const addLogRef = useRef(addLog);\n  useEffect(() => {\n    retryRef.current = retry;\n    addLogRef.current = addLog;\n  }, [retry, addLog]);\n  useEffect(() => {\n    let retryTimeoutId = null;\n    if (state === \"failed\" && autoRetry && connectAttemptRef.current > 0) {\n      if (!retryScheduledRef.current) {\n        retryScheduledRef.current = true;\n        const delay = typeof autoRetry === \"number\" ? autoRetry : DEFAULT_RETRY_DELAY;\n        addLogRef.current(\n          \"info\",\n          `Connection failed, auto-retrying in ${delay}ms...`\n        );\n        retryTimeoutId = setTimeout(() => {\n          retryScheduledRef.current = false;\n          if (isMountedRef.current && stateRef.current === \"failed\") {\n            retryRef.current();\n          }\n        }, delay);\n      }\n    } else if (state !== \"failed\") {\n      retryScheduledRef.current = false;\n    }\n    return () => {\n      if (retryTimeoutId) {\n        clearTimeout(retryTimeoutId);\n        retryScheduledRef.current = false;\n      }\n    };\n  }, [state, autoRetry]);\n  const ensureIconLoaded = useCallback(async () => {\n    if (stateRef.current !== \"ready\") {\n      addLog(\"warn\", \"Cannot ensure icon loaded - not connected\");\n      return null;\n    }\n    if (serverInfo?.icon) {\n      return serverInfo.icon;\n    }\n    if (iconLoadingPromiseRef.current) {\n      addLog(\"debug\", \"Waiting for icon to finish loading...\");\n      const icon = await iconLoadingPromiseRef.current;\n      return icon;\n    }\n    addLog(\"debug\", \"No icon available and no loading in progress\");\n    return null;\n  }, [serverInfo, addLog]);\n  return {\n    state,\n    name: serverInfo?.name || url || \"\",\n    tools,\n    resources,\n    resourceTemplates,\n    prompts,\n    serverInfo,\n    capabilities,\n    error,\n    log,\n    authUrl,\n    authTokens,\n    client: clientRef.current,\n    callTool,\n    readResource,\n    listResources,\n    listPrompts,\n    getPrompt,\n    refreshTools,\n    refreshResources,\n    refreshPrompts,\n    refreshAll,\n    retry,\n    disconnect,\n    authenticate,\n    clearStorage,\n    ensureIconLoaded\n  };\n}\n__name(useMcp, \"useMcp\");\n\n// src/react/ErrorBoundary.tsx\nimport React from \"react\";\nvar logger2 = Logger.get(\"ErrorBoundary\");\nvar ErrorBoundary = class extends React.Component {\n  static {\n    __name(this, \"ErrorBoundary\");\n  }\n  constructor(props) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n  componentDidCatch(error, errorInfo) {\n    logger2.error(\"Widget Error:\", error, errorInfo);\n  }\n  render() {\n    if (this.state.hasError) {\n      return /* @__PURE__ */ React.createElement(\"div\", { className: \"p-4 border border-red-500 bg-red-50 text-red-900 rounded-md dark:bg-red-900/20 dark:text-red-100\" }, /* @__PURE__ */ React.createElement(\"h3\", { className: \"font-bold mb-2\" }, \"Widget Error\"), /* @__PURE__ */ React.createElement(\"pre\", { className: \"text-sm whitespace-pre-wrap\" }, this.state.error?.message));\n    }\n    return this.props.children;\n  }\n};\n\n// src/react/Image.tsx\nimport React2 from \"react\";\nvar Image = /* @__PURE__ */ __name(({ src, ...props }) => {\n  const publicUrl = typeof window !== \"undefined\" ? window.__mcpPublicAssetsUrl || window.__mcpPublicUrl || \"\" : \"\";\n  const getFinalSrc = /* @__PURE__ */ __name((source) => {\n    if (!source) return source;\n    if (source.startsWith(\"http://\") || source.startsWith(\"https://\") || source.startsWith(\"data:\")) {\n      return source;\n    }\n    if (!publicUrl) {\n      return source;\n    }\n    const cleanSrc = source.startsWith(\"/\") ? source.slice(1) : source;\n    return `${publicUrl}/${cleanSrc}`;\n  }, \"getFinalSrc\");\n  const finalSrc = getFinalSrc(src);\n  return /* @__PURE__ */ React2.createElement(\"img\", { src: finalSrc, ...props });\n}, \"Image\");\n\n// src/react/ThemeProvider.tsx\nimport React3, { useEffect as useEffect3, useLayoutEffect, useState as useState3 } from \"react\";\n\n// src/react/useWidget.ts\nimport {\n  useCallback as useCallback2,\n  useEffect as useEffect2,\n  useMemo as useMemo2,\n  useState as useState2,\n  useSyncExternalStore\n} from \"react\";\n\n// src/react/constants.ts\nvar WIDGET_DEFAULTS = {\n  /** Polling interval for checking window.openai availability (ms) */\n  POLL_INTERVAL: 100,\n  /** Maximum timeout for window.openai availability check (ms) */\n  MAX_TIMEOUT: 5e3,\n  /** Default maximum height for widgets */\n  MAX_HEIGHT: 600,\n  /** Default locale */\n  LOCALE: \"en\"\n};\nvar MCP_APPS_BRIDGE_CONFIG = {\n  /** Request timeout (ms) */\n  REQUEST_TIMEOUT: 3e4,\n  /** App name for identification */\n  APP_NAME: \"mcp-use-widget\",\n  /** App version */\n  APP_VERSION: \"1.0.0\",\n  /** MCP Apps protocol version */\n  PROTOCOL_VERSION: \"2025-06-18\"\n};\n\n// src/react/mcp-apps-bridge.ts\nvar McpAppsBridge = class {\n  static {\n    __name(this, \"McpAppsBridge\");\n  }\n  connected = false;\n  connectPromise = null;\n  requestId = 1;\n  pendingRequests = /* @__PURE__ */ new Map();\n  listeners = /* @__PURE__ */ new Set();\n  // State\n  toolInput = null;\n  partialToolInput = null;\n  toolOutput = null;\n  toolResponseMetadata = null;\n  hostContext = null;\n  initialized = false;\n  // Event handlers\n  toolInputHandlers = /* @__PURE__ */ new Set();\n  toolInputPartialHandlers = /* @__PURE__ */ new Set();\n  toolResultHandlers = /* @__PURE__ */ new Set();\n  hostContextHandlers = /* @__PURE__ */ new Set();\n  constructor() {\n    if (typeof window === \"undefined\") return;\n    const handleMessage = /* @__PURE__ */ __name((event) => {\n      const message = event.data;\n      if (!message || message.jsonrpc !== \"2.0\") return;\n      if (\"result\" in message || \"error\" in message) {\n        const response = message;\n        if (response.id !== null && response.id !== void 0) {\n          const pending = this.pendingRequests.get(response.id);\n          if (pending) {\n            this.pendingRequests.delete(response.id);\n            if (\"error\" in response && response.error) {\n              pending.reject(new Error(response.error.message));\n            } else {\n              pending.resolve(response.result);\n            }\n          }\n        }\n        return;\n      }\n      if (\"method\" in message && !(\"id\" in message)) {\n        this.handleNotification(message);\n      }\n    }, \"handleMessage\");\n    window.addEventListener(\"message\", handleMessage);\n    this.listeners.add(handleMessage);\n    this.interceptConsole();\n  }\n  /**\n   * Intercept console methods and proxy to MCP Apps host\n   */\n  interceptConsole() {\n    if (typeof window === \"undefined\" || typeof console === \"undefined\") return;\n    const originalConsole = {\n      log: console.log.bind(console),\n      warn: console.warn.bind(console),\n      error: console.error.bind(console),\n      info: console.info.bind(console),\n      debug: console.debug.bind(console)\n    };\n    const consoleLevelToRfc5424 = {\n      log: \"info\",\n      warn: \"warning\",\n      error: \"error\",\n      info: \"info\",\n      debug: \"debug\"\n    };\n    const serializeForPostMessage = /* @__PURE__ */ __name((value, seen = /* @__PURE__ */ new WeakSet()) => {\n      if (value === null || value === void 0) return value;\n      if (typeof value !== \"object\") return value;\n      if (seen.has(value)) return \"[Circular]\";\n      if (value instanceof Response) {\n        return {\n          __type: \"Response\",\n          status: value.status,\n          statusText: value.statusText,\n          ok: value.ok,\n          url: value.url,\n          headers: Object.fromEntries(value.headers.entries())\n        };\n      }\n      if (value instanceof Request) {\n        return {\n          __type: \"Request\",\n          method: value.method,\n          url: value.url,\n          headers: Object.fromEntries(value.headers.entries())\n        };\n      }\n      if (value instanceof Error) {\n        return {\n          __type: \"Error\",\n          name: value.name,\n          message: value.message,\n          stack: value.stack\n        };\n      }\n      if (value instanceof Event) {\n        return {\n          __type: \"Event\",\n          type: value.type,\n          target: value.target?.constructor?.name\n        };\n      }\n      if (typeof HTMLElement !== \"undefined\" && value instanceof HTMLElement) {\n        return {\n          __type: \"HTMLElement\",\n          tagName: value.tagName,\n          id: value.id,\n          className: value.className\n        };\n      }\n      if (typeof value === \"function\") {\n        return `[Function: ${value.name || \"anonymous\"}]`;\n      }\n      if (Array.isArray(value)) {\n        seen.add(value);\n        return value.map((item) => serializeForPostMessage(item, seen));\n      }\n      try {\n        seen.add(value);\n        const serialized = {};\n        for (const key in value) {\n          if (Object.prototype.hasOwnProperty.call(value, key)) {\n            try {\n              serialized[key] = serializeForPostMessage(value[key], seen);\n            } catch {\n              serialized[key] = \"[Unserializable]\";\n            }\n          }\n        }\n        return serialized;\n      } catch {\n        return \"[Object]\";\n      }\n    }, \"serializeForPostMessage\");\n    const sendLog = /* @__PURE__ */ __name((level, args) => {\n      try {\n        const serializedArgs = args.map((arg) => serializeForPostMessage(arg));\n        this.sendNotification(\"notifications/message\", {\n          level: consoleLevelToRfc5424[level] || \"info\",\n          logger: \"console\",\n          data: serializedArgs.length === 1 ? serializedArgs[0] : serializedArgs\n        });\n      } catch (error) {\n        originalConsole.warn(\n          \"[MCP Apps Bridge] Failed to forward console message:\",\n          error\n        );\n      }\n    }, \"sendLog\");\n    console.log = (...args) => {\n      sendLog(\"log\", args);\n      originalConsole.log(...args);\n    };\n    console.warn = (...args) => {\n      sendLog(\"warn\", args);\n      originalConsole.warn(...args);\n    };\n    console.error = (...args) => {\n      sendLog(\"error\", args);\n      originalConsole.error(...args);\n    };\n    console.info = (...args) => {\n      sendLog(\"info\", args);\n      originalConsole.info(...args);\n    };\n    console.debug = (...args) => {\n      sendLog(\"debug\", args);\n      originalConsole.debug(...args);\n    };\n  }\n  handleNotification(notification) {\n    console.log(\n      \"[MCP Apps Bridge] Received notification:\",\n      notification.method,\n      notification.params\n    );\n    switch (notification.method) {\n      case \"ui/notifications/tool-input\": {\n        const params = notification.params;\n        console.log(\"[MCP Apps Bridge] Tool input received:\", params.arguments);\n        this.toolInput = params.arguments;\n        this.toolInputHandlers.forEach((handler) => handler(params.arguments));\n        break;\n      }\n      case \"ui/notifications/tool-input-partial\": {\n        const params = notification.params;\n        console.log(\n          \"[MCP Apps Bridge] Partial tool input received:\",\n          params.arguments\n        );\n        this.partialToolInput = params.arguments;\n        this.toolInputPartialHandlers.forEach(\n          (handler) => handler(params.arguments)\n        );\n        break;\n      }\n      case \"ui/notifications/tool-result\": {\n        const params = notification.params;\n        const output = params.structuredContent || this.parseTextContent(params);\n        const meta = params._meta || null;\n        this.toolOutput = output;\n        this.toolResponseMetadata = meta;\n        this.partialToolInput = null;\n        this.toolResultHandlers.forEach((handler) => handler(output));\n        break;\n      }\n      case \"ui/notifications/host-context-changed\": {\n        const context = notification.params;\n        console.log(\"[MCP Apps Bridge] Host context changed:\", context);\n        this.hostContext = { ...this.hostContext, ...context };\n        console.log(\"[MCP Apps Bridge] Merged hostContext:\", this.hostContext);\n        console.log(\n          \"[MCP Apps Bridge] Calling handlers:\",\n          this.hostContextHandlers.size\n        );\n        this.hostContextHandlers.forEach(\n          (handler) => handler(this.hostContext)\n        );\n        break;\n      }\n      case \"ui/notifications/initialized\": {\n        this.initialized = true;\n        break;\n      }\n      default:\n        break;\n    }\n  }\n  parseTextContent(result) {\n    if (result.content && Array.isArray(result.content)) {\n      for (const block of result.content) {\n        if (block.type === \"text\" && block.text) {\n          try {\n            const parsed = JSON.parse(block.text);\n            if (parsed && typeof parsed === \"object\" && !Array.isArray(parsed)) {\n              return parsed;\n            }\n          } catch {\n          }\n        }\n      }\n    }\n    return {};\n  }\n  sendRequest(method, params) {\n    if (typeof window === \"undefined\" || !window.parent) {\n      return Promise.reject(new Error(\"Not in iframe context\"));\n    }\n    const id = this.requestId++;\n    const message = createRequest(\n      id,\n      method,\n      params\n    );\n    return new Promise((resolve, reject) => {\n      this.pendingRequests.set(id, { resolve, reject });\n      window.parent.postMessage(message, \"*\");\n      setTimeout(() => {\n        if (this.pendingRequests.has(id)) {\n          this.pendingRequests.delete(id);\n          reject(new Error(`Request timeout: ${method}`));\n        }\n      }, MCP_APPS_BRIDGE_CONFIG.REQUEST_TIMEOUT);\n    });\n  }\n  sendNotification(method, params) {\n    if (typeof window === \"undefined\" || !window.parent) return;\n    const message = createNotification(\n      method,\n      params\n    );\n    window.parent.postMessage(message, \"*\");\n  }\n  /**\n   * Initialize connection with MCP Apps host.\n   * Concurrent calls share the same in-flight connection attempt so that\n   * React StrictMode double-invocations and multiple useWidget() hooks\n   * only produce a single ui/initialize request.\n   */\n  async connect() {\n    if (this.connected) return;\n    if (typeof window === \"undefined\" || window === window.parent) {\n      console.log(\"[MCP Apps Bridge] Not in iframe, skipping connection\");\n      return;\n    }\n    if (!this.connectPromise) {\n      this.connectPromise = this.doConnect();\n      this.connectPromise.catch(() => {\n        this.connectPromise = null;\n      });\n    }\n    return this.connectPromise;\n  }\n  async doConnect() {\n    console.log(\"[MCP Apps Bridge] Connecting to MCP Apps host...\");\n    try {\n      const result = await this.sendRequest(\"ui/initialize\", {\n        appCapabilities: {},\n        appInfo: {\n          name: MCP_APPS_BRIDGE_CONFIG.APP_NAME,\n          version: MCP_APPS_BRIDGE_CONFIG.APP_VERSION\n        },\n        protocolVersion: MCP_APPS_BRIDGE_CONFIG.PROTOCOL_VERSION\n      });\n      console.log(\"[MCP Apps Bridge] Initialize result:\", result);\n      if (result.hostContext) {\n        this.hostContext = result.hostContext;\n        console.log(\"[MCP Apps Bridge] Host context:\", this.hostContext);\n      }\n      this.sendNotification(\"ui/notifications/initialized\", {});\n      this.connected = true;\n      console.log(\"[MCP Apps Bridge] Successfully connected\");\n    } catch (error) {\n      console.error(\"[MCP Apps Bridge] Failed to connect:\", error);\n      throw error;\n    }\n  }\n  /**\n   * Check if connected to MCP Apps host\n   */\n  isConnected() {\n    return this.connected;\n  }\n  /**\n   * Get current tool input (props)\n   */\n  getToolInput() {\n    return this.toolInput;\n  }\n  /**\n   * Get current partial/streaming tool input\n   */\n  getPartialToolInput() {\n    return this.partialToolInput;\n  }\n  /**\n   * Get current tool output (structuredContent from tool result)\n   */\n  getToolOutput() {\n    return this.toolOutput;\n  }\n  /**\n   * Get tool response metadata (_meta from tool result)\n   */\n  getToolResponseMetadata() {\n    return this.toolResponseMetadata;\n  }\n  /**\n   * Get host context\n   */\n  getHostContext() {\n    return this.hostContext;\n  }\n  /**\n   * Subscribe to tool input changes\n   */\n  onToolInput(handler) {\n    this.toolInputHandlers.add(handler);\n    return () => this.toolInputHandlers.delete(handler);\n  }\n  /**\n   * Subscribe to partial/streaming tool input changes\n   */\n  onToolInputPartial(handler) {\n    this.toolInputPartialHandlers.add(handler);\n    return () => this.toolInputPartialHandlers.delete(handler);\n  }\n  /**\n   * Subscribe to tool result changes\n   */\n  onToolResult(handler) {\n    this.toolResultHandlers.add(handler);\n    return () => this.toolResultHandlers.delete(handler);\n  }\n  /**\n   * Subscribe to host context changes\n   */\n  onHostContextChange(handler) {\n    this.hostContextHandlers.add(handler);\n    return () => this.hostContextHandlers.delete(handler);\n  }\n  /**\n   * Call a tool on the server\n   */\n  async callTool(name, args) {\n    return this.sendRequest(\"tools/call\", { name, arguments: args });\n  }\n  /**\n   * Send a message to the conversation\n   */\n  async sendMessage(content) {\n    const contentArray = Array.isArray(content) ? content : [content];\n    await this.sendRequest(\"ui/message\", {\n      role: \"user\",\n      content: contentArray\n    });\n  }\n  /**\n   * Open an external link\n   */\n  async openLink(url) {\n    await this.sendRequest(\"ui/open-link\", { url });\n  }\n  /**\n   * Request display mode change\n   */\n  async requestDisplayMode(mode) {\n    const result = await this.sendRequest(\"ui/request-display-mode\", { mode });\n    return result;\n  }\n  /**\n   * Update the host's model context (SEP-1865 ui/update-model-context).\n   * The host will include this data in the model's context on future turns.\n   * Each call overwrites the previous context.\n   */\n  async updateModelContext(params) {\n    await this.sendRequest(\"ui/update-model-context\", params);\n  }\n  /**\n   * Notify host about size changes for auto-sizing\n   * Sends ui/notifications/size-changed notification per SEP-1865\n   */\n  sendSizeChanged(params) {\n    this.sendNotification(\"ui/notifications/size-changed\", params);\n  }\n  /**\n   * Cleanup\n   */\n  disconnect() {\n    this.listeners.forEach((listener) => {\n      if (typeof window !== \"undefined\") {\n        window.removeEventListener(\"message\", listener);\n      }\n    });\n    this.listeners.clear();\n    this.pendingRequests.clear();\n    this.toolInputHandlers.clear();\n    this.toolInputPartialHandlers.clear();\n    this.toolResultHandlers.clear();\n    this.hostContextHandlers.clear();\n    this.connected = false;\n    this.connectPromise = null;\n  }\n};\nvar bridgeInstance = null;\nfunction getMcpAppsBridge() {\n  if (!bridgeInstance) {\n    bridgeInstance = new McpAppsBridge();\n  }\n  return bridgeInstance;\n}\n__name(getMcpAppsBridge, \"getMcpAppsBridge\");\n\n// src/react/widget-utils.ts\nfunction normalizeCallToolResponse(raw) {\n  if (raw && typeof raw === \"object\" && \"result\" in raw) {\n    return raw;\n  }\n  const content = raw?.content || [];\n  const structuredContent = raw?.structuredContent || {};\n  const result = content.filter((block) => block.type === \"text\" && block.text).map((block) => block.text).join(\"\\n\");\n  const isError = raw?.isError ?? false;\n  const _meta = raw?._meta;\n  return {\n    content,\n    structuredContent,\n    isError,\n    result,\n    _meta\n  };\n}\n__name(normalizeCallToolResponse, \"normalizeCallToolResponse\");\n\n// src/react/widget-types.ts\nvar SET_GLOBALS_EVENT_TYPE = \"openai:set_globals\";\n\n// src/react/useWidget.ts\nfunction useOpenAiGlobal(key) {\n  return useSyncExternalStore(\n    (onChange) => {\n      let lastValue = typeof window !== \"undefined\" && window.openai ? window.openai[key] : void 0;\n      const handleSetGlobal = /* @__PURE__ */ __name((event) => {\n        const customEvent = event;\n        const value = customEvent.detail.globals[key];\n        if (value === void 0) {\n          return;\n        }\n        if (value === lastValue) return;\n        lastValue = value;\n        onChange();\n      }, \"handleSetGlobal\");\n      if (typeof window !== \"undefined\") {\n        window.addEventListener(SET_GLOBALS_EVENT_TYPE, handleSetGlobal);\n      }\n      return () => {\n        if (typeof window !== \"undefined\") {\n          window.removeEventListener(SET_GLOBALS_EVENT_TYPE, handleSetGlobal);\n        }\n      };\n    },\n    () => typeof window !== \"undefined\" && window.openai ? window.openai[key] : void 0\n  );\n}\n__name(useOpenAiGlobal, \"useOpenAiGlobal\");\nfunction useWidget(defaultProps) {\n  const [isOpenAiAvailable, setIsOpenAiAvailable] = useState2(\n    () => typeof window !== \"undefined\" && !!window.openai\n  );\n  const [isMcpAppsConnected, setIsMcpAppsConnected] = useState2(false);\n  const [mcpAppsToolInput, setMcpAppsToolInput] = useState2(null);\n  const [mcpAppsToolOutput, setMcpAppsToolOutput] = useState2(null);\n  const [mcpAppsResponseMetadata, setMcpAppsResponseMetadata] = useState2(null);\n  const [mcpAppsPartialToolInput, setMcpAppsPartialToolInput] = useState2(null);\n  const [mcpAppsHostContext, setMcpAppsHostContext] = useState2(null);\n  useEffect2(() => {\n    if (typeof window !== \"undefined\" && window.openai) {\n      setIsOpenAiAvailable(true);\n      return;\n    }\n    const checkInterval = setInterval(() => {\n      if (typeof window !== \"undefined\" && window.openai) {\n        setIsOpenAiAvailable(true);\n        clearInterval(checkInterval);\n      }\n    }, 100);\n    const handleSetGlobals = /* @__PURE__ */ __name(() => {\n      if (typeof window !== \"undefined\" && window.openai) {\n        setIsOpenAiAvailable(true);\n        clearInterval(checkInterval);\n      }\n    }, \"handleSetGlobals\");\n    if (typeof window !== \"undefined\") {\n      window.addEventListener(SET_GLOBALS_EVENT_TYPE, handleSetGlobals);\n    }\n    const timeout = setTimeout(() => {\n      clearInterval(checkInterval);\n      if (typeof window !== \"undefined\") {\n        window.removeEventListener(SET_GLOBALS_EVENT_TYPE, handleSetGlobals);\n      }\n    }, 5e3);\n    return () => {\n      clearInterval(checkInterval);\n      clearTimeout(timeout);\n      if (typeof window !== \"undefined\") {\n        window.removeEventListener(SET_GLOBALS_EVENT_TYPE, handleSetGlobals);\n      }\n    };\n  }, []);\n  useEffect2(() => {\n    if (typeof window === \"undefined\" || window.openai || window === window.parent) {\n      return;\n    }\n    const bridge = getMcpAppsBridge();\n    bridge.connect().then(() => {\n      setIsMcpAppsConnected(true);\n      const toolInput2 = bridge.getToolInput();\n      const toolOutput2 = bridge.getToolOutput();\n      const responseMeta = bridge.getToolResponseMetadata();\n      const hostContext = bridge.getHostContext();\n      const partialToolInput2 = bridge.getPartialToolInput();\n      if (toolInput2) setMcpAppsToolInput(toolInput2);\n      if (toolOutput2) setMcpAppsToolOutput(toolOutput2);\n      if (responseMeta) setMcpAppsResponseMetadata(responseMeta);\n      if (partialToolInput2) setMcpAppsPartialToolInput(partialToolInput2);\n      if (hostContext) setMcpAppsHostContext(hostContext);\n    }).catch((error) => {\n      console.warn(\"[useWidget] Failed to connect to MCP Apps host:\", error);\n    });\n    const unsubToolInput = bridge.onToolInput((input) => {\n      setMcpAppsToolInput(input);\n    });\n    const unsubToolInputPartial = bridge.onToolInputPartial((input) => {\n      setMcpAppsPartialToolInput(input);\n    });\n    const unsubToolResult = bridge.onToolResult((result) => {\n      setMcpAppsToolOutput(result);\n      setMcpAppsResponseMetadata(bridge.getToolResponseMetadata());\n      setMcpAppsPartialToolInput(null);\n    });\n    const unsubHostContext = bridge.onHostContextChange((context) => {\n      console.log(\"[useWidget] Host context change received:\", context);\n      setMcpAppsHostContext(context);\n    });\n    return () => {\n      unsubToolInput();\n      unsubToolInputPartial();\n      unsubToolResult();\n      unsubHostContext();\n    };\n  }, []);\n  const provider = useMemo2(() => {\n    if (isOpenAiAvailable) return \"openai\";\n    if (isMcpAppsConnected) return \"mcp-apps\";\n    return \"mcp-ui\";\n  }, [isOpenAiAvailable, isMcpAppsConnected]);\n  const searchString = typeof window !== \"undefined\" ? window.location.search : \"\";\n  const urlParams = useMemo2(() => {\n    const urlParams2 = new URLSearchParams(searchString);\n    if (urlParams2.has(\"mcpUseParams\")) {\n      return JSON.parse(urlParams2.get(\"mcpUseParams\"));\n    }\n    return {\n      toolInput: {},\n      toolOutput: {},\n      toolId: \"\"\n    };\n  }, [searchString]);\n  const openaiToolInput = useOpenAiGlobal(\"toolInput\");\n  const openaiToolOutput = useOpenAiGlobal(\"toolOutput\");\n  const toolResponseMetadata = useOpenAiGlobal(\"toolResponseMetadata\");\n  const widgetState = useOpenAiGlobal(\"widgetState\");\n  const openaiTheme = useOpenAiGlobal(\"theme\");\n  const openaiDisplayMode = useOpenAiGlobal(\"displayMode\");\n  const openaiSafeArea = useOpenAiGlobal(\"safeArea\");\n  const openaiMaxHeight = useOpenAiGlobal(\"maxHeight\");\n  const openaiUserAgent = useOpenAiGlobal(\"userAgent\");\n  const openaiLocale = useOpenAiGlobal(\"locale\");\n  const toolInput = useMemo2(() => {\n    if (provider === \"openai\") return openaiToolInput;\n    if (provider === \"mcp-apps\")\n      return mcpAppsToolInput;\n    return urlParams.toolInput;\n  }, [provider, openaiToolInput, mcpAppsToolInput, urlParams.toolInput]);\n  const toolOutput = useMemo2(() => {\n    if (provider === \"openai\") {\n      const raw = openaiToolOutput;\n      if (raw && raw.structuredContent && typeof raw.structuredContent === \"object\") {\n        return raw.structuredContent;\n      }\n      return openaiToolOutput;\n    }\n    if (provider === \"mcp-apps\")\n      return mcpAppsToolOutput;\n    return urlParams.toolOutput;\n  }, [provider, openaiToolOutput, mcpAppsToolOutput, urlParams.toolOutput]);\n  const widgetProps = useMemo2(() => {\n    const ti = toolInput || {};\n    const base = defaultProps || {};\n    let structuredContent;\n    if (provider === \"openai\" && openaiToolOutput) {\n      const raw = openaiToolOutput;\n      if (raw.structuredContent && typeof raw.structuredContent === \"object\") {\n        structuredContent = raw.structuredContent;\n      } else {\n        structuredContent = raw;\n      }\n    } else if (provider === \"mcp-apps\" && mcpAppsToolOutput) {\n      structuredContent = mcpAppsToolOutput;\n    } else if (provider === \"mcp-ui\" && urlParams.toolOutput) {\n      structuredContent = urlParams.toolOutput;\n    }\n    const merged = { ...base, ...ti, ...structuredContent || {} };\n    return merged;\n  }, [\n    provider,\n    toolInput,\n    openaiToolOutput,\n    mcpAppsToolOutput,\n    urlParams.toolOutput,\n    defaultProps\n  ]);\n  const theme = useMemo2(() => {\n    if (provider === \"openai\") return openaiTheme;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext) {\n      return mcpAppsHostContext.theme;\n    }\n    return void 0;\n  }, [provider, openaiTheme, mcpAppsHostContext]);\n  const displayMode = useMemo2(() => {\n    if (provider === \"openai\") return openaiDisplayMode;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext) {\n      return mcpAppsHostContext.displayMode;\n    }\n    return void 0;\n  }, [provider, openaiDisplayMode, mcpAppsHostContext]);\n  const safeArea = useMemo2(() => {\n    if (provider === \"openai\") return openaiSafeArea;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext?.safeAreaInsets) {\n      return {\n        insets: mcpAppsHostContext.safeAreaInsets\n      };\n    }\n    return void 0;\n  }, [provider, openaiSafeArea, mcpAppsHostContext]);\n  const maxHeight = useMemo2(() => {\n    if (provider === \"openai\") return openaiMaxHeight;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext?.containerDimensions) {\n      return mcpAppsHostContext.containerDimensions.maxHeight;\n    }\n    return void 0;\n  }, [provider, openaiMaxHeight, mcpAppsHostContext]);\n  const maxWidth = useMemo2(() => {\n    if (provider === \"openai\") {\n      return void 0;\n    }\n    if (provider === \"mcp-apps\" && mcpAppsHostContext?.containerDimensions) {\n      return mcpAppsHostContext.containerDimensions.maxWidth;\n    }\n    return void 0;\n  }, [provider, mcpAppsHostContext]);\n  const userAgent = useMemo2(() => {\n    if (provider === \"openai\") return openaiUserAgent;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext) {\n      return {\n        device: {\n          type: mcpAppsHostContext.platform === \"mobile\" ? \"mobile\" : \"desktop\"\n        },\n        capabilities: {\n          hover: mcpAppsHostContext.deviceCapabilities?.hover ?? false,\n          touch: mcpAppsHostContext.deviceCapabilities?.touch ?? false\n        }\n      };\n    }\n    return void 0;\n  }, [provider, openaiUserAgent, mcpAppsHostContext]);\n  const locale = useMemo2(() => {\n    if (provider === \"openai\") return openaiLocale;\n    if (provider === \"mcp-apps\" && mcpAppsHostContext) {\n      return mcpAppsHostContext.locale;\n    }\n    return void 0;\n  }, [provider, openaiLocale, mcpAppsHostContext]);\n  const timeZone = useMemo2(() => {\n    if (provider === \"openai\") {\n      return typeof window !== \"undefined\" ? Intl.DateTimeFormat().resolvedOptions().timeZone : void 0;\n    }\n    if (provider === \"mcp-apps\" && mcpAppsHostContext) {\n      return mcpAppsHostContext.timeZone;\n    }\n    return void 0;\n  }, [provider, mcpAppsHostContext]);\n  const mcp_url = useMemo2(() => {\n    if (typeof window !== \"undefined\" && window.__mcpPublicUrl) {\n      return window.__mcpPublicUrl.replace(/\\/mcp-use\\/public$/, \"\");\n    }\n    return \"\";\n  }, []);\n  const [localWidgetState, setLocalWidgetState] = useState2(null);\n  useEffect2(() => {\n    if (widgetState !== void 0) {\n      setLocalWidgetState(widgetState);\n    }\n  }, [widgetState]);\n  const callTool = useCallback2(\n    async (name, args) => {\n      if (provider === \"mcp-apps\") {\n        const bridge = getMcpAppsBridge();\n        const raw2 = await bridge.callTool(name, args);\n        return normalizeCallToolResponse(raw2);\n      }\n      if (!window.openai?.callTool) {\n        throw new Error(\"window.openai.callTool is not available\");\n      }\n      const raw = await window.openai.callTool(name, args);\n      return normalizeCallToolResponse(raw);\n    },\n    [provider]\n  );\n  const sendFollowUpMessage = useCallback2(\n    async (prompt) => {\n      if (provider === \"mcp-apps\") {\n        const bridge = getMcpAppsBridge();\n        await bridge.sendMessage({ type: \"text\", text: prompt });\n        return;\n      }\n      if (!window.openai?.sendFollowUpMessage) {\n        throw new Error(\"window.openai.sendFollowUpMessage is not available\");\n      }\n      return window.openai.sendFollowUpMessage({ prompt });\n    },\n    [provider]\n  );\n  const openExternal = useCallback2(\n    (href) => {\n      if (provider === \"mcp-apps\") {\n        const bridge = getMcpAppsBridge();\n        bridge.openLink(href).catch((error) => {\n          console.error(\"Failed to open link:\", error);\n        });\n        return;\n      }\n      if (!window.openai?.openExternal) {\n        throw new Error(\"window.openai.openExternal is not available\");\n      }\n      window.openai.openExternal({ href });\n    },\n    [provider]\n  );\n  const requestDisplayMode = useCallback2(\n    async (mode) => {\n      if (provider === \"mcp-apps\") {\n        const bridge = getMcpAppsBridge();\n        return await bridge.requestDisplayMode(mode);\n      }\n      if (!window.openai?.requestDisplayMode) {\n        throw new Error(\"window.openai.requestDisplayMode is not available\");\n      }\n      return window.openai.requestDisplayMode({ mode });\n    },\n    [provider]\n  );\n  const setState = useCallback2(\n    async (state) => {\n      if (provider === \"mcp-apps\") {\n        const currentState2 = localWidgetState;\n        const newState2 = typeof state === \"function\" ? state(currentState2) : state;\n        setLocalWidgetState(newState2);\n        const bridge = getMcpAppsBridge();\n        bridge.updateModelContext({\n          structuredContent: newState2,\n          content: [{ type: \"text\", text: JSON.stringify(newState2) }]\n        }).catch((err) => {\n          console.warn(\"[useWidget] Failed to update model context:\", err);\n        });\n        return;\n      }\n      if (!window.openai?.setWidgetState) {\n        throw new Error(\"window.openai.setWidgetState is not available\");\n      }\n      const currentState = widgetState !== void 0 ? widgetState : localWidgetState;\n      const newState = typeof state === \"function\" ? state(currentState) : state;\n      setLocalWidgetState(newState);\n      return window.openai.setWidgetState(newState);\n    },\n    [provider, widgetState, localWidgetState]\n  );\n  const isPending = useMemo2(() => {\n    if (provider === \"openai\") {\n      return openaiToolOutput === null && toolResponseMetadata === null;\n    }\n    if (provider === \"mcp-apps\") {\n      return mcpAppsToolOutput === null;\n    }\n    if (provider === \"mcp-ui\") {\n      if (typeof window !== \"undefined\" && window !== window.parent && !urlParams.toolId) {\n        return true;\n      }\n      return toolOutput === null || toolOutput === void 0;\n    }\n    return false;\n  }, [\n    provider,\n    openaiToolOutput,\n    toolResponseMetadata,\n    mcpAppsToolOutput,\n    toolOutput,\n    urlParams.toolId\n  ]);\n  const partialToolInput = useMemo2(() => {\n    if (provider === \"mcp-apps\" && mcpAppsPartialToolInput) {\n      return mcpAppsPartialToolInput;\n    }\n    return null;\n  }, [provider, mcpAppsPartialToolInput]);\n  const isStreaming = useMemo2(() => {\n    if (provider === \"mcp-apps\") {\n      return mcpAppsPartialToolInput !== null;\n    }\n    return false;\n  }, [provider, mcpAppsPartialToolInput]);\n  return {\n    // Props and state (with defaults)\n    props: widgetProps,\n    toolInput: toolInput || {},\n    output: toolOutput ?? null,\n    metadata: provider === \"mcp-apps\" ? mcpAppsResponseMetadata ?? null : toolResponseMetadata ?? null,\n    state: localWidgetState,\n    setState,\n    // Layout and theme (with safe defaults)\n    theme: theme || \"light\",\n    displayMode: displayMode || \"inline\",\n    safeArea: safeArea || { insets: { top: 0, bottom: 0, left: 0, right: 0 } },\n    maxHeight: maxHeight || 600,\n    maxWidth,\n    userAgent: userAgent || {\n      device: { type: \"desktop\" },\n      capabilities: { hover: true, touch: false }\n    },\n    locale: locale || WIDGET_DEFAULTS.LOCALE,\n    timeZone: timeZone || (typeof window !== \"undefined\" ? Intl.DateTimeFormat().resolvedOptions().timeZone : \"UTC\"),\n    mcp_url,\n    // Actions\n    callTool,\n    sendFollowUpMessage,\n    openExternal,\n    requestDisplayMode,\n    // Availability\n    isAvailable: isOpenAiAvailable || isMcpAppsConnected,\n    isPending,\n    // Streaming\n    partialToolInput,\n    isStreaming\n  };\n}\n__name(useWidget, \"useWidget\");\nfunction useWidgetProps(defaultProps) {\n  const { props } = useWidget(defaultProps);\n  return props;\n}\n__name(useWidgetProps, \"useWidgetProps\");\nfunction useWidgetTheme() {\n  const { theme } = useWidget();\n  return theme;\n}\n__name(useWidgetTheme, \"useWidgetTheme\");\nfunction useWidgetState(defaultState) {\n  const { state, setState } = useWidget();\n  useEffect2(() => {\n    if (state === null && defaultState !== void 0 && window.openai?.setWidgetState) {\n      setState(defaultState);\n    }\n  }, []);\n  return [state, setState];\n}\n__name(useWidgetState, \"useWidgetState\");\n\n// src/react/ThemeProvider.tsx\nvar ThemeProvider = /* @__PURE__ */ __name(({\n  children\n}) => {\n  const { theme, isAvailable } = useWidget();\n  const [systemPreference, setSystemPreference] = useState3(\n    () => {\n      if (typeof window === \"undefined\") return \"light\";\n      return window.matchMedia(\"(prefers-color-scheme: dark)\").matches ? \"dark\" : \"light\";\n    }\n  );\n  useEffect3(() => {\n    if (typeof window === \"undefined\") return;\n    const mediaQuery = window.matchMedia(\"(prefers-color-scheme: dark)\");\n    const handleChange = /* @__PURE__ */ __name((e) => {\n      setSystemPreference(e.matches ? \"dark\" : \"light\");\n    }, \"handleChange\");\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => mediaQuery.removeEventListener(\"change\", handleChange);\n  }, []);\n  const effectiveTheme = isAvailable ? theme : systemPreference;\n  useLayoutEffect(() => {\n    if (typeof document === \"undefined\") return;\n    const root = document.documentElement;\n    root.classList.remove(\"light\", \"dark\");\n    root.classList.add(effectiveTheme === \"dark\" ? \"dark\" : \"light\");\n    root.setAttribute(\n      \"data-theme\",\n      effectiveTheme === \"dark\" ? \"dark\" : \"light\"\n    );\n    root.style.colorScheme = effectiveTheme === \"dark\" ? \"dark\" : \"light\";\n  }, [effectiveTheme]);\n  return /* @__PURE__ */ React3.createElement(React3.Fragment, null, children);\n}, \"ThemeProvider\");\n\n// src/react/WidgetControls.tsx\nimport React4, { useEffect as useEffect4, useRef as useRef2, useState as useState4 } from \"react\";\nfunction WidgetControls({\n  children,\n  className = \"\",\n  position = \"top-right\",\n  attachTo,\n  showLabels = true,\n  debugger: enableDebugger = false,\n  viewControls = false\n}) {\n  const {\n    props,\n    output,\n    metadata,\n    state,\n    theme,\n    displayMode,\n    safeArea,\n    maxHeight,\n    userAgent,\n    locale,\n    isAvailable,\n    callTool,\n    sendFollowUpMessage,\n    openExternal,\n    requestDisplayMode,\n    setState\n  } = useWidget();\n  const [isHovered, setIsHovered] = useState4(false);\n  const [isOverlayOpen, setIsOverlayOpen] = useState4(false);\n  const containerRef = useRef2(null);\n  const overlayRef = useRef2(null);\n  const [windowOpenAiKeys, setWindowOpenAiKeys] = useState4([]);\n  const [actionResult, setActionResult] = useState4(\"\");\n  const [toolName, setToolName] = useState4(\"get-my-city\");\n  const [toolArgs, setToolArgs] = useState4(\"{}\");\n  const [followUpMessage, setFollowUpMessage] = useState4(\n    \"Test follow-up message\"\n  );\n  const [externalUrl, setExternalUrl] = useState4(\n    \"https://mcp-use.com/docs\"\n  );\n  const isFullscreen = displayMode === \"fullscreen\" && isAvailable;\n  const isPip = displayMode === \"pip\" && isAvailable;\n  const isInInspector = typeof window !== \"undefined\" && window.location.pathname.includes(\"/inspector/api/\");\n  useEffect4(() => {\n    const timeoutId = setTimeout(() => {\n      if (typeof window !== \"undefined\" && window.openai) {\n        try {\n          const keys = Object.keys(window.openai);\n          setWindowOpenAiKeys(keys);\n        } catch (e) {\n          setWindowOpenAiKeys([]);\n        }\n      } else {\n        setWindowOpenAiKeys([]);\n      }\n    }, 100);\n    return () => {\n      clearTimeout(timeoutId);\n    };\n  }, []);\n  const isDark = theme === \"dark\";\n  const getPositionClasses = /* @__PURE__ */ __name(() => {\n    const baseClasses = [\n      \"absolute\",\n      \"z-[1000]\",\n      \"flex\",\n      \"gap-2\",\n      \"transition-opacity\",\n      \"duration-200\",\n      \"ease-in-out\",\n      isHovered ? \"opacity-100\" : \"opacity-0\",\n      isHovered ? \"pointer-events-auto\" : \"pointer-events-none\"\n    ];\n    switch (position) {\n      case \"top-left\":\n        return [...baseClasses, \"top-4\", \"left-4\"];\n      case \"top-center\":\n        return [...baseClasses, \"top-4\", \"left-1/2\", \"-translate-x-1/2\"];\n      case \"top-right\":\n        return [...baseClasses, \"top-4\", \"right-4\"];\n      case \"center-left\":\n        return [...baseClasses, \"top-1/2\", \"left-4\", \"-translate-y-1/2\"];\n      case \"center-right\":\n        return [...baseClasses, \"top-1/2\", \"right-4\", \"-translate-y-1/2\"];\n      case \"bottom-left\":\n        return [...baseClasses, \"bottom-4\", \"left-4\"];\n      case \"bottom-center\":\n        return [...baseClasses, \"bottom-4\", \"left-1/2\", \"-translate-x-1/2\"];\n      case \"bottom-right\":\n        return [...baseClasses, \"bottom-4\", \"right-4\"];\n      default:\n        return [...baseClasses, \"top-4\", \"right-4\"];\n    }\n  }, \"getPositionClasses\");\n  const getPositionOffsetStyles = /* @__PURE__ */ __name(() => {\n    const baseOffset = 16;\n    const topOffset = safeArea?.insets?.top ? Math.max(baseOffset, safeArea.insets.top + 8) : baseOffset;\n    const rightOffset = safeArea?.insets?.right ? Math.max(baseOffset, safeArea.insets.right + 8) : baseOffset;\n    const bottomOffset = safeArea?.insets?.bottom ? Math.max(baseOffset, safeArea.insets.bottom + 8) : baseOffset;\n    const leftOffset = safeArea?.insets?.left ? Math.max(baseOffset, safeArea.insets.left + 8) : baseOffset;\n    const styles = {};\n    switch (position) {\n      case \"top-left\":\n        styles.top = `${topOffset}px`;\n        styles.left = `${leftOffset}px`;\n        break;\n      case \"top-center\":\n        styles.top = `${topOffset}px`;\n        break;\n      case \"top-right\":\n        styles.top = `${topOffset}px`;\n        styles.right = `${rightOffset}px`;\n        break;\n      case \"center-left\":\n        styles.left = `${leftOffset}px`;\n        break;\n      case \"center-right\":\n        styles.right = `${rightOffset}px`;\n        break;\n      case \"bottom-left\":\n        styles.bottom = `${bottomOffset}px`;\n        styles.left = `${leftOffset}px`;\n        break;\n      case \"bottom-center\":\n        styles.bottom = `${bottomOffset}px`;\n        break;\n      case \"bottom-right\":\n        styles.bottom = `${bottomOffset}px`;\n        styles.right = `${rightOffset}px`;\n        break;\n      default:\n        styles.top = `${topOffset}px`;\n        styles.right = `${rightOffset}px`;\n        break;\n    }\n    return styles;\n  }, \"getPositionOffsetStyles\");\n  useEffect4(() => {\n    if (!attachTo) return;\n    const handleMouseEnter = /* @__PURE__ */ __name(() => setIsHovered(true), \"handleMouseEnter\");\n    const handleMouseLeave = /* @__PURE__ */ __name(() => setIsHovered(false), \"handleMouseLeave\");\n    attachTo.addEventListener(\"mouseenter\", handleMouseEnter);\n    attachTo.addEventListener(\"mouseleave\", handleMouseLeave);\n    return () => {\n      attachTo.removeEventListener(\"mouseenter\", handleMouseEnter);\n      attachTo.removeEventListener(\"mouseleave\", handleMouseLeave);\n    };\n  }, [attachTo]);\n  useEffect4(() => {\n    if (!isOverlayOpen) return;\n    const handleClickOutside = /* @__PURE__ */ __name((event) => {\n      if (overlayRef.current && !overlayRef.current.contains(event.target)) {\n        setIsOverlayOpen(false);\n      }\n    }, \"handleClickOutside\");\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [isOverlayOpen]);\n  useEffect4(() => {\n    if (isOverlayOpen) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [isOverlayOpen]);\n  const handleToggleOverlay = /* @__PURE__ */ __name(() => {\n    setIsOverlayOpen(!isOverlayOpen);\n  }, \"handleToggleOverlay\");\n  const handleCallTool = /* @__PURE__ */ __name(async () => {\n    try {\n      setActionResult(\"Calling tool...\");\n      const args = toolArgs.trim() ? JSON.parse(toolArgs) : {};\n      const result = await callTool(toolName, args);\n      setActionResult(`Success: ${JSON.stringify(result, null, 2)}`);\n    } catch (error) {\n      const err = error;\n      setActionResult(`Error: ${err.message}`);\n    }\n  }, \"handleCallTool\");\n  const handleSendFollowUpMessage = /* @__PURE__ */ __name(async () => {\n    try {\n      setActionResult(\"Sending follow-up message...\");\n      await sendFollowUpMessage(followUpMessage);\n      setActionResult(\"Follow-up message sent successfully\");\n    } catch (error) {\n      const err = error;\n      setActionResult(`Error: ${err.message}`);\n    }\n  }, \"handleSendFollowUpMessage\");\n  const handleOpenExternal = /* @__PURE__ */ __name(() => {\n    try {\n      openExternal(externalUrl);\n      setActionResult(`Opened external link: ${externalUrl}`);\n    } catch (error) {\n      const err = error;\n      setActionResult(`Error: ${err.message}`);\n    }\n  }, \"handleOpenExternal\");\n  const handleRequestDisplayMode = /* @__PURE__ */ __name(async (mode) => {\n    try {\n      setActionResult(`Requesting display mode: ${mode}...`);\n      const result = await requestDisplayMode(mode);\n      setActionResult(`Display mode granted: ${result.mode}`);\n    } catch (error) {\n      const err = error;\n      setActionResult(`Error: ${err.message}`);\n    }\n  }, \"handleRequestDisplayMode\");\n  const handleSetState = /* @__PURE__ */ __name(async () => {\n    try {\n      const newState = state ? { ...state, debugTimestamp: (/* @__PURE__ */ new Date()).toISOString() } : { debugTimestamp: (/* @__PURE__ */ new Date()).toISOString() };\n      setActionResult(\"Setting state...\");\n      await setState(newState);\n      setActionResult(`State updated: ${JSON.stringify(newState, null, 2)}`);\n    } catch (error) {\n      const err = error;\n      setActionResult(`Error: ${err.message}`);\n    }\n  }, \"handleSetState\");\n  const handleFullscreen = /* @__PURE__ */ __name(async () => {\n    try {\n      await requestDisplayMode(\"fullscreen\");\n    } catch (error) {\n      console.error(\"Failed to go fullscreen:\", error);\n    }\n  }, \"handleFullscreen\");\n  const handlePip = /* @__PURE__ */ __name(async () => {\n    try {\n      await requestDisplayMode(\"pip\");\n    } catch (error) {\n      console.error(\"Failed to go pip:\", error);\n    }\n  }, \"handlePip\");\n  const getTooltipClasses = /* @__PURE__ */ __name(() => {\n    const baseClasses = [\n      \"absolute\",\n      \"px-2\",\n      \"py-1\",\n      \"bg-black/90\",\n      \"text-white\",\n      \"rounded\",\n      \"text-xs\",\n      \"whitespace-nowrap\",\n      \"pointer-events-none\",\n      \"transition-opacity\",\n      \"duration-200\",\n      \"ease-in-out\"\n    ];\n    switch (position) {\n      case \"top-right\":\n        return [...baseClasses, \"top-full\", \"right-0\", \"mt-2\"];\n      case \"top-left\":\n        return [...baseClasses, \"top-full\", \"left-0\", \"mt-2\"];\n      case \"top-center\":\n        return [\n          ...baseClasses,\n          \"top-full\",\n          \"left-1/2\",\n          \"-translate-x-1/2\",\n          \"mt-2\"\n        ];\n      case \"bottom-right\":\n        return [...baseClasses, \"bottom-full\", \"right-0\", \"mb-2\"];\n      case \"bottom-left\":\n        return [...baseClasses, \"bottom-full\", \"left-0\", \"mb-2\"];\n      case \"bottom-center\":\n        return [\n          ...baseClasses,\n          \"bottom-full\",\n          \"left-1/2\",\n          \"-translate-x-1/2\",\n          \"mb-2\"\n        ];\n      case \"center-left\":\n        return [\n          ...baseClasses,\n          \"left-full\",\n          \"top-1/2\",\n          \"-translate-y-1/2\",\n          \"ml-2\"\n        ];\n      case \"center-right\":\n        return [\n          ...baseClasses,\n          \"right-full\",\n          \"top-1/2\",\n          \"-translate-y-1/2\",\n          \"mr-2\"\n        ];\n      default:\n        return [...baseClasses, \"top-full\", \"right-0\", \"mt-2\"];\n    }\n  }, \"getTooltipClasses\");\n  const IconButton = /* @__PURE__ */ __name(({\n    onClick,\n    label,\n    children: icon\n  }) => {\n    const [isButtonHovered, setIsButtonHovered] = useState4(false);\n    const tooltipClasses = getTooltipClasses();\n    return /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        className: `p-2 ${isDark ? \"bg-white/10 hover:bg-white/20\" : \"bg-black/70 hover:bg-black/90\"} text-white border-none rounded-lg cursor-pointer flex items-center justify-center w-8 h-8 transition-colors duration-200 backdrop-blur-md ${isDark ? \"shadow-[0_2px_8px_rgba(0,0,0,0.3)]\" : \"shadow-[0_2px_8px_rgba(0,0,0,0.2)]\"} relative`,\n        onMouseEnter: () => setIsButtonHovered(true),\n        onMouseLeave: () => setIsButtonHovered(false),\n        onClick,\n        \"aria-label\": label\n      },\n      /* @__PURE__ */ React4.createElement(\n        \"svg\",\n        {\n          xmlns: \"http://www.w3.org/2000/svg\",\n          width: \"16\",\n          height: \"16\",\n          viewBox: \"0 0 24 24\",\n          fill: \"none\",\n          stroke: \"currentColor\",\n          strokeWidth: \"2\",\n          strokeLinecap: \"round\",\n          strokeLinejoin: \"round\",\n          className: \"block\"\n        },\n        icon\n      ),\n      showLabels && /* @__PURE__ */ React4.createElement(\n        \"span\",\n        {\n          className: `${tooltipClasses.join(\" \")} ${isButtonHovered ? \"opacity-100\" : \"opacity-0\"}`\n        },\n        label\n      )\n    );\n  }, \"IconButton\");\n  const formatValue = /* @__PURE__ */ __name((value) => {\n    if (value === null) return \"null\";\n    if (value === void 0) return \"undefined\";\n    if (typeof value === \"object\") {\n      try {\n        return JSON.stringify(value, null, 2);\n      } catch {\n        return String(value);\n      }\n    }\n    return String(value);\n  }, \"formatValue\");\n  const formatUserAgent = /* @__PURE__ */ __name((ua) => {\n    if (!ua) return \"N/A\";\n    return `${ua.device?.type || \"unknown\"}`;\n  }, \"formatUserAgent\");\n  const formatSafeArea = /* @__PURE__ */ __name((sa) => {\n    if (!sa?.insets) return \"N/A\";\n    const { top, bottom, left, right } = sa.insets;\n    return `T:${top} B:${bottom} L:${left} R:${right}`;\n  }, \"formatSafeArea\");\n  return /* @__PURE__ */ React4.createElement(React4.Fragment, null, /* @__PURE__ */ React4.createElement(\n    \"div\",\n    {\n      ref: containerRef,\n      className: `${className} relative h-fit`,\n      onMouseEnter: () => !attachTo && setIsHovered(true),\n      onMouseLeave: () => !attachTo && setIsHovered(false)\n    },\n    /* @__PURE__ */ React4.createElement(\n      \"div\",\n      {\n        className: getPositionClasses().join(\" \"),\n        style: getPositionOffsetStyles()\n      },\n      !isInInspector && /* @__PURE__ */ React4.createElement(React4.Fragment, null, !isFullscreen && !isPip && /* @__PURE__ */ React4.createElement(React4.Fragment, null, (viewControls === true || viewControls === \"fullscreen\") && /* @__PURE__ */ React4.createElement(IconButton, { onClick: handleFullscreen, label: \"Fullscreen\" }, /* @__PURE__ */ React4.createElement(\"path\", { d: \"M15 3h6v6\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"m21 3-7 7\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"m3 21 7-7\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M9 21H3v-6\" })), (viewControls === true || viewControls === \"pip\") && /* @__PURE__ */ React4.createElement(IconButton, { onClick: handlePip, label: \"Picture in Picture\" }, /* @__PURE__ */ React4.createElement(\"path\", { d: \"M21 9V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v10c0 1.1.9 2 2 2h4\" }), /* @__PURE__ */ React4.createElement(\"rect\", { width: \"10\", height: \"7\", x: \"12\", y: \"13\", rx: \"2\" }))), enableDebugger && /* @__PURE__ */ React4.createElement(IconButton, { onClick: handleToggleOverlay, label: \"Debug Info\" }, /* @__PURE__ */ React4.createElement(\"path\", { d: \"M12 20v-9\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M14.12 3.88 16 2\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M21 21a4 4 0 0 0-3.81-4\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M21 5a4 4 0 0 1-3.55 3.97\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M22 13h-4\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M3 21a4 4 0 0 1 3.81-4\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M3 5a4 4 0 0 0 3.55 3.97\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M6 13H2\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"m8 2 1.88 1.88\" }), /* @__PURE__ */ React4.createElement(\"path\", { d: \"M9 7.13V6a3 3 0 1 1 6 0v1.13\" })))\n    ),\n    children\n  ), isOverlayOpen && enableDebugger && /* @__PURE__ */ React4.createElement(\n    \"div\",\n    {\n      ref: overlayRef,\n      className: \"fixed inset-0 bg-black text-white font-mono text-xs z-[10000] overflow-auto p-4\",\n      onClick: (e) => {\n        if (e.target === overlayRef.current) {\n          setIsOverlayOpen(false);\n        }\n      }\n    },\n    /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: () => setIsOverlayOpen(false),\n        className: \"absolute top-4 right-4 bg-white/10 text-white border-none rounded w-8 h-8 cursor-pointer flex items-center justify-center text-lg leading-none\",\n        \"aria-label\": \"Close\"\n      },\n      \"\\xD7\"\n    ),\n    /* @__PURE__ */ React4.createElement(\"div\", { className: \"max-w-[1200px] mx-auto pt-10\" }, /* @__PURE__ */ React4.createElement(\"h1\", { className: \"text-lg font-bold mb-4 border-b border-gray-700 pb-2\" }, \"Debug Info\"), /* @__PURE__ */ React4.createElement(\"table\", { className: \"w-full border-collapse border-spacing-0\" }, /* @__PURE__ */ React4.createElement(\"tbody\", null, /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Props\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 whitespace-pre-wrap break-all\" }, formatValue(props))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Output\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 whitespace-pre-wrap break-all\" }, formatValue(output))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Metadata\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 whitespace-pre-wrap break-all\" }, formatValue(metadata))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"State\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 whitespace-pre-wrap break-all\" }, formatValue(state))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Theme\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, theme)), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Display Mode\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, displayMode)), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Locale\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, locale)), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Max Height\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, maxHeight, \"px\")), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"User Agent\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, formatUserAgent(userAgent))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"Safe Area\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, formatSafeArea(safeArea))), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"API Available\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, isAvailable ? \"Yes\" : \"No\")), /* @__PURE__ */ React4.createElement(\"tr\", { className: \"border-b border-gray-700\" }, /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2 font-bold w-[200px] align-top\" }, \"window.openai Keys\"), /* @__PURE__ */ React4.createElement(\"td\", { className: \"p-2\" }, windowOpenAiKeys.length > 0 ? windowOpenAiKeys.join(\", \") : \"N/A\")))), /* @__PURE__ */ React4.createElement(\"h2\", { className: \"text-base font-bold mt-8 mb-4 border-b border-gray-700 pb-2\" }, \"Actions\"), /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex flex-col gap-3\" }, /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex gap-2 items-center\" }, /* @__PURE__ */ React4.createElement(\n      \"input\",\n      {\n        type: \"text\",\n        value: toolName,\n        onChange: (e) => setToolName(e.target.value),\n        placeholder: \"Tool name\",\n        className: \"py-1.5 px-2 bg-[#1a1a1a] text-white border border-gray-700 rounded font-mono text-xs w-[150px]\"\n      }\n    ), /* @__PURE__ */ React4.createElement(\n      \"input\",\n      {\n        type: \"text\",\n        value: toolArgs,\n        onChange: (e) => setToolArgs(e.target.value),\n        placeholder: '{\"key\": \"value\"}',\n        className: \"py-1.5 px-2 bg-[#1a1a1a] text-white border border-gray-700 rounded font-mono text-xs flex-1\"\n      }\n    ), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: handleCallTool,\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs\"\n      },\n      \"Call Tool\"\n    )), /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex gap-2 items-center\" }, /* @__PURE__ */ React4.createElement(\n      \"input\",\n      {\n        type: \"text\",\n        value: followUpMessage,\n        onChange: (e) => setFollowUpMessage(e.target.value),\n        placeholder: \"Follow-up message\",\n        className: \"py-1.5 px-2 bg-[#1a1a1a] text-white border border-gray-700 rounded font-mono text-xs flex-1\"\n      }\n    ), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: handleSendFollowUpMessage,\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs\"\n      },\n      \"Send Follow-Up\"\n    )), /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex gap-2 items-center\" }, /* @__PURE__ */ React4.createElement(\n      \"input\",\n      {\n        type: \"text\",\n        value: externalUrl,\n        onChange: (e) => setExternalUrl(e.target.value),\n        placeholder: \"External URL\",\n        className: \"py-1.5 px-2 bg-[#1a1a1a] text-white border border-gray-700 rounded font-mono text-xs flex-1\"\n      }\n    ), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: handleOpenExternal,\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs\"\n      },\n      \"Open Link\"\n    )), /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex gap-2 items-center\" }, /* @__PURE__ */ React4.createElement(\"span\", { className: \"w-[150px] text-xs\" }, \"Display Mode:\"), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: () => handleRequestDisplayMode(\"inline\"),\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs flex-1\"\n      },\n      \"Inline\"\n    ), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: () => handleRequestDisplayMode(\"pip\"),\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs flex-1\"\n      },\n      \"PiP\"\n    ), /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: () => handleRequestDisplayMode(\"fullscreen\"),\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs flex-1\"\n      },\n      \"Fullscreen\"\n    )), /* @__PURE__ */ React4.createElement(\"div\", { className: \"flex gap-2 items-center\" }, /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: handleSetState,\n        className: \"py-1.5 px-3 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-xs\"\n      },\n      \"Set State (Add Timestamp)\"\n    )), actionResult && /* @__PURE__ */ React4.createElement(\"div\", { className: \"mt-2 p-2 bg-[#1a1a1a] border border-gray-700 rounded whitespace-pre-wrap break-all text-[11px] max-h-[200px] overflow-auto\" }, /* @__PURE__ */ React4.createElement(\"div\", { className: \"font-bold mb-1 text-gray-400\" }, \"Result:\"), actionResult, /* @__PURE__ */ React4.createElement(\n      \"button\",\n      {\n        onClick: () => setActionResult(\"\"),\n        className: \"mt-2 py-1 px-2 bg-gray-800 text-white border border-gray-600 rounded cursor-pointer font-mono text-[11px]\"\n      },\n      \"Clear\"\n    ))))\n  ));\n}\n__name(WidgetControls, \"WidgetControls\");\n\n// src/react/McpUseProvider.tsx\nimport React5, {\n  StrictMode,\n  useCallback as useCallback3,\n  useEffect as useEffect5,\n  useRef as useRef3,\n  useState as useState5\n} from \"react\";\nvar HEIGHT_DEBOUNCE_MS = 150;\nvar MIN_HEIGHT_CHANGE_PX = 5;\nfunction McpUseProvider({\n  children,\n  debugger: enableDebugger = false,\n  viewControls = false,\n  autoSize = true\n}) {\n  const [containerElement, setContainerElement] = useState5(null);\n  const lastHeightRef = useRef3(0);\n  const debounceTimeoutRef = useRef3(null);\n  const notificationInProgressRef = useRef3(false);\n  const notifyHeight = useCallback3((height) => {\n    if (typeof window === \"undefined\") return;\n    notificationInProgressRef.current = true;\n    if (window.openai?.notifyIntrinsicHeight) {\n      window.openai.notifyIntrinsicHeight(height).then(() => {\n        notificationInProgressRef.current = false;\n      }).catch((error) => {\n        notificationInProgressRef.current = false;\n        console.error(\n          \"[McpUseProvider] Failed to notify intrinsic height (ChatGPT):\",\n          error\n        );\n      });\n      return;\n    }\n    try {\n      const bridge = getMcpAppsBridge();\n      bridge.sendSizeChanged({ height });\n      console.log(\"[McpUseProvider] Sent size-changed notification:\", height);\n      notificationInProgressRef.current = false;\n    } catch (error) {\n      notificationInProgressRef.current = false;\n      console.error(\n        \"[McpUseProvider] Failed to notify size change (MCP Apps):\",\n        error\n      );\n    }\n  }, []);\n  const debouncedNotifyHeight = useCallback3(\n    (height) => {\n      if (debounceTimeoutRef.current) {\n        clearTimeout(debounceTimeoutRef.current);\n      }\n      debounceTimeoutRef.current = setTimeout(() => {\n        const heightDiff = Math.abs(height - lastHeightRef.current);\n        if (heightDiff >= MIN_HEIGHT_CHANGE_PX && height > 0) {\n          lastHeightRef.current = height;\n          notifyHeight(height);\n        }\n      }, HEIGHT_DEBOUNCE_MS);\n    },\n    [notifyHeight]\n  );\n  useEffect5(() => {\n    if (!autoSize) {\n      console.log(\"[McpUseProvider] autoSize is disabled\");\n      return;\n    }\n    if (!containerElement) {\n      console.log(\"[McpUseProvider] No container element found for autoSize\");\n      return;\n    }\n    if (typeof ResizeObserver === \"undefined\") {\n      console.log(\"[McpUseProvider] ResizeObserver not available\");\n      return;\n    }\n    console.log(\"[McpUseProvider] Setting up ResizeObserver for autoSize\");\n    const observer = new ResizeObserver((entries) => {\n      if (notificationInProgressRef.current) {\n        console.log(\n          \"[McpUseProvider] Skipping resize - notification in progress\"\n        );\n        return;\n      }\n      for (const entry of entries) {\n        const height = entry.contentRect.height;\n        const scrollHeight = entry.target.scrollHeight;\n        const intrinsicHeight = Math.max(height, scrollHeight);\n        console.log(\"[McpUseProvider] ResizeObserver fired:\", {\n          height,\n          scrollHeight,\n          intrinsicHeight\n        });\n        debouncedNotifyHeight(intrinsicHeight);\n      }\n    });\n    observer.observe(containerElement);\n    const initialHeight = Math.max(\n      containerElement.offsetHeight,\n      containerElement.scrollHeight\n    );\n    console.log(\"[McpUseProvider] Initial height measurement:\", initialHeight);\n    if (initialHeight > 0) {\n      debouncedNotifyHeight(initialHeight);\n    }\n    return () => {\n      console.log(\"[McpUseProvider] Cleaning up ResizeObserver\");\n      observer.disconnect();\n      if (debounceTimeoutRef.current) {\n        clearTimeout(debounceTimeoutRef.current);\n        debounceTimeoutRef.current = null;\n      }\n      notificationInProgressRef.current = false;\n    };\n  }, [autoSize, containerElement, debouncedNotifyHeight]);\n  let content = children;\n  content = /* @__PURE__ */ React5.createElement(ErrorBoundary, null, content);\n  if (enableDebugger || viewControls) {\n    content = /* @__PURE__ */ React5.createElement(WidgetControls, { debugger: enableDebugger, viewControls }, content);\n  }\n  content = /* @__PURE__ */ React5.createElement(ThemeProvider, null, content);\n  if (autoSize) {\n    const containerStyle = {\n      width: \"100%\",\n      minHeight: 0\n    };\n    content = /* @__PURE__ */ React5.createElement(\"div\", { ref: setContainerElement, style: containerStyle }, content);\n  }\n  return /* @__PURE__ */ React5.createElement(StrictMode, null, content);\n}\n__name(McpUseProvider, \"McpUseProvider\");\n\n// src/react/useCallTool.ts\nimport { useCallback as useCallback4, useRef as useRef4, useState as useState6 } from \"react\";\nfunction useCallTool(name) {\n  const [{ status, data, error }, setCallToolState] = useState6({ status: \"idle\", data: void 0, error: void 0 });\n  const callIdRef = useRef4(0);\n  const execute = /* @__PURE__ */ __name(async (args) => {\n    const callId = ++callIdRef.current;\n    setCallToolState({ status: \"pending\", data: void 0, error: void 0 });\n    try {\n      let raw;\n      if (typeof window !== \"undefined\") {\n        if (window.openai?.callTool) {\n          raw = await window.openai.callTool(\n            name,\n            args\n          );\n        } else if (window !== window.parent) {\n          const bridge = getMcpAppsBridge();\n          raw = await bridge.callTool(name, args);\n        } else {\n          throw new Error(\"No tool calling interface available\");\n        }\n      } else {\n        throw new Error(\"useCallTool can only be used in browser environment\");\n      }\n      const normalized = normalizeCallToolResponse(raw);\n      if (callId === callIdRef.current) {\n        setCallToolState({\n          status: \"success\",\n          data: normalized,\n          error: void 0\n        });\n      }\n      return normalized;\n    } catch (error2) {\n      if (callId === callIdRef.current) {\n        setCallToolState({ status: \"error\", data: void 0, error: error2 });\n      }\n      throw error2;\n    }\n  }, \"execute\");\n  const callToolAsync = useCallback4(\n    ((args) => {\n      if (args === void 0) {\n        return execute(null);\n      }\n      return execute(args);\n    }),\n    [name]\n  );\n  const callTool = useCallback4(\n    ((firstArg, sideEffects) => {\n      let args;\n      if (firstArg && typeof firstArg === \"object\" && (\"onSuccess\" in firstArg || \"onError\" in firstArg || \"onSettled\" in firstArg)) {\n        args = null;\n        sideEffects = firstArg;\n      } else {\n        args = firstArg === void 0 ? null : firstArg;\n      }\n      execute(args).then((data2) => {\n        sideEffects?.onSuccess?.(data2, args);\n        sideEffects?.onSettled?.(data2, void 0, args);\n      }).catch((error2) => {\n        sideEffects?.onError?.(error2, args);\n        sideEffects?.onSettled?.(void 0, error2, args);\n      });\n    }),\n    [name]\n  );\n  const callToolState = {\n    status,\n    data,\n    error,\n    isIdle: status === \"idle\",\n    isPending: status === \"pending\",\n    isSuccess: status === \"success\",\n    isError: status === \"error\"\n  };\n  return {\n    ...callToolState,\n    callTool,\n    callToolAsync\n  };\n}\n__name(useCallTool, \"useCallTool\");\n\n// src/react/generateHelpers.ts\nfunction generateHelpers() {\n  const useCallTool2 = /* @__PURE__ */ __name((name) => {\n    return useCallTool(\n      name\n    );\n  }, \"useCallTool\");\n  const useToolInfo = /* @__PURE__ */ __name(() => {\n    return useWidget();\n  }, \"useToolInfo\");\n  return {\n    useCallTool: useCallTool2,\n    useToolInfo\n  };\n}\n__name(generateHelpers, \"generateHelpers\");\n\n// src/react/McpClientProvider.tsx\nimport React6, {\n  createContext,\n  useCallback as useCallback5,\n  useContext,\n  useEffect as useEffect6,\n  useMemo as useMemo3,\n  useRef as useRef5,\n  useState as useState7\n} from \"react\";\nvar providerLogger = Logger.get(\"McpClientProvider\");\nvar McpClientContext = createContext(null);\nvar MAX_NOTIFICATIONS = 500;\nfunction McpServerWrapper({\n  id,\n  options,\n  defaultProxyConfig,\n  defaultAutoProxyFallback,\n  clientInfo: providerClientInfo,\n  cachedMetadata,\n  onUpdate,\n  rpcWrapTransport,\n  onGlobalSamplingRequest,\n  onGlobalElicitationRequest\n}) {\n  const {\n    name,\n    onSamplingRequest,\n    onElicitationRequest,\n    onNotificationReceived,\n    wrapTransport: optionsWrapTransport\n  } = options;\n  const mcpOptions = useMemo3(() => {\n    const {\n      name: _name,\n      onSamplingRequest: _onSamplingRequest,\n      onElicitationRequest: _onElicitationRequest,\n      onNotificationReceived: _onNotificationReceived,\n      wrapTransport: _wrapTransport,\n      ...rest\n    } = options;\n    return {\n      ...rest,\n      // Use server-specific proxyConfig if provided, otherwise use default\n      proxyConfig: rest.proxyConfig || defaultProxyConfig,\n      // Use server-specific autoProxyFallback if provided, otherwise use default\n      autoProxyFallback: rest.autoProxyFallback !== void 0 ? rest.autoProxyFallback : defaultAutoProxyFallback,\n      // Merge provider clientInfo with server-specific clientInfo\n      // Server-specific takes precedence\n      clientInfo: rest.clientInfo ? providerClientInfo ? { ...providerClientInfo, ...rest.clientInfo } : rest.clientInfo : providerClientInfo,\n      // Pass cached metadata as initial server info if available\n      _initialServerInfo: cachedMetadata\n    };\n  }, [\n    options,\n    defaultProxyConfig,\n    defaultAutoProxyFallback,\n    providerClientInfo,\n    cachedMetadata\n  ]);\n  const combinedWrapTransport = useMemo3(() => {\n    if (!rpcWrapTransport && !optionsWrapTransport) return void 0;\n    return (transport) => {\n      let wrapped = transport;\n      if (rpcWrapTransport) {\n        wrapped = rpcWrapTransport(wrapped, id);\n      }\n      if (optionsWrapTransport) {\n        wrapped = optionsWrapTransport(wrapped, id);\n      }\n      return wrapped;\n    };\n  }, [rpcWrapTransport, optionsWrapTransport, id]);\n  const [notifications, setNotifications] = useState7([]);\n  const [pendingSamplingRequests, setPendingSamplingRequests] = useState7([]);\n  const samplingIdCounter = useRef5(0);\n  const [pendingElicitationRequests, setPendingElicitationRequests] = useState7([]);\n  const elicitationIdCounter = useRef5(0);\n  const markNotificationRead = useCallback5((notificationId) => {\n    setNotifications(\n      (prev) => prev.map((n) => n.id === notificationId ? { ...n, read: true } : n)\n    );\n  }, []);\n  const markAllNotificationsRead = useCallback5(() => {\n    setNotifications((prev) => prev.map((n) => ({ ...n, read: true })));\n  }, []);\n  const clearNotifications = useCallback5(() => {\n    setNotifications([]);\n  }, []);\n  const handleNotification = useCallback5(\n    (notification) => {\n      const mcpNotification = {\n        id: globalThis.crypto?.randomUUID?.() || `${Date.now()}-${Math.random()}`,\n        method: notification.method,\n        params: notification.params,\n        timestamp: Date.now(),\n        read: false\n      };\n      setNotifications((prev) => {\n        const updated = [mcpNotification, ...prev];\n        if (updated.length > MAX_NOTIFICATIONS) {\n          return updated.slice(0, MAX_NOTIFICATIONS);\n        }\n        return updated;\n      });\n      onNotificationReceived?.(mcpNotification);\n    },\n    [onNotificationReceived]\n  );\n  const approveSampling = useCallback5(\n    (requestId, result) => {\n      setPendingSamplingRequests((prev) => {\n        const request = prev.find((r) => r.id === requestId);\n        if (request) {\n          request.resolve(result);\n          return prev.filter((r) => r.id !== requestId);\n        }\n        return prev;\n      });\n    },\n    []\n  );\n  const rejectSampling = useCallback5((requestId, error) => {\n    setPendingSamplingRequests((prev) => {\n      const request = prev.find((r) => r.id === requestId);\n      if (request) {\n        request.reject(new Error(error || \"User rejected sampling request\"));\n        return prev.filter((r) => r.id !== requestId);\n      }\n      return prev;\n    });\n  }, []);\n  const samplingCallback = useCallback5(\n    async (params) => {\n      return new Promise((resolve, reject) => {\n        const requestId = `sampling-${samplingIdCounter.current++}`;\n        const request = {\n          id: requestId,\n          request: { method: \"sampling/createMessage\", params },\n          timestamp: Date.now(),\n          serverName: name || id\n        };\n        const newRequest = {\n          ...request,\n          resolve,\n          reject\n        };\n        setPendingSamplingRequests((prev) => [...prev, newRequest]);\n        onSamplingRequest?.(request);\n        onGlobalSamplingRequest?.(\n          request,\n          id,\n          name || id,\n          approveSampling,\n          rejectSampling\n        );\n      });\n    },\n    [\n      id,\n      name,\n      onSamplingRequest,\n      onGlobalSamplingRequest,\n      approveSampling,\n      rejectSampling\n    ]\n  );\n  const approveElicitation = useCallback5(\n    (requestId, result) => {\n      setPendingElicitationRequests((prev) => {\n        const request = prev.find((r) => r.id === requestId);\n        if (request) {\n          request.resolve(result);\n          return prev.filter((r) => r.id !== requestId);\n        }\n        return prev;\n      });\n    },\n    []\n  );\n  const rejectElicitation = useCallback5((requestId, error) => {\n    setPendingElicitationRequests((prev) => {\n      const request = prev.find((r) => r.id === requestId);\n      if (request) {\n        request.reject(new Error(error || \"User rejected elicitation request\"));\n        return prev.filter((r) => r.id !== requestId);\n      }\n      return prev;\n    });\n  }, []);\n  const elicitationCallback = useCallback5(\n    async (params) => {\n      return new Promise((resolve, reject) => {\n        const requestId = `elicitation-${elicitationIdCounter.current++}`;\n        const request = {\n          id: requestId,\n          request: params,\n          timestamp: Date.now(),\n          serverName: name || id\n        };\n        const newRequest = {\n          ...request,\n          resolve,\n          reject\n        };\n        setPendingElicitationRequests((prev) => [...prev, newRequest]);\n        onElicitationRequest?.(request);\n        onGlobalElicitationRequest?.(\n          request,\n          id,\n          name || id,\n          approveElicitation,\n          rejectElicitation\n        );\n      });\n    },\n    [\n      id,\n      name,\n      onElicitationRequest,\n      onGlobalElicitationRequest,\n      approveElicitation,\n      rejectElicitation\n    ]\n  );\n  const mcp = useMcp({\n    ...mcpOptions,\n    onNotification: handleNotification,\n    onSampling: samplingCallback,\n    onElicitation: elicitationCallback,\n    wrapTransport: combinedWrapTransport\n  });\n  const publicSamplingRequests = useMemo3(\n    () => pendingSamplingRequests.map((r) => ({\n      id: r.id,\n      request: r.request,\n      timestamp: r.timestamp,\n      serverName: r.serverName\n    })),\n    [pendingSamplingRequests]\n  );\n  const publicElicitationRequests = useMemo3(\n    () => pendingElicitationRequests.map((r) => ({\n      id: r.id,\n      request: r.request,\n      timestamp: r.timestamp,\n      serverName: r.serverName\n    })),\n    [pendingElicitationRequests]\n  );\n  const unreadNotificationCount = useMemo3(\n    () => notifications.filter((n) => !n.read).length,\n    [notifications]\n  );\n  const toolsFingerprint = useMemo3(() => {\n    const fingerprint = JSON.stringify(\n      mcp.tools.map((t) => ({\n        name: t.name,\n        description: t.description,\n        inputSchema: t.inputSchema,\n        _meta: t._meta\n      })).sort((a, b) => a.name.localeCompare(b.name))\n    );\n    return fingerprint;\n  }, [mcp.tools, id]);\n  const resourcesFingerprint = useMemo3(\n    () => JSON.stringify(\n      mcp.resources.map((r) => ({\n        uri: r.uri,\n        name: r.name,\n        description: r.description,\n        mimeType: r.mimeType\n      })).sort((a, b) => a.uri.localeCompare(b.uri))\n    ),\n    [mcp.resources]\n  );\n  const promptsFingerprint = useMemo3(\n    () => JSON.stringify(\n      mcp.prompts.map((p) => ({\n        name: p.name,\n        description: p.description,\n        arguments: p.arguments\n      })).sort((a, b) => a.name.localeCompare(b.name))\n    ),\n    [mcp.prompts]\n  );\n  const onUpdateRef = useRef5(onUpdate);\n  const prevServerRef = useRef5(null);\n  const prevFingerprintsRef = useRef5({ tools: \"\", resources: \"\", prompts: \"\" });\n  useEffect6(() => {\n    onUpdateRef.current = onUpdate;\n  }, [onUpdate]);\n  useEffect6(() => {\n    const server = {\n      ...mcp,\n      id,\n      url: options.url || \"\",\n      name: name || id,\n      notifications,\n      unreadNotificationCount,\n      markNotificationRead,\n      markAllNotificationsRead,\n      clearNotifications,\n      pendingSamplingRequests: publicSamplingRequests,\n      approveSampling,\n      rejectSampling,\n      pendingElicitationRequests: publicElicitationRequests,\n      approveElicitation,\n      rejectElicitation\n    };\n    const prevServer = prevServerRef.current;\n    const prevFingerprints = prevFingerprintsRef.current;\n    const toolsChanged = prevFingerprints.tools !== toolsFingerprint;\n    const resourcesChanged = prevFingerprints.resources !== resourcesFingerprint;\n    const promptsChanged = prevFingerprints.prompts !== promptsFingerprint;\n    if (!prevServer || prevServer.state !== server.state || prevServer.error !== server.error || prevServer.authUrl !== server.authUrl || toolsChanged || resourcesChanged || promptsChanged || prevServer.serverInfo !== server.serverInfo || prevServer.capabilities !== server.capabilities || prevServer.notifications.length !== server.notifications.length || prevServer.unreadNotificationCount !== server.unreadNotificationCount || prevServer.pendingSamplingRequests.length !== server.pendingSamplingRequests.length || prevServer.pendingElicitationRequests.length !== server.pendingElicitationRequests.length || !prevServer.client) {\n      prevServerRef.current = server;\n      prevFingerprintsRef.current = {\n        tools: toolsFingerprint,\n        resources: resourcesFingerprint,\n        prompts: promptsFingerprint\n      };\n      onUpdateRef.current(server);\n    } else {\n      providerLogger.debug(\n        `[McpServerWrapper ${id}] No meaningful changes detected, skipping onUpdate`\n      );\n    }\n  }, [\n    id,\n    name,\n    options.url,\n    // Primitive values that indicate meaningful state changes\n    mcp.state,\n    mcp.error,\n    mcp.authUrl,\n    // Use fingerprints to detect content changes (including renames)\n    toolsFingerprint,\n    resourcesFingerprint,\n    promptsFingerprint,\n    // serverInfo and capabilities - include for reference comparison\n    mcp.serverInfo,\n    mcp.capabilities,\n    // Functions excluded - they're stable via useCallback in useMcp\n    // mcp.log excluded - log changes shouldn't trigger provider updates\n    // mcp.client excluded - client reference stability handled by manual check\n    notifications.length,\n    unreadNotificationCount,\n    publicSamplingRequests.length,\n    publicElicitationRequests.length,\n    // Callback functions are stable via useCallback\n    markNotificationRead,\n    markAllNotificationsRead,\n    clearNotifications,\n    approveSampling,\n    rejectSampling,\n    approveElicitation,\n    rejectElicitation\n  ]);\n  return null;\n}\n__name(McpServerWrapper, \"McpServerWrapper\");\nfunction McpClientProvider({\n  children,\n  mcpServers,\n  defaultProxyConfig,\n  defaultAutoProxyFallback = true,\n  clientInfo,\n  storageProvider,\n  enableRpcLogging = false,\n  onServerAdded,\n  onServerRemoved,\n  onServerStateChange,\n  onSamplingRequest,\n  onElicitationRequest\n}) {\n  const [serverConfigs, setServerConfigs] = useState7([]);\n  const [servers, setServers] = useState7([]);\n  const [storageLoaded, setStorageLoaded] = useState7(false);\n  const cachedMetadataRef = useRef5({});\n  const [rpcWrapTransport, setRpcWrapTransport] = useState7(void 0);\n  const [rpcLoggingReady, setRpcLoggingReady] = useState7(false);\n  useEffect6(() => {\n    if (!enableRpcLogging || typeof window === \"undefined\") {\n      setRpcWrapTransport(void 0);\n      setRpcLoggingReady(true);\n      return;\n    }\n    import(\"./rpc-logger-TPNV75J4.js\").then((module) => {\n      providerLogger.debug(\"[McpClientProvider] RPC logger loaded\");\n      setRpcWrapTransport(() => module.wrapTransportForLogging);\n      setRpcLoggingReady(true);\n    }).catch((err) => {\n      providerLogger.error(\n        \"[McpClientProvider] Failed to load RPC logger:\",\n        err\n      );\n      setRpcWrapTransport(void 0);\n      setRpcLoggingReady(true);\n    });\n  }, [enableRpcLogging]);\n  useEffect6(() => {\n    if (!rpcLoggingReady) {\n      providerLogger.debug(\n        \"[McpClientProvider] Waiting for RPC logging to be ready before loading servers\"\n      );\n      return;\n    }\n    const loadServers = /* @__PURE__ */ __name(async () => {\n      providerLogger.debug(\n        \"[McpClientProvider] Loading servers, storageProvider:\",\n        !!storageProvider,\n        \"mcpServers:\",\n        mcpServers\n      );\n      if (!storageProvider) {\n        if (mcpServers) {\n          const configs = Object.entries(mcpServers).map(([id, options]) => ({\n            id,\n            options\n          }));\n          providerLogger.debug(\n            \"[McpClientProvider] Loaded from mcpServers prop:\",\n            configs.length\n          );\n          setServerConfigs(configs);\n        }\n        setStorageLoaded(true);\n        return;\n      }\n      try {\n        const storedServers = await Promise.resolve(\n          storageProvider.getServers()\n        );\n        providerLogger.debug(\n          \"[McpClientProvider] Loaded from storage:\",\n          Object.keys(storedServers).length\n        );\n        if (storageProvider.getServerMetadata) {\n          try {\n            const serverIds = Object.keys(storedServers);\n            const metadataPromises = serverIds.map(async (id) => {\n              const metadata = await Promise.resolve(\n                storageProvider.getServerMetadata(id)\n              );\n              return [id, metadata];\n            });\n            const metadataEntries = await Promise.all(metadataPromises);\n            cachedMetadataRef.current = Object.fromEntries(\n              metadataEntries.filter(\n                (entry) => entry[1] !== void 0\n              )\n            );\n            providerLogger.debug(\n              \"[McpClientProvider] Loaded cached metadata for\",\n              Object.keys(cachedMetadataRef.current).length,\n              \"servers\"\n            );\n          } catch (metadataError) {\n            providerLogger.warn(\n              \"[McpClientProvider] Failed to load cached metadata:\",\n              metadataError\n            );\n          }\n        }\n        const mergedServers = { ...storedServers, ...mcpServers };\n        const configs = Object.entries(mergedServers).map(([id, options]) => ({\n          id,\n          options\n        }));\n        providerLogger.debug(\n          \"[McpClientProvider] Total servers after merge:\",\n          configs.length\n        );\n        setServerConfigs(configs);\n        setStorageLoaded(true);\n      } catch (error) {\n        providerLogger.error(\n          \"[McpClientProvider] Failed to load from storage:\",\n          error\n        );\n        if (mcpServers) {\n          const configs = Object.entries(mcpServers).map(([id, options]) => ({\n            id,\n            options\n          }));\n          setServerConfigs(configs);\n        }\n        setStorageLoaded(true);\n      }\n    }, \"loadServers\");\n    loadServers();\n  }, [storageProvider, mcpServers, rpcLoggingReady]);\n  useEffect6(() => {\n    if (!storageProvider || !storageLoaded) return;\n    const saveServers = /* @__PURE__ */ __name(async () => {\n      try {\n        const serversToSave = serverConfigs.reduce(\n          (acc, config) => {\n            acc[config.id] = config.options;\n            return acc;\n          },\n          {}\n        );\n        await Promise.resolve(storageProvider.setServers(serversToSave));\n      } catch (error) {\n        providerLogger.error(\n          \"[McpClientProvider] Failed to save to storage:\",\n          error\n        );\n      }\n    }, \"saveServers\");\n    saveServers();\n  }, [serverConfigs, storageProvider, storageLoaded]);\n  const handleServerUpdate = useCallback5(\n    (updatedServer) => {\n      providerLogger.debug(\n        `[McpClientProvider] handleServerUpdate called for server ${updatedServer.id}`,\n        {\n          toolCount: updatedServer.tools.length,\n          state: updatedServer.state\n        }\n      );\n      const callbacksToRun = [];\n      setServers((prev) => {\n        const index = prev.findIndex((s) => s.id === updatedServer.id);\n        const isNewServer = index === -1;\n        if (isNewServer) {\n          providerLogger.debug(\n            `[McpClientProvider] Adding new server ${updatedServer.id} to state`\n          );\n          callbacksToRun.push(\n            () => onServerAdded?.(updatedServer.id, updatedServer)\n          );\n          return [...prev, updatedServer];\n        }\n        const current = prev[index];\n        const stateChanged = current.state !== updatedServer.state;\n        const serverInfoChanged = current.serverInfo !== updatedServer.serverInfo;\n        providerLogger.debug(\n          `[McpClientProvider] Comparing server ${updatedServer.id}:`,\n          {\n            toolsChanged: current.tools !== updatedServer.tools,\n            currentToolCount: current.tools.length,\n            updatedToolCount: updatedServer.tools.length,\n            stateChanged\n          }\n        );\n        if (current.state === updatedServer.state && current.tools === updatedServer.tools && current.resources === updatedServer.resources && current.prompts === updatedServer.prompts && current.error === updatedServer.error && current.serverInfo === updatedServer.serverInfo && current.client === updatedServer.client && current.notifications === updatedServer.notifications && current.unreadNotificationCount === updatedServer.unreadNotificationCount && current.pendingSamplingRequests.length === updatedServer.pendingSamplingRequests.length && current.pendingElicitationRequests.length === updatedServer.pendingElicitationRequests.length) {\n          providerLogger.debug(\n            `[McpClientProvider] No changes detected for server ${updatedServer.id}, skipping update`\n          );\n          return prev;\n        }\n        providerLogger.debug(\n          `[McpClientProvider] Updating server ${updatedServer.id} in state`\n        );\n        if (stateChanged) {\n          callbacksToRun.push(\n            () => onServerStateChange?.(updatedServer.id, updatedServer.state)\n          );\n        }\n        if (serverInfoChanged && updatedServer.serverInfo && storageProvider?.setServerMetadata) {\n          const metadata = {\n            name: updatedServer.serverInfo.name,\n            version: updatedServer.serverInfo.version,\n            title: updatedServer.serverInfo.title,\n            websiteUrl: updatedServer.serverInfo.websiteUrl,\n            icons: updatedServer.serverInfo.icons,\n            icon: updatedServer.serverInfo.icon\n          };\n          cachedMetadataRef.current[updatedServer.id] = metadata;\n          Promise.resolve(\n            storageProvider.setServerMetadata(updatedServer.id, metadata)\n          ).catch((err) => {\n            providerLogger.error(\n              \"[McpClientProvider] Failed to save server metadata:\",\n              err\n            );\n          });\n        }\n        const newServers = [...prev];\n        newServers[index] = updatedServer;\n        return newServers;\n      });\n      if (callbacksToRun.length > 0) {\n        queueMicrotask(() => {\n          callbacksToRun.forEach((callback) => callback());\n        });\n      }\n    },\n    [onServerAdded, onServerStateChange, storageProvider]\n  );\n  const addServer = useCallback5((id, options) => {\n    providerLogger.debug(\"[McpClientProvider] addServer called:\", id, options);\n    setServerConfigs((prev) => {\n      if (prev.find((s) => s.id === id)) {\n        providerLogger.warn(\n          `[McpClientProvider] Server with id \"${id}\" already exists`\n        );\n        return prev;\n      }\n      providerLogger.debug(\n        \"[McpClientProvider] Adding new server to configs:\",\n        id\n      );\n      return [...prev, { id, options }];\n    });\n  }, []);\n  const removeServer = useCallback5(\n    (id) => {\n      setServers((prev) => {\n        const server = prev.find((s) => s.id === id);\n        if (server?.disconnect) {\n          server.disconnect();\n        }\n        if (server?.clearStorage) {\n          server.clearStorage();\n        }\n        return prev.filter((s) => s.id !== id);\n      });\n      setServerConfigs((prev) => prev.filter((s) => s.id !== id));\n      onServerRemoved?.(id);\n    },\n    [onServerRemoved]\n  );\n  const updateServer = useCallback5(\n    async (id, options) => {\n      return new Promise((resolve) => {\n        const currentConfig = serverConfigs.find((s) => s.id === id);\n        if (!currentConfig) {\n          providerLogger.warn(\n            `[McpClientProvider] Cannot update server \"${id}\" - not found`\n          );\n          resolve();\n          return;\n        }\n        const updatedOptions = {\n          ...currentConfig.options,\n          ...options,\n          // Add a version counter to force React to remount the wrapper\n          _updateVersion: (currentConfig.options._updateVersion || 0) + 1\n        };\n        setServers((prev) => {\n          const server = prev.find((s) => s.id === id);\n          if (server?.disconnect) {\n            server.disconnect();\n          }\n          if (server?.clearStorage) {\n            server.clearStorage();\n          }\n          return prev.filter((s) => s.id !== id);\n        });\n        setServerConfigs((prev) => {\n          const updated = prev.map(\n            (s) => s.id === id ? { id, options: updatedOptions } : s\n          );\n          setTimeout(() => resolve(), 0);\n          return updated;\n        });\n      });\n    },\n    [serverConfigs]\n  );\n  const getServer = useCallback5(\n    (id) => {\n      return servers.find((s) => s.id === id);\n    },\n    [servers]\n  );\n  const contextValue = useMemo3(\n    () => ({\n      servers,\n      addServer,\n      removeServer,\n      updateServer,\n      getServer,\n      storageLoaded\n    }),\n    [servers, addServer, removeServer, updateServer, getServer, storageLoaded]\n  );\n  return /* @__PURE__ */ React6.createElement(McpClientContext.Provider, { value: contextValue }, children, serverConfigs.map((config) => /* @__PURE__ */ React6.createElement(\n    McpServerWrapper,\n    {\n      key: `${config.id}-v${config.options._updateVersion || 0}`,\n      id: config.id,\n      options: config.options,\n      defaultProxyConfig,\n      defaultAutoProxyFallback,\n      clientInfo,\n      cachedMetadata: cachedMetadataRef.current[config.id],\n      onUpdate: handleServerUpdate,\n      rpcWrapTransport,\n      onGlobalSamplingRequest: onSamplingRequest,\n      onGlobalElicitationRequest: onElicitationRequest\n    }\n  )));\n}\n__name(McpClientProvider, \"McpClientProvider\");\nfunction useMcpClient() {\n  const context = useContext(McpClientContext);\n  if (!context) {\n    throw new Error(\"useMcpClient must be used within a McpClientProvider\");\n  }\n  return context;\n}\n__name(useMcpClient, \"useMcpClient\");\nfunction useMcpServer(id) {\n  const { getServer } = useMcpClient();\n  return getServer(id);\n}\n__name(useMcpServer, \"useMcpServer\");\n\n// src/react/storage/LocalStorageProvider.ts\nvar LocalStorageProvider = class {\n  constructor(storageKey = \"mcp-client-servers\") {\n    this.storageKey = storageKey;\n    this.metadataKey = `${storageKey}-metadata`;\n  }\n  static {\n    __name(this, \"LocalStorageProvider\");\n  }\n  metadataKey;\n  getServers() {\n    try {\n      const stored = localStorage.getItem(this.storageKey);\n      return stored ? JSON.parse(stored) : {};\n    } catch (error) {\n      console.error(\"[LocalStorageProvider] Failed to load servers:\", error);\n      return {};\n    }\n  }\n  setServers(servers) {\n    try {\n      localStorage.setItem(this.storageKey, JSON.stringify(servers));\n    } catch (error) {\n      console.error(\"[LocalStorageProvider] Failed to save servers:\", error);\n    }\n  }\n  setServer(id, config) {\n    const servers = this.getServers();\n    servers[id] = config;\n    this.setServers(servers);\n  }\n  removeServer(id) {\n    const servers = this.getServers();\n    delete servers[id];\n    this.setServers(servers);\n    this.removeServerMetadata(id);\n  }\n  clear() {\n    try {\n      localStorage.removeItem(this.storageKey);\n      localStorage.removeItem(this.metadataKey);\n    } catch (error) {\n      console.error(\"[LocalStorageProvider] Failed to clear:\", error);\n    }\n  }\n  getAllMetadata() {\n    try {\n      const stored = localStorage.getItem(this.metadataKey);\n      return stored ? JSON.parse(stored) : {};\n    } catch (error) {\n      console.error(\"[LocalStorageProvider] Failed to load metadata:\", error);\n      return {};\n    }\n  }\n  setAllMetadata(metadata) {\n    try {\n      localStorage.setItem(this.metadataKey, JSON.stringify(metadata));\n    } catch (error) {\n      console.error(\"[LocalStorageProvider] Failed to save metadata:\", error);\n    }\n  }\n  getServerMetadata(id) {\n    const allMetadata = this.getAllMetadata();\n    return allMetadata[id];\n  }\n  setServerMetadata(id, metadata) {\n    const allMetadata = this.getAllMetadata();\n    allMetadata[id] = {\n      ...metadata,\n      cachedAt: Date.now()\n    };\n    this.setAllMetadata(allMetadata);\n  }\n  removeServerMetadata(id) {\n    const allMetadata = this.getAllMetadata();\n    delete allMetadata[id];\n    this.setAllMetadata(allMetadata);\n  }\n};\n\n// src/react/storage/MemoryStorageProvider.ts\nvar MemoryStorageProvider = class {\n  static {\n    __name(this, \"MemoryStorageProvider\");\n  }\n  storage = {};\n  metadata = {};\n  getServers() {\n    return { ...this.storage };\n  }\n  setServers(servers) {\n    this.storage = { ...servers };\n  }\n  setServer(id, config) {\n    this.storage[id] = config;\n  }\n  removeServer(id) {\n    delete this.storage[id];\n    this.removeServerMetadata(id);\n  }\n  clear() {\n    this.storage = {};\n    this.metadata = {};\n  }\n  getServerMetadata(id) {\n    return this.metadata[id];\n  }\n  setServerMetadata(id, metadata) {\n    this.metadata[id] = {\n      ...metadata,\n      cachedAt: Date.now()\n    };\n  }\n  removeServerMetadata(id) {\n    delete this.metadata[id];\n  }\n};\n\nexport {\n  useMcp,\n  ErrorBoundary,\n  Image,\n  useWidget,\n  useWidgetProps,\n  useWidgetTheme,\n  useWidgetState,\n  ThemeProvider,\n  WidgetControls,\n  McpUseProvider,\n  useCallTool,\n  generateHelpers,\n  McpClientProvider,\n  useMcpClient,\n  useMcpServer,\n  LocalStorageProvider,\n  MemoryStorageProvider\n};\n"],
  "mappings": "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",
  "names": ["fetch", "_a", "import_react", "_a", "React", "React2", "useState2", "useEffect2", "useMemo2", "useCallback2", "useState3", "useEffect3", "React3", "useState4", "useRef2", "useEffect4", "React4", "useState5", "useRef3", "useCallback3", "useEffect5", "React5", "useState6", "useRef4", "useCallback4", "useMemo3", "useState7", "useRef5", "useCallback5", "useEffect6", "React6"]
}
